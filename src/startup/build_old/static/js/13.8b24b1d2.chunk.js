(this["webpackJsonplegacyfarmer-web-client"]=this["webpackJsonplegacyfarmer-web-client"]||[]).push([[13],{1023:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(13),l=a(34),r=a(254),o=a.n(r),i=a(1610),c=a(63),s=a.n(c),d=a(0),u=a(878),b=a(307),p=a(879),j=a(309),h=a(1),m=o()({palette:{text:{secondary:"#707070",primary:"#527928"}}});function g(e){var t=e.className,a=e.name,r=e.labelKey,o=e.placeholderKey,c=e.helpKey,g=e.helperText,f=e.defaultValue,x=e.value,O=e.onChange,v=e.margin,y=void 0===v?"normal":v,S=e.InputLabelProps,C=e.InputProps,w=e.label,k=e.fullWidth,N=void 0===k||k,_=e.isFormattedNumber,R=e.variant,z=void 0===R?"outlined":R,F=e.size,D=void 0===F?"small":F,P=e.labelTemplate,I=(e.editData,e.classes),L=e.internalKey,M=e.placeholder,T=e.rows,B=(e.hidden,Object(l.a)(e,["className","name","labelKey","placeholderKey","helpKey","helperText","defaultValue","value","onChange","margin","InputLabelProps","InputProps","label","fullWidth","isFormattedNumber","variant","size","labelTemplate","editData","classes","internalKey","placeholder","rows","hidden"])),K=Object(n.a)({},I),V=(null===P||void 0===P?void 0:P.format({name:a}))||r,H=Object(b.a)(V,w),E=Object(b.a)(o)||M,W=Object(b.a)(c,g)||g,A=Object(n.a)({},C);return _&&((s()(C,"inputComponent")||s()(C,"inputProps.component"))&&console.log("isFormattedNumber cannot have a different input component.",C),A.inputComponent=p.a,A.inputProps=Object(n.a)(Object(n.a)(Object(n.a)({},s()(C,"inputProps",{})),B.inputProps||{}),{},{component:u.a})),Object(h.jsx)(j.a,{theme:m,children:Object(d.createElement)(i.a,Object(n.a)(Object(n.a)({},B),{},{key:"internal"+L,name:a,className:"".concat(K.textFieldStyle," ").concat(t),label:H,placeholder:E,helperText:W,defaultValue:f,value:x,rows:T||8,multiline:!0,onChange:O,InputProps:A,InputLabelProps:Object(n.a)(Object(n.a)({},S),{},{shrink:!0}),hidden:!0,variant:z,size:D,margin:y,fullWidth:N}))})}},1149:function(e,t,a){"use strict";a(48),a(107),a(13),a(12);var n=a(35),l=a(55),r=a(85),o=a.n(r);a(303),a(301),a(28),a(863),a(302),a(49),a(106),a(0),a(860),a(861),a(195),a(857),a(133),a(24),a(854),a(851),a(855),a(1),o()((function(e){var t;return t={formStyle:{maxHeight:"100%",width:"100%",display:"flex",flexDirection:"column"},infoRootStyle:{maxHeight:"calc(100% - ".concat(e.spacing(5),"px)"),"& > *":{marginRight:e.spacing(1)},overflow:"hidden",marginBottom:e.spacing(1)},infoInnerStyle:{padding:e.spacing(0,1)},buttonPanelStyle:{marginLeft:-8,borderTop:"solid 1px ".concat(e.palette.divider),margin:e.spacing(0,0,0,0),padding:e.spacing(1,2,0),"& > *":{marginRight:e.spacing(1)}},frameStyle:{padding:e.spacing(3,0)},"::placeholder":{color:"#707070 !important"},buttonStyle:{margin:e.spacing(1),"&:hover":{color:e.palette.error.main}},deleteColorStyle:{backgroundColor:Object(l.e)(e.palette.error.light,.7),"&:hover":{backgroundColor:Object(l.e)(e.palette.error.light,.8)}},deleteButtonStyle:{"&:hover":{color:e.palette.error.main}},addButton:{width:"100%"},btnRight:{float:"right"},textCenter:{textAlign:"center"},main:{width:"100%"},inputStyle:{backgroundColor:e.palette.background.default}},Object(n.a)(t,"frameStyle",{padding:e.spacing(4,2)}),Object(n.a)(t,"expand",{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})}),Object(n.a)(t,"expandOpen",{transform:"rotate(180deg)"}),Object(n.a)(t,"titleStyle",{paddingTop:e.spacing(2)}),Object(n.a)(t,"fadeArea",{marginTop:e.spacing(1),padding:"5px 0px 0px 6px","&:hover $fadeIn":{opacity:1,textDecoration:"underline"}}),Object(n.a)(t,"fadeIn",{opacity:1}),Object(n.a)(t,"labelRoot",{"&:hover $fadeIn":{opacity:1}}),Object(n.a)(t,"deleteColorStyle",{backgroundColor:Object(l.e)(e.palette.error.light,.7),"&:hover":{backgroundColor:Object(l.e)(e.palette.error.light,.8)}}),Object(n.a)(t,"deleteButtonStyle",{"&:hover":{color:e.palette.error.main}}),Object(n.a)(t,"buttonStyle",{height:42,backgroundColor:"#F4F4F4",position:"absolute",right:0,top:16,zIndex:1e3}),Object(n.a)(t,"treeLabelStyle",{textDecoration:"none",cursor:"pointer","&:hover":{textDecoration:"underline"}}),Object(n.a)(t,"selectedBox",{background:"rgba(0, 0, 0, 0.04)"}),Object(n.a)(t,"moduleHeading",{textDecoration:"none"}),Object(n.a)(t,"drawerStyle",{padding:e.spacing(0,2),border:" 1px solid black"}),t}),{name:"ModuleEditStyles"})},1520:function(e,t,a){"use strict";a.d(t,"a",(function(){return G}));var n=a(48),l=a.n(n),r=a(107),o=a(13),i=a(12),c=a(35),s=a(55),d=a(85),u=a.n(d),b=a(303),p=a.n(b),j=a(301),h=(a(28),a(863)),m=a(302),g=a(49),f=a(106),x=a(0),O=a.n(x),v=a(1575),y=a(860),S=a(1612),C=a(861),w=a(195),k=a(857),N=a(133),_=a(24),R=a(854),z=a(851),F=a(855),D=(a(1149),a(823)),P=a(1570),I=a(1569),L=a(869),M=a(30),T=a(1593),B=a(1597),K=a(1596),V=a(1592),H=a(1594),E=a(1595),W=a(780),A=a(1165),U=a(92),q=a.n(U),J=a(1),X=u()((function(e){var t;return t={formStyle:{height:"100%",maxHeight:"100%",width:"100%",display:"flex",flexDirection:"column"},infoRootStyle:{height:"100%",maxHeight:"100%","& > *":{marginRight:e.spacing(1)},overflow:"hidden",marginBottom:e.spacing(1)},infoInnerStyle:{padding:e.spacing(0,1)},buttonPanelStyle:{marginLeft:-8,borderTop:"solid 1px ".concat(e.palette.divider),margin:e.spacing(0,0,0,0),padding:e.spacing(1,2,0),"& > *":{marginRight:e.spacing(1)}},"::placeholder":{color:"#707070 !important"},buttonStyle:{margin:e.spacing(1),"&:hover":{color:e.palette.error.main}},deleteColorStyle:{backgroundColor:Object(s.e)(e.palette.error.light,.7),"&:hover":{backgroundColor:Object(s.e)(e.palette.error.light,.8)}},deleteButtonStyle:{"&:hover":{color:e.palette.error.main}},addButton:{width:"100%"},btnRight:{float:"right"},textCenter:{textAlign:"center"},main:{width:"100%"},inputStyle:{backgroundColor:e.palette.background.default},frameStyle:{padding:e.spacing(4,2)},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},titleStyle:{paddingTop:e.spacing(2)},tableMain:{maxHeight:"592px"},table:{height:"100%",overflow:"auto"},tableHeading:{position:"sticky",top:"0",backgroundColor:"#85AC5B",zIndex:"10",color:"#fff !important"},tableCell:{"$hover:hover &":{color:"pink"},color:"#fff !important"},tableWidth:{width:"90px"},fadeArea:{marginTop:e.spacing(1),padding:"5px 0px 0px 6px","&:hover $fadeIn":{opacity:1,textDecoration:"underline"}},fadeIn:{opacity:1},labelRoot:{"&:hover $fadeIn":{opacity:1}}},Object(c.a)(t,"deleteColorStyle",{backgroundColor:Object(s.e)(e.palette.error.light,.7),"&:hover":{backgroundColor:Object(s.e)(e.palette.error.light,.8)}}),Object(c.a)(t,"deleteButtonStyle",{"&:hover":{color:e.palette.error.main}}),Object(c.a)(t,"buttonStyle",{height:42,backgroundColor:"#F4F4F4",position:"absolute",right:0,top:16,zIndex:1e3}),Object(c.a)(t,"treeLabelStyle",{textDecoration:"none",cursor:"pointer","&:hover":{}}),Object(c.a)(t,"selectedTrBox",{background:"#cce5b0 !important"}),Object(c.a)(t,"trHover",{"&:hover":{backgroundColor:"rgb(0 0 0 / 11%)"}}),Object(c.a)(t,"moduleHeading",{textDecoration:"none"}),Object(c.a)(t,"drawerStyle",{padding:e.spacing(0,2),border:" 1px solid black"}),Object(c.a)(t,"paper",{position:"absolute",width:800,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}),t}),{name:"ModuleEditStyles"});function $(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}function G(t){var a=t.isAdmin,n=void 0!==a&&a,s=X(),d=p()(),u=Object(x.useState)({name:"",order_no:null}),b=Object(i.a)(u,2),U=b[0],G=b[1],Y=Object(x.useState)(""),Z=Object(i.a)(Y,2),Q=Z[0],ee=Z[1],te=Object(x.useState)(!1),ae=Object(i.a)(te,2),ne=ae[0],le=ae[1],re=Object(x.useState)(!1),oe=Object(i.a)(re,2),ie=oe[0],ce=oe[1],se=Object(x.useState)(0),de=Object(i.a)(se,2),ue=de[0],be=de[1],pe=Object(_.e)(j.V),je=Object(i.a)(pe,1)[0],he=Object(g.i)(),me=Object(g.h)(),ge=Object(_.e)(j.X),fe=Object(i.a)(ge,1)[0],xe=O.a.useState($),Oe=Object(i.a)(xe,1)[0],ve=Object(g.j)(),ye=ve.courseId,Se=ve.moduleId,Ce=Object(R.a)(j.W,{variables:{course_id:ye,isDeleted:!1}},"module.type"),we=Object(i.a)(Ce,1)[0];Object(h.a)({titleKey:"module.title2.label"});var ke=Object(x.useMemo)((function(){if(null===we||void 0===we?void 0:we.modules){var e,t=Object(m.sortBy)(null===we||void 0===we?void 0:we.modules,"order_no");if("undefined"!==typeof(null===(e=t=t[t.length-1])||void 0===e?void 0:e.order_no)){var a,n=parseInt((null===(a=t)||void 0===a?void 0:a.order_no)+1);be(n),G({order_no:n})}else be(1),G({order_no:1});return Object(m.sortBy)(null===we||void 0===we?void 0:we.modules,"order_no")}return[]}),[we]),Ne=function(){G({name:"",order_no:ue}),ee(""),le(!1)},_e=function(e){var t=e.target.name,a=e.target.value;a.trim().length>0?G(Object(o.a)(Object(o.a)({},U),{},Object(c.a)({},t,a))):G(Object(o.a)(Object(o.a)({},U),{},Object(c.a)({},t,"")))},Re=function(){var e=Object(r.a)(l.a.mark((function e(){var t,a,n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,e.prev=1,ce(!0),a=null,a="undefined"!==typeof U.id?{id:U.id,course_id:U.course_id,order_no:parseInt(U.order_no),name:U.name}:{id:Object(S.a)(),course_id:ye,order_no:parseInt(U.order_no),name:U.name},e.next=7,je({variables:a,optimisticResponse:{__typename:"Mutation",modules:{__typename:"Modules",id:"undefined"!==typeof U.id?U.id:Object(S.a)(),isDeleted:!1,course_id:ye,order_no:parseInt(U.order_no),name:U.name}},refetchQueries:function(){return Object(j.Jb)(ye,!1)}});case 7:"edit"===t&&(n={method:"GET",url:"https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/search?q=".concat(Q,"&q.options=%7Bfields:%5B'module_id'%5D%7D"),headers:{"content-type":"application/json","x-api-key":"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M"}},q()(n).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.hits})).then((function(e){return null===e||void 0===e?void 0:e.hit})).then((function(e){console.log("dataFound ::::::::::::::::::",e),e.map((function(e){var t={method:"POST",url:"https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document",headers:{"content-type":"application/json","x-api-key":"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M"},data:JSON.stringify([{fields:Object(o.a)(Object(o.a)({},e.fields),{},{module_name:a.name}),id:e.id,type:"add"}])};q()(t).then((function(e){console.log("Data update Successfully ::::::::::::::::::")})).catch((function(e){console.log("error while uploading data::::::::::::::::::",e)}))}))})).catch((function(e){console.log("err ::::::::::::::::::",e)}))),ce(!1),Ne(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),ce(!1);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Object(r.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&(t.stopPropagation(),t.preventDefault()),e.next=3,fe({variables:{id:null===a||void 0===a?void 0:a.id},optimisticResponse:{__typename:"Mutation",modules_Delete:{__typename:"modules_Delete",isDeleted:!0}},update:Object(z.d)(Object(j.Jb)(ye,!1),null===a||void 0===a?void 0:a.id,"modules")});case 3:me.push("/admin/course/".concat(ye));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(A.a,{open:ne,onClose:Ne,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(J.jsx)("div",{style:Oe,className:s.paper,children:Object(J.jsxs)(C.a,{onSubmit:function(){return Re(U.id?"edit":null)},className:s.formStyle,encType:"multipart/form-data",children:[Object(J.jsxs)("h2",{children:[" ",U.id?"Edit Module":"Add Module"," "]}),Object(J.jsx)(F.a,{name:"name",autoFocus:!0,labelTemplate:"lms.{name}.label",onChange:function(e){return _e(e)},value:U.name,required:!0},"name"),Object(J.jsx)(F.a,{name:"order_no",type:"number",min:"1",labelTemplate:"lms.{name}.label",onChange:function(e){return _e(e)},value:U.order_no,required:!0},"order_no"),Object(J.jsx)(w.a,{container:!0,item:!0,direction:"row",fullWidth:!0,className:s.buttonPanelStyle,justify:"space-between",overflow:"visible",resizable:!1,alignItems:"center",children:Object(J.jsxs)(w.a,{item:!0,children:[Object(J.jsx)(k.a,{isProgress:ie,variant:"text",color:"primary",type:"submit",size:"large",labelKey:"save.label",disabled:ie}),Object(J.jsx)(y.a,{variant:"text",size:"large",labelKey:"cancel.button",disabled:ie,onClick:function(){return Ne()}})]})})]})})}),Object(J.jsxs)(w.a,{container:!0,fullWidth:!0,fullHeight:!0,direction:"column",overflow:"visible",wrap:"nowrap",children:[!n&&Object(J.jsx)(w.a,{item:!0,resizable:!1,className:s.infoInnerStyle,children:Object(J.jsx)(N.a,{variant:"h5",id:"lms.title.label",color:"textSecondary",gutterBottom:!0})}),Object(J.jsx)(w.a,{item:!0,container:!0,resizable:!0,children:Object(J.jsx)(w.a,{name:"Module Edit Root",item:!0,fullWidth:!0,className:s.infoRootStyle,children:Object(J.jsxs)(w.a,{name:"Module Edit Inner",container:!0,item:!0,fullWidth:!0,className:s.infoInnerStyle,children:[Object(J.jsxs)("div",{className:s.addButton,children:[Object(J.jsx)(N.a,{variant:"h5",color:"textPrimary",className:s.moduleHeading,button:!0,component:f.b,selected:Se===e.i,children:"Modules"}),Object(J.jsx)(y.a,{startIcon:Object(J.jsx)(v.a,{}),onClick:function(){return le((function(e){return!e}))},labelKey:"module.new.button",className:s.btnRight})]}),Object(J.jsx)("div",{className:s.main,children:Object(J.jsx)(V.a,{className:s.tableMain,component:W.a,children:Object(J.jsxs)(T.a,{className:s.table,"aria-label":"simple table",children:[Object(J.jsx)(H.a,{className:s.tableHeading,children:Object(J.jsxs)(E.a,{children:[Object(J.jsx)(K.a,{className:s.tableCell,children:"#"}),Object(J.jsx)(K.a,{className:"".concat(s.tableCell," ").concat(s.tableWidth),align:"left",children:"Order No"}),Object(J.jsx)(K.a,{className:s.tableCell,align:"left",children:"Name"}),Object(J.jsx)(K.a,{className:"".concat(s.tableCell," ").concat(s.tableWidth),align:"left",children:"Action"})]})}),Object(J.jsx)(B.a,{children:"undefined"!==typeof ke&&null!==ke&&""!==ke&&ke&&ke.length>0?ke.map((function(e,t){return Object(J.jsxs)(E.a,{className:Object(M.default)(s.treeLabelStyle,s.trHover,Se===e.id&&s.selectedTrBox),onClick:function(){return function(e,t){var a;he.state={moduleData:t,courseData:null===he||void 0===he||null===(a=he.state)||void 0===a?void 0:a.courseData},he.pathname=e,me.push(he)}("/admin/course/".concat(e.course_id,"/").concat(e.id),e)},selected:Se===e.id,align:"left",children:[Object(J.jsx)(K.a,{align:"left",children:Object(J.jsx)(N.a,{variant:"subtitle1",color:"textPrimary",children:t+1})}),Object(J.jsx)(K.a,{align:"left",children:Object(J.jsx)(N.a,{variant:"subtitle1",color:"textPrimary",children:e.order_no})}),Object(J.jsx)(K.a,{align:"left",children:Object(J.jsx)(N.a,{variant:"subtitle1",color:"textPrimary",children:e.name})}),Object(J.jsxs)(K.a,{align:"left",children:[Object(J.jsx)(D.a,{size:"small",onClick:function(t){return function(e,t){e&&(e.stopPropagation(),e.preventDefault()),ee(null===t||void 0===t?void 0:t.id),G(t),le((function(e){return!e}))}(t,e)},className:s.fadeIn,children:Object(J.jsx)(P.a,{fontSize:"small"})}),Object(J.jsx)(L.a,{className:"".concat(s.fadeIn," ").concat(s.deleteButtonStyle),onConfirm:function(t){return ze(t,e)},values:{type:"module",name:e.name},messageKey:"confirmRemoveValue.message",buttonLabelKey:"delete.button",size:"small",submitStyle:s.deleteColorStyle,buttonTypographyProps:{float:"right",color:d.palette.error.dark,style:{textDecoration:"underline"}},children:Object(J.jsx)(I.a,{fontSize:"small"})})]})]},t)})):Object(J.jsx)(K.a,{colSpan:4,className:s.textCenter,children:"No module are Found"})})]})})})]})})})]})]})}},1521:function(e,t,a){"use strict";a.d(t,"a",(function(){return ne}));var n=a(48),l=a.n(n),r=a(107),o=a(64),i=a(12),c=a(13),s=a(35),d=a(55),u=a(85),b=a.n(u),p=a(303),j=a.n(p),h=a(301),m=a(28),g=a(863),f=a(302),x=a(282),O=a(49),v=a(106),y=a(0),S=a.n(y),C=a(1575),w=a(860),k=a(1612),N=a(195),_=a(133),R=a(24),z=a(854),F=a(851),D=a(1522),P=a(1534),I=a(1535),L=a(823),M=a(1570),T=a(1569),B=a(869),K=a(30),V=a(1593),H=a(1597),E=a(1596),W=a(1592),A=a(1594),U=a(1595),q=a(780),J=a(304),X=a.n(J),$=a(1602),G=a(1585),Y=a(92),Z=a.n(Y),Q=(a(1528),a(1)),ee=b()((function(e){var t;return t={formStyle:{height:"100%",maxHeight:"100%",width:"100%",display:"flex",flexDirection:"column"},errorMessage:{color:"red"},resourcesdiv:{borderBottom:"1px solid #e8e3e3",padding:"5px 0px"},labelTd:{width:"300px"},fileTd:{width:"400px"},pdfCursor:{color:"rgb(107,146,65)",cursor:"pointer",wordBreak:"break-all"},processingRoot:{clear:"both",width:"100%",textAlign:"center"},resources:{textAlign:"center",justifyContent:"center",display:"flex"},resourcesViewTable:{maxWidth:"800px",marginLeft:"50px",textAlign:"center"},resourcesTable:{maxWidth:"550px",textAlign:"center"},infoRootStyle:{height:"100%",maxHeight:"100%","& > *":{marginRight:e.spacing(1)},overflow:"hidden",marginBottom:e.spacing(1)},infoInnerStyle:{padding:e.spacing(0,1)},buttonPanelStyle:{margin:e.spacing(0,0,0,0),"& > *":{marginRight:e.spacing(1)}},"::placeholder":{color:"#707070 !important"},buttonStyle:{margin:e.spacing(1),"&:hover":{color:e.palette.error.main}},deleteColorStyle:{backgroundColor:Object(d.e)(e.palette.error.light,.7),"&:hover":{backgroundColor:Object(d.e)(e.palette.error.light,.8)}},deleteButtonStyle:{"&:hover":{color:e.palette.error.main}},addButton:{width:"100%"},btnRight:{float:"right"},textCenter:{textAlign:"center"},main:{width:"100%"},inputStyle:{backgroundColor:e.palette.background.default},frameStyle:{padding:e.spacing(4,2)},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},titleStyle:{paddingTop:e.spacing(2)},tableMain:{maxHeight:"592px"},table:{height:"100%",overflow:"auto"},tableHeading:{position:"sticky",top:"0",backgroundColor:"#85AC5B",zIndex:"10",color:"#fff !important"},tableCell:{"$hover:hover &":{color:"pink"},color:"#fff !important"},tableWidth:{width:"90px"},fadeArea:{marginTop:e.spacing(1),padding:"5px 0px 0px 6px","&:hover $fadeIn":{opacity:1,textDecoration:"underline"}},fadeIn:{opacity:1},labelRoot:{"&:hover $fadeIn":{opacity:1}}},Object(s.a)(t,"deleteColorStyle",{backgroundColor:Object(d.e)(e.palette.error.light,.7),"&:hover":{backgroundColor:Object(d.e)(e.palette.error.light,.8)}}),Object(s.a)(t,"deleteButtonStyle",{"&:hover":{color:e.palette.error.main}}),Object(s.a)(t,"buttonStyle",{height:42,backgroundColor:"#F4F4F4",position:"absolute",right:0,top:16,zIndex:1e3}),Object(s.a)(t,"treeLabelStyle",{textDecoration:"none",cursor:"pointer","&:hover":{}}),Object(s.a)(t,"selectedBox",{background:"rgba(0, 0, 0, 0.04)"}),Object(s.a)(t,"moduleHeading",{textDecoration:"none"}),Object(s.a)(t,"drawerStyle",{padding:e.spacing(0,2),border:" 1px solid black"}),Object(s.a)(t,"textFieldHidden",{background:"white",color:"white",marginTop:"30px",zIndex:"-9999",position:"absolute"}),Object(s.a)(t,"height","500px"),Object(s.a)(t,"paper",{position:"absolute",width:800,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),maxHeight:"700px",overflow:"auto"}),Object(s.a)(t,"ckEditorEdit",{height:"100%",minHeight:"400px"}),Object(s.a)(t,"errorMessage",{color:"red"}),Object(s.a)(t,"textAreaEditor",{borderColor:"rgba(0, 0, 0, 0.23)",border:"0.5px solid",borderRadius:"6px"}),Object(s.a)(t,"legendColor",{color:"#527928",fontSize:"13px"}),Object(s.a)(t,"maxWidthEditor",{maxHeight:"400px",height:"100%",width:"100%",wordBreak:"break-all",overflow:"auto"}),Object(s.a)(t,"modalHeading",{borderBottom:"1px solid lightgray"}),Object(s.a)(t,"dialogBody",{color:"#707070"}),Object(s.a)(t,"viewHeading",{marginTop:"10px"}),Object(s.a)(t,"viewDescription",{margin:"20px 0px"}),Object(s.a)(t,"viewTranscript",{}),Object(s.a)(t,"button",{float:"right"}),Object(s.a)(t,"floatRight",{float:"right"}),Object(s.a)(t,"radioButton",{display:"inline-block !important"}),t}),{name:"ModuleEditStyles"});function te(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}function ae(e){return Object(Q.jsxs)(G.a,{display:"flex",alignItems:"center",children:[Object(Q.jsx)(G.a,{width:"100%",mr:1,children:Object(Q.jsx)($.a,Object(c.a)({variant:"determinate"},e))}),Object(Q.jsx)(G.a,{minWidth:35,children:Object(Q.jsx)(_.a,{variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}function ne(t){var a=t.isAdmin,n=void 0!==a&&a,d=Object(O.i)(),u=(Object(O.h)(),ee()),b=j()(),p=Object(y.useState)({defaultId:Object(k.a)(),name:"",description:"",fileLocation:"",originalFilename:"",transcript:""}),J=Object(i.a)(p,2),$=J[0],G=J[1],Y=Object(y.useState)({name:"",description:"",originalFilename:"",transcript:"",label:"",original_filename:""}),ne=Object(i.a)(Y,2),le=ne[0],re=(ne[1],Object(y.useState)([{id:"",unit_id:"",label:"",type:"",path_url:"",original_filename:"",selectedValue:"pdf",uploadingResources:!1,uploadingResourcesPercentage:0,error:"",errorMessage:"",db:!1}])),oe=Object(i.a)(re,2),ie=oe[0],ce=oe[1],se=Object(y.useState)([{id:"",unit_id:"",label:"",type:"",path_url:"",original_filename:"",uploadingResources:!1,uploadingResourcesPercentage:0,error:"",errorMessage:"",db:!1}]),de=Object(i.a)(se,2),ue=de[0],be=de[1],pe=Object(y.useState)(!1),je=Object(i.a)(pe,2),he=je[0],me=je[1],ge=Object(y.useState)(!1),fe=Object(i.a)(ge,2),xe=fe[0],Oe=fe[1],ve=Object(y.useState)(!1),ye=Object(i.a)(ve,2),Se=ye[0],Ce=ye[1],we=Object(y.useState)(!1),ke=Object(i.a)(we,2),Ne=ke[0],_e=ke[1],Re=Object(y.useState)(!1),ze=Object(i.a)(Re,2),Fe=ze[0],De=ze[1],Pe=Object(y.useState)(!1),Ie=Object(i.a)(Pe,2),Le=Ie[0],Me=Ie[1],Te=Object(y.useState)(!1),Be=Object(i.a)(Te,2),Ke=Be[0],Ve=Be[1],He=Object(y.useState)(!1),Ee=Object(i.a)(He,2),We=Ee[0],Ae=Ee[1],Ue=Object(y.useState)(0),qe=Object(i.a)(Ue,2),Je=qe[0],Xe=qe[1],$e=Object(y.useState)(0),Ge=Object(i.a)($e,2),Ye=Ge[0],Ze=Ge[1],Qe=Object(y.useState)(0),et=Object(i.a)(Qe,2),tt=et[0],at=et[1],nt=Object(y.useState)(0),lt=Object(i.a)(nt,2),rt=lt[0],ot=lt[1],it=Object(y.useState)(!1),ct=Object(i.a)(it,2),st=ct[0],dt=ct[1],ut=Object(y.useState)(null),bt=Object(i.a)(ut,2),pt=bt[0],jt=bt[1],ht=Object(y.useState)(null),mt=Object(i.a)(ht,2),gt=mt[0],ft=mt[1],xt=Object(y.useState)(!1),Ot=Object(i.a)(xt,2),vt=Ot[0],yt=Ot[1],St=Object(R.e)(h.nb),Ct=Object(i.a)(St,1)[0],wt=Object(R.e)(h.ob),kt=Object(i.a)(wt,1)[0],Nt=Object(R.e)(h.sb),_t=Object(i.a)(Nt,1)[0],Rt=Object(R.e)(h.qb),zt=(Object(i.a)(Rt,1)[0],Object(R.e)(h.Z)),Ft=Object(i.a)(zt,1)[0],Dt=Object(R.e)(h.ab),Pt=(Object(i.a)(Dt,1)[0],S.a.useState(te)),It=(Object(i.a)(Pt,1)[0],Object(y.useState)("pdf")),Lt=Object(i.a)(It,2),Mt=Lt[0],Tt=Lt[1],Bt=Object(y.useState)(0),Kt=Object(i.a)(Bt,2),Vt=Kt[0],Ht=Kt[1],Et=Object(O.j)(),Wt=Et.moduleId,At=(Et.courseId,Object(z.a)(h.mb,{variables:{module_id:Wt,isDeleted:!1}},"unit.type")),Ut=Object(i.a)(At,1)[0];Object(g.a)({titleKey:"unit.title.label"}),Object(y.useEffect)((function(){G({defaultId:Object(k.a)(),name:"",description:"",fileLocation:"",originalFilename:"",transcript:""}),dt(!1)}),[st]);var qt=Object(y.useMemo)((function(){return(null===Ut||void 0===Ut?void 0:Ut.units)?Object(f.sortBy)(null===Ut||void 0===Ut?void 0:Ut.units,"order_no"):[]}),[Ut]),Jt=function(e,t){var a=Object(o.a)(ie);void 0!==a[t]&&(a[t].id="",a[t].unit_id="",a[t].label="",a[t].type="",a[t].path_url="",a[t].original_filename="",a[t].selectedValue=e.target.value,a[t].uploadingResources=!1,a[t].uploadingResourcesPercentage=0,a[t].error="",a[t].errorMessage="",a[t].db=!1,ce(a))},Xt=function(){var e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_e(!1),dt(!0),Me(!1),Ve(!1),Ae(!1),Xe(0),Ze(0),ot(0),at(0),Ce(!1),De(!1),Oe(!1),G({defaultId:Object(k.a)(),name:"",description:"",fileLocation:"",originalFilename:"",transcript:""}),Tt("pdf"),be([{id:"",unit_id:"",label:"",type:"",path_url:"",original_filename:"",error:"",errorMessage:"",db:!1}]),ce([{id:"",unit_id:"",label:"",type:"",path_url:"",original_filename:"",selectedValue:"pdf",uploadingResources:!1,uploadingResourcesPercentage:0,error:"",errorMessage:"",db:!1}]),ft(null),jt(null);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function $t(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,l=0;l<e;l++)t+=a.charAt(Math.floor(Math.random()*n));return t}var Gt=function(){var e=Object(r.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="lms/upload/".concat(t.originalFilename),Oe(!0),me(!0),e.next=5,x.a.remove(n);case 5:return me(!1),G(Object(c.a)(Object(c.a)({},$),{},{fileLocation:"",originalFilename:""})),e.next=9,_t({variables:{id:a},optimisticResponse:{introVideo:null},update:Object(F.d)(Object(h.Pb)(Wt,!1),a,"units")});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n,r,o,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,n=t.target.files[0],r=n.name.substring(n.name.lastIndexOf(".")+1,n.name.length),console.log("ext :::::::::",r),"mov"!=r&&"mp4"!=r){e.next=32;break}if(e.prev=5,"undefined"===typeof n||!n||"undefined"===typeof $.fileLocation||""===$.fileLocation||null===$.fileLocation){e.next=12;break}return o="lms/upload/".concat($.originalFilename),Ve(!1),Xe(0),e.next=12,x.a.remove(o);case 12:if("undefined"===typeof n||!n){e.next=22;break}return console.log("file",n),i="".concat(X()().unix()+$t(5),".").concat(r),console.log(i),s="lms/upload/".concat(i),Ve(!0),G(Object(c.a)(Object(c.a)({},$),{},{fileLocation:"".concat(m.K,"/").concat(s),originalFilename:i})),e.next=21,x.a.put(s,n,{level:"public",contentType:n.type,progressCallback:function(e){Xe(e.loaded/e.total*100),console.log("Uploaded: ".concat(e.loaded,"/").concat(e.total))},completeCallback:function(e){Xe(100),console.log("Successfully uploaded ".concat(e.key))},errorCallback:function(e){console.error("Unexpected error while uploading",e)}});case 21:a=e.sent;case 22:e.next=30;break;case 24:e.prev=24,e.t0=e.catch(5),Ve(!1),Xe(0),x.a.cancel(a),console.log(e.t0);case 30:e.next=34;break;case 32:jt("introVideo"),ft("Only .mp4 and .mov are allowed!");case 34:case"end":return e.stop()}}),e,null,[[5,24]])})));return function(t){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(r.a)(l.a.mark((function e(t,a){var n,r,i,c,s,d,u,b=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=b.length>2&&void 0!==b[2]?b[2]:null,r=a.target.value,i=r.trim(),console.log("trim ::::",i),null!==n&&"undefined"!==typeof n&&""!==n?i.length>0?(console.log("hi"),(c=Object(o.a)(ue))[t].label=i,be(c)):(console.log("hello"),(s=Object(o.a)(ue))[t].label="",be(s)):i.length>0?(console.log("hi 1"),(d=Object(o.a)(ie))[t].label=i,ce(d)):(console.log("hi 2"),(u=Object(o.a)(ie))[t].label="",ce(u));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(r.a)(l.a.mark((function e(t,a,n){var r,i,c,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==(r=s.length>3&&void 0!==s[3]?s[3]:null)&&"undefined"!==typeof r&&""!==r?((i=Object(o.a)(ue))[t].path_url=a.target.value,be(i)):((c=Object(o.a)(ie))[t].id=Object(k.a)(),c[t].unit_id="undefined"!==typeof $.id&&$.id?$.id:$.defaultId,c[t].type=n,c[t].path_url=a.target.value,ce(c));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ea=function(){var e=Object(r.a)(l.a.mark((function e(t,a,n,r){var i,c,s,d,u,b,p,j,h,m,g;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.target.files[0],c=null,s=0,d=i.name.substring(i.name.lastIndexOf(".")+1,i.name.length),console.log("file",i),i.type.split("/")[1],console.log(n,"fileType",d),u=Object(o.a)(ie),console.log("type :::::::::::::",n),console.log("ext :::::::::::::",d),!("xlsx"===n&&"xlsx"===d||"pdf"===n&&"pdf"===d||"xlsx"===n&&"xls"===d)){e.next=54;break}if(("pdf"===n||"xlsx"===n)&&(u[t].error="",u[t].errorMessage=""),u[t].uploadingResources=!1,u[t].uploadingResourcesPercentage=0,e.prev=14,!("undefined"!==typeof i&&(null===(b=a.target.files)||void 0===b?void 0:b.length)>0&&"undefined"!==typeof u[t].path_url&&""!==u[t].path_url&&null!==u[t].path_url)){e.next=25;break}if(null===u[t].path_url||""===u[t].path_url){e.next=25;break}return p=null,"v"===u[t].type?p="lms/unit/resources/videos/".concat(u[t].path_url):"i"===u[t].type?p="lms/unit/resources/images/".concat(u[t].path_url):"pdf"===u[t].type?p="lms/unit/resources/pdf/".concat(u[t].path_url):"xlsx"===u[t].type&&(p="lms/unit/resources/xlsx/".concat(u[t].path_url)),j=p,console.log("removeKey",j),u[t].uploadingResources=!1,u[t].uploadingResourcesPercentage=0,e.next=25,x.a.remove(j);case 25:if(h=null,"v"===n?h="videos":"i"===n?h="images":"pdf"===n?h="pdf":"xlsx"===n&&(h="xlsx"),at(null===i||void 0===i?void 0:i.length),"undefined"===typeof i||!i){e.next=42;break}return m="".concat(X()().unix()+$t(5),".").concat(d),console.log(m),g="lms/unit/resources/".concat(h,"/").concat(m),u[t].uploadingResources=!0,u[t].id=Object(k.a)(),u[t].unit_id="undefined"!==typeof $.id&&$.id?$.id:$.defaultId,u[t].type=n,u[t].path_url="".concat(g),u[t].original_filename=i.name,e.next=40,x.a.put(g,i,{level:"public",contentType:i.type,progressCallback:function(e){u[t].uploadingResourcesPercentage=e.loaded/e.total*100,e.loaded/e.total*100===100&&s++},completeCallback:function(e){Ze(100),u[t].uploadingResourcesPercentage=100},errorCallback:function(e){console.error("Unexpected error while uploading",e)}});case 40:c=e.sent,ot(s);case 42:ce(u),e.next=52;break;case 45:e.prev=45,e.t0=e.catch(14),u[t].uploadingResources=!1,u[t].uploadingResourcesPercentage=0,x.a.cancel(c),ce(u),console.log(e.t0);case 52:e.next=56;break;case 54:"pdf"===n?(u[t].error=n,u[t].errorMessage="Only pdf are allowed!"):"xlsx"===n&&(u[t].error=n,u[t].errorMessage="Only .xlsx and .xls are allowed!"),ce(u);case 56:case"end":return e.stop()}}),e,null,[[14,45]])})));return function(t,a,n,l){return e.apply(this,arguments)}}(),ta=function(e){G(Object(c.a)(Object(c.a)({},$),{},{description:e}))},aa=function(e){var t=e.target.name,a=e.target.value;a.trim().length>0?G(Object(c.a)(Object(c.a)({},$),{},Object(s.a)({},t,a))):G(Object(c.a)(Object(c.a)({},$),{},Object(s.a)({},t,"")))},na=function(){var e=Object(r.a)(l.a.mark((function e(){var t,a,n,r,i,s,u,b,p,j,m,g,f,x,O,v,y;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(o.a)(ie),100!==Je&&100!==Ye&&!$.id){e.next=34;break}return e.prev=2,null===(a=t[0])||void 0===a?void 0:a.unit_id,i=null,Me(!0),"undefined"!==typeof $.id&&(i=t.length>0&&""!==t[0].label?Object(c.a)(Object(c.a)({},$),{},{module_id:Wt,resources:JSON.stringify(t)}):Object(c.a)(Object(c.a)({},$),{},{module_id:Wt})),e.next=9,Ct({variables:i,optimisticResponse:{__typename:"Mutation",units:Object(c.a)(Object(c.a)({__typename:"Units",module_id:Wt,isDeleted:!1,introVideo:$.fileLocation},$),{},{resources:JSON.stringify(t)})},refetchQueries:Object(h.Pb)(Wt,!1)});case 9:if(s=null===d||void 0===d||null===(n=d.state)||void 0===n?void 0:n.courseData,u=null===d||void 0===d||null===(r=d.state)||void 0===r?void 0:r.moduleData,p=(b=i).id,j=b.name,m=b.description,g=b.transcript,f=[],!((null===(x=JSON.parse(null===s||void 0===s?void 0:s.keywords))||void 0===x?void 0:x.length)>0)){e.next=17;break}return e.next=17,x.map((function(e){f.push(e.text)}));case 17:return e.next=19,la(m);case 19:return O=e.sent,v=!1,y={method:"POST",url:"https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document",headers:{"content-type":"application/json","x-api-key":"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M"},data:JSON.stringify([{id:p,type:"delete"}])},e.next=24,Z()(y).then((function(e){v=!0,console.log("res ::::::::::::::::::",e.data)})).catch((function(e){console.log("err :::::::::::::::::: delete",e)}));case 24:!0===v&&(y={method:"POST",url:"https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document",headers:{"content-type":"application/json","x-api-key":"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M"},data:JSON.stringify([{fields:{name:j,description:O,transcript:g,id:p,module_id:u.id,module_name:u.name,course_description:s.description,course_keywords:f,course_name:s.name,course_id:s.id},id:p,type:"add"}])},Z()(y).then((function(e){console.log("Data update!")})).catch((function(e){console.log("err :::::::::::::::::: edit",e)}))),Me(!1),Xt(),e.next=34;break;case 29:e.prev=29,e.t0=e.catch(2),console.log(e.t0),Me(!1),Xt();case 34:case"end":return e.stop()}}),e,null,[[2,29]])})));return function(){return e.apply(this,arguments)}}(),la=function(e){return null!==e&&""!==e&&(e=e.toString()).replace(/(<([^>]+)>)/gi,"")},ra=function(){var e=Object(r.a)(l.a.mark((function e(){var t,a,n,r,o,i,s,u,b,p,j,m,g,f,x;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G(Object(c.a)(Object(c.a)({},$),{},{resources:ie})),100!==Je&&100!==Ye){e.next=32;break}return e.prev=2,n=null,Me(!0),n=Object(c.a)(Object(c.a)({id:$.defaultId,module_id:Wt},$),{},{resources:JSON.stringify(ie)}),e.next=8,Ct({variables:n,optimisticResponse:{__typename:"Mutation",units:Object(c.a)(Object(c.a)({__typename:"Units",id:$.defaultId,module_id:Wt,isDeleted:!1,introVideo:$.fileLocation},$),{},{resources:ie})},refetchQueries:Object(h.Pb)(Wt,!1)});case 8:if(r=null===d||void 0===d||null===(t=d.state)||void 0===t?void 0:t.courseData,o=null===d||void 0===d||null===(a=d.state)||void 0===a?void 0:a.moduleData,s=(i=n).id,u=i.name,b=i.description,p=i.transcript,j=[],!((null===(m=JSON.parse(null===r||void 0===r?void 0:r.keywords))||void 0===m?void 0:m.length)>0)){e.next=16;break}return e.next=16,JSON.parse(null===r||void 0===r?void 0:r.keywords).map((function(e){j.push(e.name)}));case 16:return console.log("keywords :::::::::::",j),e.next=19,la(b);case 19:g=e.sent,f=JSON.stringify([{fields:{name:u,description:g,transcript:p,id:s,module_id:o.id,module_name:o.name,course_description:r.description,course_keywords:j,course_name:r.name,course_id:r.id},id:s,type:"add"}]),x={method:"POST",url:"https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document",headers:{"content-type":"application/json","x-api-key":"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M"},data:f},Z()(x).then((function(e){console.log("res ::::::::::::::::::",e.data)})).catch((function(e){console.log("err :::::::::::::::::: add",e)})),Me(!1),Xt(),e.next=32;break;case 27:e.prev=27,e.t0=e.catch(2),console.log(e.t0),Me(!1),Xt();case 32:case"end":return e.stop()}}),e,null,[[2,27]])})));return function(){return e.apply(this,arguments)}}(),oa=function(){var e=Object(r.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&(t.stopPropagation(),t.preventDefault()),e.next=3,kt({variables:{id:null===a||void 0===a?void 0:a.id},optimisticResponse:{__typename:"Mutation",units_Delete:{__typename:"units_Delete",isDeleted:!0}},update:Object(F.d)(Object(h.Pb)(Wt,!1),null===a||void 0===a?void 0:a.id,"units")});case 3:n={method:"POST",url:"https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document",headers:{"content-type":"application/json","x-api-key":"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M"},data:JSON.stringify([{id:null===a||void 0===a?void 0:a.id,type:"delete"}])},Z()(n).then((function(e){console.log("res ::::::::::::::::::",e.data)})).catch((function(e){console.log("err :::::::::::::::::: delete",e)}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ia=function(){ce([].concat(Object(o.a)(ie),[{id:"",unit_id:"",label:"",type:"",path_url:"",original_filename:"",selectedValue:"pdf",uploadingResources:!1,uploadingResourcesPercentage:0,error:"",errorMessage:"",db:!1}]))},ca=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(a=Object(o.a)(ie))[t].path_url||""===a[t].path_url||"url"===a[t].type){e.next=6;break}return n=a[t].path_url,console.log("removeKey",n),e.next=6,x.a.remove(n);case 6:a.splice(t,1),ce(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sa=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(a=Object(o.a)(ie))[t].path_url||""===a[t].path_url||"url"===a[t].type){e.next=6;break}return n=a[t].path_url,console.log("removeKey",n),e.next=6,x.a.remove(n);case 6:a.splice(t,1),r={id:"",unit_id:"",label:"",type:"",path_url:"",original_filename:"",selectedValue:"pdf",uploadingResources:!1,uploadingResourcesPercentage:0,error:"",errorMessage:"",db:!1},ce([].concat(Object(o.a)(a),[r]));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),da=function(){var e=Object(r.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(o.a)(ie),"url"===t.type){e.next=5;break}return r=t.path_url,e.next=5,x.a.remove(r);case 5:return e.next=7,Ft({variables:{id:t.id},optimisticResponse:{introVideo:null},update:Object(F.d)(Object(h.Kb)(t.unit_id,!1),t.id,"units")});case 7:n.splice(a,1),ce(n);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(D.a,{viewNew:Fe,classes:u,editValues:$,resourcesData:vt,handleClose:Xt}),Se?Object(Q.jsx)(P.a,{addNew:Se,formErrors:le,remove:xe,handleSubmit:ra,processing:he,handleRemove:Gt,classes:u,isSaving:Le,uploading:Ke,uploadingPercentage:Je,editValues:$,totalFiles:tt,uploadedFiles:rt,uploadingResources:We,uploadingResourcesPercentage:Ye,handleChange:aa,handleEditorChange:ta,handleClose:Xt,handleFile:Yt,handleResources:ea,handleResourcesLabel:Zt,handleUrl:Qt,LinearProgressWithLabel:ae,inputFields:ie,addFields:ia,removeFields:ca,handleRadioChange:Jt,selectedValue:Mt,removeFieldData:sa,error:pt,errorMessage:gt}):null,Ne?Object(Q.jsx)(I.a,{edit:Ne,remove:xe,handleRadioChange:Jt,selectedValue:Mt,handleEditSubmit:na,processing:he,handleRemove:Gt,classes:u,isSaving:Le,uploading:Ke,uploadingPercentage:Je,editValues:$,totalFiles:tt,uploadedFiles:rt,uploadingResources:We,uploadingResourcesPercentage:Ye,handleChange:aa,handleEditorChange:ta,handleClose:Xt,handleFile:Yt,handleResources:ea,LinearProgressWithLabel:ae,inputFields:ie,addFields:ia,removeFields:ca,removeFieldData:sa,handleRemoveResources:da,resourcesLength:Vt,handleResourcesLabel:Zt,handleUrl:Qt,setInputFields:ce}):null,Object(Q.jsxs)(N.a,{container:!0,fullWidth:!0,fullHeight:!0,direction:"column",overflow:"visible",wrap:"nowrap",children:[!n&&Object(Q.jsx)(N.a,{item:!0,resizable:!1,className:u.infoInnerStyle,children:Object(Q.jsx)(_.a,{variant:"h5",id:"lms.title.label",color:"textSecondary",gutterBottom:!0})}),Object(Q.jsx)(N.a,{item:!0,container:!0,resizable:!0,children:Object(Q.jsx)(N.a,{name:"Unit Edit Root",item:!0,fullWidth:!0,className:u.infoRootStyle,children:Object(Q.jsxs)(N.a,{name:"Unit Edit Inner",container:!0,item:!0,fullWidth:!0,className:u.infoInnerStyle,children:[Object(Q.jsxs)("div",{className:u.addButton,children:[Object(Q.jsx)(_.a,{variant:"h5",color:"textPrimary",className:u.moduleHeading,button:!0,component:v.b,children:"Units"}),Object(Q.jsx)(w.a,{startIcon:Object(Q.jsx)(C.a,{}),onClick:Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xt();case 2:Ce((function(e){return!e}));case 3:case"end":return e.stop()}}),e)}))),labelKey:"unit.new.button",className:u.btnRight})]}),Object(Q.jsx)("div",{className:u.main,children:Object(Q.jsx)(W.a,{className:u.tableMain,component:q.a,children:Object(Q.jsxs)(V.a,{className:u.table,"aria-label":"simple table",children:[Object(Q.jsx)(A.a,{className:u.tableHeading,children:Object(Q.jsxs)(U.a,{children:[Object(Q.jsx)(E.a,{className:u.tableCell,children:"#"}),Object(Q.jsx)(E.a,{className:u.tableCell,align:"left",children:"Name"}),Object(Q.jsx)(E.a,{className:"".concat(u.tableCell," ").concat(u.tableWidth),align:"left",children:"Action"})]})}),Object(Q.jsx)(H.a,{children:"undefined"!==typeof qt&&null!==qt&&""!==qt&&qt&&qt.length>0?qt.map((function(t,a){return Object(Q.jsxs)(U.a,{className:Object(K.default)(u.treeLabelStyle,u.trHover,Wt===e.i&&u.selectedTrBox),selected:Wt===e.i,onClick:function(e){return function(e,t){e&&(e.stopPropagation(),e.preventDefault()),G(t);var a=t.resources;yt(a),De(!0)}(e,t)},align:"left",children:[Object(Q.jsx)(E.a,{align:"left",children:Object(Q.jsx)(_.a,{variant:"subtitle1",color:"textPrimary",children:a+1})}),Object(Q.jsx)(E.a,{align:"left",children:Object(Q.jsx)(_.a,{variant:"subtitle1",color:"textPrimary",children:t.name})}),Object(Q.jsxs)(E.a,{align:"left",children:[Object(Q.jsx)(L.a,{size:"small",onClick:function(e){return function(e,t){e&&(e.stopPropagation(),e.preventDefault());var a=JSON.parse(t.introVideo);G(Object(c.a)(Object(c.a)({},t),{},{fileLocation:null===a||void 0===a?void 0:a.fileLocation,originalFilename:null===a||void 0===a?void 0:a.originalFilename}));var n=t.resources;Ht(null===n||void 0===n?void 0:n.length);var l=[];(null===n||void 0===n?void 0:n.length)>0&&(Object(f.sortBy)(n,"label").map((function(e){var t=e.id,a=e.unit_id,n=e.label,r=e.type,o=e.path_url,i=e.original_filename;l.push({id:t,unit_id:a,label:n,type:r,path_url:o,original_filename:i,selectedValue:r,uploadingResources:!1,uploadingResourcesPercentage:0,db:!0})})),be(l),ce(l)),_e(!0)}(e,t)},className:u.fadeIn,children:Object(Q.jsx)(M.a,{fontSize:"small"})}),Object(Q.jsx)(B.a,{className:"".concat(u.fadeIn," ").concat(u.deleteButtonStyle),onConfirm:function(e){return oa(e,t)},values:{type:"unit",name:t.name},messageKey:"confirmRemoveValue.message",buttonLabelKey:"delete.button",size:"small",submitStyle:u.deleteColorStyle,buttonTypographyProps:{float:"right",color:b.palette.error.dark,style:{textDecoration:"underline"}},children:Object(Q.jsx)(T.a,{fontSize:"small"})})]})]},a)})):Object(Q.jsx)(E.a,{colSpan:4,className:u.textCenter,children:"No unit are Found"})})]})})})]})})})]})]})}},1522:function(e,t,a){"use strict";a(0);var n=a(1565),l=a(1568),r=a(1567),o=a(1601),i=a(1566),c=a(822),s=a(884),d=(a(854),a(301),a(1));t.a=function(e){var t=e.resourcesData,a=e.editValues,u=e.viewNew,b=e.classes,p=e.handleClose,j=function(e,t){Object(s.saveAs)("https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/".concat(e),t)};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(n.a,{open:u,onClose:p,scroll:"paper",fullWidth:!0,maxWidth:"md","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(d.jsx)(i.a,{id:"scroll-dialog-title",children:"View Unit"}),Object(d.jsx)(r.a,{dividers:!0,children:Object(d.jsxs)(o.a,{id:"scroll-dialog-description",tabIndex:-1,className:b.dialogBody,children:[a.introVideo?Object(d.jsx)("video",{width:"100%",height:"400",controls:!0,children:Object(d.jsx)("source",{src:"https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/lms/upload/".concat(JSON.parse(a.introVideo).originalFilename)})}):null,Object(d.jsx)("h3",{className:b.viewHeading,children:a.name}),Object(d.jsx)("h4",{children:"Description "}),Object(d.jsx)("div",{className:b.viewDescription,children:Object(d.jsx)("p",{dangerouslySetInnerHTML:{__html:a.description}})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h4",{children:"Resources "}),Object(d.jsx)("div",{children:Object(d.jsx)("table",{className:b.resourcesViewTable,children:(null===t||void 0===t?void 0:t.length)>0&&t.map((function(e,t){return Object(d.jsxs)(d.Fragment,{children:["v"===e.type&&Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:Object(d.jsx)("video",{width:"100%",height:"250",controls:!0,children:Object(d.jsx)("source",{src:"https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/".concat(e.path_url)})})})}),"i"===e.type&&Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:Object(d.jsx)("img",{src:"https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/".concat(e.path_url),height:"150",alt:"image"})})}),"pdf"===e.type&&Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsxs)("svg",{height:"100%",width:"40px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 303.188 303.188",style:{enableBackground:"new 0 0 303.188 303.188"},xmlSpace:"preserve",children:[Object(d.jsxs)("g",{children:[Object(d.jsx)("polygon",{style:{fill:"#E8E8E8"},points:"219.821,0 32.842,0 32.842,303.188 270.346,303.188 270.346,50.525 \t"}),Object(d.jsx)("path",{style:{fill:"#FB3449"},d:"M230.013,149.935c-3.643-6.493-16.231-8.533-22.006-9.451c-4.552-0.724-9.199-0.94-13.803-0.936\r c-3.615-0.024-7.177,0.154-10.693,0.354c-1.296,0.087-2.579,0.199-3.861,0.31c-1.314-1.36-2.584-2.765-3.813-4.202\r c-7.82-9.257-14.134-19.755-19.279-30.664c1.366-5.271,2.459-10.772,3.119-16.485c1.205-10.427,1.619-22.31-2.288-32.251\r c-1.349-3.431-4.946-7.608-9.096-5.528c-4.771,2.392-6.113,9.169-6.502,13.973c-0.313,3.883-0.094,7.776,0.558,11.594\r c0.664,3.844,1.733,7.494,2.897,11.139c1.086,3.342,2.283,6.658,3.588,9.943c-0.828,2.586-1.707,5.127-2.63,7.603\r c-2.152,5.643-4.479,11.004-6.717,16.161c-1.18,2.557-2.335,5.06-3.465,7.507c-3.576,7.855-7.458,15.566-11.815,23.02\r c-10.163,3.585-19.283,7.741-26.857,12.625c-4.063,2.625-7.652,5.476-10.641,8.603c-2.822,2.952-5.69,6.783-5.941,11.024\r c-0.141,2.394,0.807,4.717,2.768,6.137c2.697,2.015,6.271,1.881,9.4,1.225c10.25-2.15,18.121-10.961,24.824-18.387\r c4.617-5.115,9.872-11.61,15.369-19.465c0.012-0.018,0.024-0.036,0.037-0.054c9.428-2.923,19.689-5.391,30.579-7.205\r c4.975-0.825,10.082-1.5,15.291-1.974c3.663,3.431,7.621,6.555,11.939,9.164c3.363,2.069,6.94,3.816,10.684,5.119\r c3.786,1.237,7.595,2.247,11.528,2.886c1.986,0.284,4.017,0.413,6.092,0.335c4.631-0.175,11.278-1.951,11.714-7.57\r C231.127,152.765,230.756,151.257,230.013,149.935z M119.144,160.245c-2.169,3.36-4.261,6.382-6.232,9.041\r c-4.827,6.568-10.34,14.369-18.322,17.286c-1.516,0.554-3.512,1.126-5.616,1.002c-1.874-0.11-3.722-0.937-3.637-3.065\r c0.042-1.114,0.587-2.535,1.423-3.931c0.915-1.531,2.048-2.935,3.275-4.226c2.629-2.762,5.953-5.439,9.777-7.918\r c5.865-3.805,12.867-7.23,20.672-10.286C120.035,158.858,119.587,159.564,119.144,160.245z M146.366,75.985\r c-0.602-3.514-0.693-7.077-0.323-10.503c0.184-1.713,0.533-3.385,1.038-4.952c0.428-1.33,1.352-4.576,2.826-4.993\r c2.43-0.688,3.177,4.529,3.452,6.005c1.566,8.396,0.186,17.733-1.693,25.969c-0.299,1.31-0.632,2.599-0.973,3.883\r c-0.582-1.601-1.137-3.207-1.648-4.821C147.945,83.048,146.939,79.482,146.366,75.985z M163.049,142.265\r c-9.13,1.48-17.815,3.419-25.979,5.708c0.983-0.275,5.475-8.788,6.477-10.555c4.721-8.315,8.583-17.042,11.358-26.197\r c4.9,9.691,10.847,18.962,18.153,27.214c0.673,0.749,1.357,1.489,2.053,2.22C171.017,141.096,166.988,141.633,163.049,142.265z\r M224.793,153.959c-0.334,1.805-4.189,2.837-5.988,3.121c-5.316,0.836-10.94,0.167-16.028-1.542\r c-3.491-1.172-6.858-2.768-10.057-4.688c-3.18-1.921-6.155-4.181-8.936-6.673c3.429-0.206,6.9-0.341,10.388-0.275\r c3.488,0.035,7.003,0.211,10.475,0.664c6.511,0.726,13.807,2.961,18.932,7.186C224.588,152.585,224.91,153.321,224.793,153.959z"}),Object(d.jsx)("polygon",{style:{fill:"#FB3449"},points:"227.64,25.263 32.842,25.263 32.842,0 219.821,0 \t"}),Object(d.jsxs)("g",{children:[" ",Object(d.jsx)("path",{style:{fill:"#A4A9AD"},d:"M126.841,241.152c0,5.361-1.58,9.501-4.742,12.421c-3.162,2.921-7.652,4.381-13.472,4.381h-3.643 v15.917H92.022v-47.979h16.606c6.06,0,10.611,1.324,13.652,3.971C125.321,232.51,126.841,236.273,126.841,241.152z M104.985,247.387h2.363c1.947,0,3.495-0.546,4.644-1.641c1.149-1.094,1.723-2.604,1.723-4.529c0-3.238-1.794-4.857-5.382-4.857 h-3.348C104.985,236.36,104.985,247.387,104.985,247.387z"})," ",Object(d.jsx)("path",{style:{fill:"#A4A9AD"},d:"M175.215,248.864c0,8.007-2.205,14.177-6.613,18.509s-10.606,6.498-18.591,6.498h-15.523v-47.979 h16.606c7.701,0,13.646,1.969,17.836,5.907C173.119,235.737,175.215,241.426,175.215,248.864z M161.76,249.324 c0-4.398-0.87-7.657-2.609-9.78c-1.739-2.122-4.381-3.183-7.926-3.183h-3.773v26.877h2.888c3.939,0,6.826-1.143,8.664-3.43 C160.841,257.523,161.76,254.028,161.76,249.324z"})," ",Object(d.jsx)("path",{style:{fill:"#A4A9AD"},d:"M196.579,273.871h-12.766v-47.979h28.355v10.403h-15.589v9.156h14.374v10.403h-14.374 L196.579,273.871L196.579,273.871z"})," "]}),Object(d.jsx)("polygon",{style:{fill:"#D1D3D3"},points:"219.821,50.525 270.346,50.525 219.821,0 \t"})]})," ",Object(d.jsx)("g",{children:" "})," ",Object(d.jsx)("g",{children:" "})," ",Object(d.jsx)("g",{children:" "})," ",Object(d.jsx)("g",{children:" "})," ",Object(d.jsx)("g",{children:" "})," ",Object(d.jsx)("g",{children:" "})," ",Object(d.jsx)("g",{children:" "})," ",Object(d.jsx)("g",{children:" "})," ",Object(d.jsx)("g",{children:" "})," ",Object(d.jsx)("g",{children:" "})," ",Object(d.jsx)("g",{children:" "})," ",Object(d.jsx)("g",{children:" "})," ",Object(d.jsx)("g",{children:" "})," ",Object(d.jsx)("g",{children:" "})," ",Object(d.jsx)("g",{children:" "})]})}),Object(d.jsx)("td",{className:b.pdfCursor,children:Object(d.jsx)("span",{onClick:function(){return j(e.path_url,e.label)},children:e.label})})]}),"xlsx"===e.type&&Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"100%",width:"40px",viewBox:"0 0 96 96",fill:"#FFF",strokeMiterlimit:"10",strokeWidth:"2",children:[Object(d.jsx)("path",{stroke:"#979593",d:"M67.1716,7H27c-1.1046,0-2,0.8954-2,2v78 c0,1.1046,0.8954,2,2,2h58c1.1046,0,2-0.8954,2-2V26.8284c0-0.5304-0.2107-1.0391-0.5858-1.4142L68.5858,7.5858 C68.2107,7.2107,67.702,7,67.1716,7z"}),Object(d.jsx)("path",{fill:"none",stroke:"#979593",d:"M67,7v18c0,1.1046,0.8954,2,2,2h18"}),Object(d.jsx)("path",{fill:"#C8C6C4",d:"M51 61H41v-2h10c.5523 0 1 .4477 1 1l0 0C52 60.5523 51.5523 61 51 61zM51 55H41v-2h10c.5523 0 1 .4477 1 1l0 0C52 54.5523 51.5523 55 51 55zM51 49H41v-2h10c.5523 0 1 .4477 1 1l0 0C52 48.5523 51.5523 49 51 49zM51 43H41v-2h10c.5523 0 1 .4477 1 1l0 0C52 42.5523 51.5523 43 51 43zM51 67H41v-2h10c.5523 0 1 .4477 1 1l0 0C52 66.5523 51.5523 67 51 67zM79 61H69c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C80 60.5523 79.5523 61 79 61zM79 67H69c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C80 66.5523 79.5523 67 79 67zM79 55H69c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C80 54.5523 79.5523 55 79 55zM79 49H69c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C80 48.5523 79.5523 49 79 49zM79 43H69c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C80 42.5523 79.5523 43 79 43zM65 61H55c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C66 60.5523 65.5523 61 65 61zM65 67H55c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C66 66.5523 65.5523 67 65 67zM65 55H55c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C66 54.5523 65.5523 55 65 55zM65 49H55c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C66 48.5523 65.5523 49 65 49zM65 43H55c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C66 42.5523 65.5523 43 65 43z"}),Object(d.jsx)("path",{fill:"#107C41",d:"M12,74h32c2.2091,0,4-1.7909,4-4V38c0-2.2091-1.7909-4-4-4H12c-2.2091,0-4,1.7909-4,4v32 C8,72.2091,9.7909,74,12,74z"}),Object(d.jsx)("path",{d:"M16.9492,66l7.8848-12.0337L17.6123,42h5.8115l3.9424,7.6486c0.3623,0.7252,0.6113,1.2668,0.7471,1.6236 h0.0508c0.2617-0.58,0.5332-1.1436,0.8164-1.69L33.1943,42h5.335l-7.4082,11.9L38.7168,66H33.041l-4.5537-8.4017 c-0.1924-0.3116-0.374-0.6858-0.5439-1.1215H27.876c-0.0791,0.2684-0.2549,0.631-0.5264,1.0878L22.6592,66H16.9492z"})]})}),Object(d.jsx)("td",{className:b.pdfCursor,children:Object(d.jsx)("span",{onClick:function(){return j(e.path_url,e.label)},children:e.label})})]}),"url"===e.type&&Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("svg",{class:"svg-icon",height:"100%",width:"34px",style:{verticalAlign:"middle",fill:"black",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(d.jsx)("path",{d:"M657.664 170.666667l-158.165333 158.165333a42.666667 42.666667 0 0 1-60.330667-60.330667l170.666667-170.666666A42.666667 42.666667 0 0 1 640 85.333333h170.666667a42.666667 42.666667 0 0 1 30.165333 12.501334l85.333333 85.333333A42.666667 42.666667 0 0 1 938.666667 213.333333v170.666667a42.666667 42.666667 0 0 1-12.501334 30.165333l-170.666666 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L853.333333 366.336V230.997333L793.002667 170.666667h-135.338667z m-133.162667 524.501333a42.666667 42.666667 0 0 1 60.330667 60.330667l-170.666667 170.666666A42.666667 42.666667 0 0 1 384 938.666667H213.333333a42.666667 42.666667 0 0 1-30.165333-12.501334l-85.333333-85.333333A42.666667 42.666667 0 0 1 85.333333 810.666667v-170.666667a42.666667 42.666667 0 0 1 12.501334-30.165333l170.666666-170.666667a42.666667 42.666667 0 0 1 60.330667 60.330667L170.666667 657.664v135.338667L230.997333 853.333333h135.338667l158.165333-158.165333z m128-384a42.666667 42.666667 0 0 1 60.330667 60.330667l-341.333333 341.333333a42.666667 42.666667 0 1 1-60.330667-60.330667l341.333333-341.333333z"})})}),Object(d.jsx)("td",{className:b.pdfCursor,children:Object(d.jsx)("p",{onClick:function(){return t=e.path_url,void window.open(t,"_blank");var t},children:e.path_url})})]})]})}))})}),Object(d.jsx)("h4",{children:"Transcript "}),Object(d.jsx)("p",{className:b.viewTranscript,children:a.transcript})]})]})}),Object(d.jsx)(l.a,{children:Object(d.jsx)(c.a,{onClick:p,children:"Cancel"})})]})})}},1528:function(e,t,a){},1530:function(e,t,a){},1534:function(e,t,a){"use strict";a(48),a(107),a(0);var n=a(1565),l=a(1568),r=a(1567),o=a(1601),i=a(1566),c=a(861),s=a(195),d=a(1150),u=a(1159),b=a.n(u),p=a(1023),j=a(855),h=a(30),m=a(857),g=a(860),f=a(822),x=a(869),O=a(303),v=a.n(O),y=a(1575),S=a(971),C=a.n(S),w=a(1608),k=a(1620),N=a(1053),_=a(1161),R=a.n(_),z=a(1);var F=function(e){var t=e.handleUrl,a=e.handleRadioChange,n=e.handleResourcesLabel,l=e.removeFieldData,r=e.LinearProgressWithLabel,o=e.classes,i=e.theme,c=e.inputFields,s=(e.accept,e.addFields,e.uploadingResources,e.totalFiles,e.handleResources),d=(e.uploadedFiles,e.uploadingResourcesPercentage,e.removeFields);return Object(z.jsx)(z.Fragment,{children:c.map((function(e,c){return Object(z.jsxs)("div",{className:o.resourcesdiv,children:[Object(z.jsxs)(k.a,{className:o.radioButton,name:"Resourse",value:e.selectedValue,onChange:function(e){return a(e,c)},children:[Object(z.jsx)(N.a,{value:"pdf",control:Object(z.jsx)(w.a,{}),label:"Pdf"}),Object(z.jsx)(N.a,{value:"xlsx",control:Object(z.jsx)(w.a,{}),label:"xlsx"}),Object(z.jsx)(N.a,{value:"url",control:Object(z.jsx)(w.a,{}),label:"url"})]}),Object(z.jsxs)("div",{style:{textAlign:"center"},children:[Object(z.jsx)("div",{className:o.resources,children:Object(z.jsxs)("table",{className:o.resourcesTable,children:[Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{className:o.labelTd,children:Object(z.jsx)(j.a,{name:"label",labelTemplate:"lms.{name}.label",value:null===e||void 0===e?void 0:e.label,onChange:function(e){return n(c,e)},required:!0},"label")}),Object(z.jsx)("td",{className:o.fileTd,children:""!==(null===e||void 0===e?void 0:e.type)&&""!==(null===e||void 0===e?void 0:e.original_filename)?Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("span",{children:null===e||void 0===e?void 0:e.original_filename})}):Object(z.jsxs)(z.Fragment,{children:["pdf"===e.selectedValue&&Object(z.jsxs)(f.a,{variant:"contained",component:"label",color:"primary",children:[Object(z.jsx)(R.a,{})," Upload a file",Object(z.jsx)("input",{type:"file",hidden:!0,accept:".pdf",required:!0,onChange:function(t){return s(c,t,e.selectedValue)}})]}),"xlsx"===e.selectedValue&&Object(z.jsxs)(f.a,{variant:"contained",component:"label",color:"primary",children:[Object(z.jsx)(R.a,{})," Upload a file",Object(z.jsx)("input",{type:"file",hidden:!0,accept:".xlsx,.xls",required:!0,onChange:function(t){return s(c,t,e.selectedValue)}})]}),"url"===e.selectedValue&&Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(j.a,{name:"url",type:"url",labelTemplate:"lms.{name}.label",value:null===e||void 0===e?void 0:e.path_url,onChange:function(a){return t(c,a,e.selectedValue)},required:!0},"url")})]})}),Object(z.jsx)("td",{children:c>0?Object(z.jsx)(x.a,{className:"".concat(o.fadeIn," ").concat(o.deleteButtonStyle),onConfirm:function(){return d(c)},values:{type:"unit resource",name:""!==e.label?e.label:"this field"},messageKey:"confirmRemoveValue.message",buttonLabelKey:"delete.button",size:"small",submitStyle:o.deleteColorStyle,buttonTypographyProps:{float:"right",color:i.palette.error.dark,style:{textDecoration:"underline"}},children:Object(z.jsx)(C.a,{})}):""!==(null===e||void 0===e?void 0:e.label)?Object(z.jsx)(x.a,{className:"".concat(o.fadeIn," ").concat(o.deleteButtonStyle),onConfirm:function(){return l(c)},values:{type:"unit resource",name:""!==e.label?e.label:"this field"},messageKey:"confirmRemoveValue.message",buttonLabelKey:"delete.button",size:"small",submitStyle:o.deleteColorStyle,buttonTypographyProps:{float:"right",color:i.palette.error.dark,style:{textDecoration:"underline"}},children:Object(z.jsx)(C.a,{})}):Object(z.jsx)(x.a,{className:"".concat(o.fadeIn," ").concat(o.deleteButtonStyle),onConfirm:function(){return d(c)},values:{type:"unit resource",name:""!==e.label?e.label:"field"},messageKey:"confirmRemoveValue.message",buttonLabelKey:"delete.button",size:"small",disabled:!0,submitStyle:o.deleteColorStyle,buttonTypographyProps:{float:"right",color:i.palette.error.dark,style:{textDecoration:"underline"}},children:Object(z.jsx)(C.a,{})})})]}),null!==(null===e||void 0===e?void 0:e.error)&&"null"!==(null===e||void 0===e?void 0:e.error)&&Object(z.jsx)("tr",{children:Object(z.jsx)("td",{colSpan:"3",className:o.errorMessage,children:null===e||void 0===e?void 0:e.errorMessage})})]})}),e.uploadingResources?Object(z.jsxs)("div",{className:o.processingRoot,children:[Object(z.jsx)("p",{children:"".concat(100===e.uploadingResourcesPercentage?"Completed":"Processing...")}),Object(z.jsx)(r,{value:null===e||void 0===e?void 0:e.uploadingResourcesPercentage})]}):null]})]})}))})};t.a=function(e){var t=e.errorMessage,a=e.error,u=e.handleUrl,x=e.handleResourcesLabel,O=e.removeFieldData,S=e.handleRadioChange,C=e.removeFields,w=e.addFields,k=e.inputFields,N=e.uploadingResources,_=e.uploadingResourcesPercentage,R=e.totalFiles,D=e.uploadedFiles,P=e.handleResources,I=(e.processing,e.handleRemove,e.remove),L=e.handleFile,M=e.uploading,T=e.uploadingPercentage,B=e.isSaving,K=e.editValues,V=e.LinearProgressWithLabel,H=e.addNew,E=e.handleSubmit,W=e.classes,A=e.handleChange,U=e.handleEditorChange,q=e.handleClose,J=v()();return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)(n.a,{open:H,onClose:function(e,t){"backdropClick"!==t&&q()},scroll:"paper",fullWidth:!0,maxWidth:"md","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(z.jsx)(i.a,{id:"scroll-dialog-title",children:"Add Unit"}),Object(z.jsxs)(c.a,{onSubmit:E,className:W.formStyle,children:[Object(z.jsx)(r.a,{dividers:!0,children:Object(z.jsxs)(o.a,{id:"scroll-dialog-description",tabIndex:-1,className:W.dialogBody,children:[Object(z.jsx)(j.a,{name:"name",autoFocus:!0,labelTemplate:"lms.{name}.label",onChange:function(e){return A(e)},value:K.name,required:!0},"name"),Object(z.jsxs)("fieldset",{"aria-hidden":"true",className:Object(h.default)(W.textAreaEditor,W.maxWidthEditor),children:[Object(z.jsx)("legend",{className:W.legendColor,children:Object(z.jsx)("span",{children:"Description\xa0*"})}),Object(z.jsx)("input",{required:!0,type:"text",className:W.textFieldHidden,value:K.description}),Object(z.jsx)(d.CKEditor,{editor:b.a,data:K.description,className:W.ckEditorEdit,onChange:function(e,t){var a=t.getData();U(a)},config:{toolbar:["heading","|","fontfamily","fontsize","|","bold","italic","Link","|","bulletedList","numberedList","TodoList","|","outdent","indent","|","BlockQuote","InsertTable","Undo","Redo"]}})]}),Object(z.jsxs)("fieldset",{"aria-hidden":"true",className:W.textAreaEditor,children:[Object(z.jsx)("legend",{className:W.legendColor,children:Object(z.jsx)("span",{children:"Intro Video\xa0*"})}),Object(z.jsx)("input",{type:"file",required:!0,name:"file",accept:".mp4,.mov",onChange:function(e){return L(e)}}),M?Object(z.jsx)("div",{className:W.processingRoot,children:Object(z.jsx)(V,{value:T})}):null]}),"introVideo"===a&&Object(z.jsx)("p",{className:W.errorMessage,children:t}),Object(z.jsx)(p.a,{name:"transcript",labelTemplate:"lms.{name}.label",onChange:function(e){return A(e)},value:K.transcript,required:!0,rows:5},"transcript"),Object(z.jsx)("div",{children:Object(z.jsxs)("fieldset",{"aria-hidden":"true",className:W.textAreaEditor,children:[Object(z.jsx)("legend",{className:W.legendColor,children:Object(z.jsx)("span",{children:"Resourse Type\xa0*"})}),Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(F,{theme:J,LinearProgressWithLabel:V,classes:W,inputFields:k,handleRadioChange:S,addFields:w,uploadingResources:N,totalFiles:R,handleResources:P,uploadedFiles:D,uploadingResourcesPercentage:_,removeFields:C,removeFieldData:O,handleUrl:u,handleResourcesLabel:x}),Object(z.jsx)(f.a,{variant:"contained",color:"default",className:W.button,onClick:w,children:Object(z.jsx)(y.a,{})})]})]})})]})}),Object(z.jsx)(l.a,{children:Object(z.jsx)(s.a,{container:!0,item:!0,direction:"row",fullWidth:!0,className:W.buttonPanelStyle,justify:"space-between",overflow:"visible",resizable:!1,alignItems:"center",children:Object(z.jsxs)(s.a,{item:!0,children:[Object(z.jsx)(m.a,{isProgress:B,variant:"text",color:"primary",type:"submit",size:"large",labelKey:"save.label",disabled:B||100!==T||!0===N&&100!==_}),Object(z.jsx)(g.a,{variant:"text",size:"large",labelKey:"cancel.button",disabled:B||I,onClick:q})]})})})]})]})})}},1535:function(e,t,a){"use strict";var n=a(48),l=a.n(n),r=a(107),o=(a(0),a(1565)),i=a(1568),c=a(1567),s=a(1601),d=a(1566),u=a(861),b=a(195),p=a(1150),j=a(1159),h=a.n(j),m=a(1023),g=a(855),f=a(30),x=a(857),O=a(860),v=a(822),y=a(971),S=a.n(y),C=a(869),w=a(303),k=a.n(w),N=(a(854),a(301),a(1608)),_=a(1620),R=a(1053),z=a(1161),F=a.n(z),D=a(1);var P=function(e){var t=e.handleRemoveResources,a=e.handleUrl,n=e.handleRadioChange,l=e.handleResourcesLabel,r=(e.type,e.length),o=e.removeFieldData,i=e.LinearProgressWithLabel,c=e.saveFile,s=e.classes,d=e.theme,u=e.inputFields,b=(e.accept,e.addFields,e.uploadingResources,e.totalFiles,e.handleResources),p=(e.uploadedFiles,e.uploadingResourcesPercentage,e.removeFields);return Object(D.jsx)(D.Fragment,{children:u.map((function(e,u){return Object(D.jsxs)("div",{className:s.resourcesdiv,children:[Object(D.jsxs)(_.a,{className:s.radioButton,name:"Resourse",value:e.selectedValue,onChange:function(e){return n(e,u)},children:[Object(D.jsx)(R.a,{value:"pdf",control:Object(D.jsx)(N.a,{}),label:"Pdf"}),Object(D.jsx)(R.a,{value:"xlsx",control:Object(D.jsx)(N.a,{}),label:"xlsx"}),Object(D.jsx)(R.a,{value:"url",control:Object(D.jsx)(N.a,{}),label:"url"})]}),Object(D.jsxs)("div",{style:{textAlign:"left"},children:[Object(D.jsx)("div",{className:s.resources,children:Object(D.jsxs)("table",{className:s.resourcesTable,children:[Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{className:s.labelTd,children:Object(D.jsx)(g.a,{name:"label",labelTemplate:"lms.{name}.label",value:null===e||void 0===e?void 0:e.label,onChange:function(e){return l(u,e)},required:!0},"label")}),Object(D.jsx)("td",{className:s.fileTd,children:""!==(null===e||void 0===e?void 0:e.type)&&""!==(null===e||void 0===e?void 0:e.original_filename)?Object(D.jsxs)(D.Fragment,{children:["v"===(null===e||void 0===e?void 0:e.type)&&Object(D.jsx)("video",{width:"100%",height:"150",controls:!0,children:Object(D.jsx)("source",{src:"https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/".concat(e.path_url)})}),"i"===(null===e||void 0===e?void 0:e.type)&&Object(D.jsx)("img",{src:"https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/".concat(e.path_url),height:"150",alt:"image"}),"pdf"===(null===e||void 0===e?void 0:e.type)&&Object(D.jsx)("span",{className:s.pdfCursor,onClick:function(){return c(null===e||void 0===e?void 0:e.path_url,null===e||void 0===e?void 0:e.original_filename)},children:null===e||void 0===e?void 0:e.original_filename}),"xlsx"===(null===e||void 0===e?void 0:e.type)&&Object(D.jsx)("span",{className:s.pdfCursor,onClick:function(){return c(null===e||void 0===e?void 0:e.path_url,null===e||void 0===e?void 0:e.original_filename)},children:null===e||void 0===e?void 0:e.original_filename}),"url"===(null===e||void 0===e?void 0:e.type)&&Object(D.jsx)(g.a,{name:"url",labelTemplate:"lms.{name}.label",value:null===e||void 0===e?void 0:e.path_url,onChange:function(t){return a(u,t,e.selectedValue)},required:!0},"url")]}):Object(D.jsxs)(D.Fragment,{children:["pdf"===e.selectedValue&&Object(D.jsxs)(v.a,{variant:"contained",component:"label",color:"primary",children:[" ",Object(D.jsx)(F.a,{})," Upload a file",Object(D.jsx)("input",{type:"file",hidden:!0,accept:".pdf",required:!0,onChange:function(t){return b(u,t,e.selectedValue)}})]}),"xlsx"===e.selectedValue&&Object(D.jsxs)(v.a,{variant:"contained",component:"label",color:"primary",children:[" ",Object(D.jsx)(F.a,{})," Upload a file",Object(D.jsx)("input",{type:"file",hidden:!0,required:!0,accept:".xlsx,.xls",onChange:function(t){return b(u,t,e.selectedValue)}})]}),"url"===e.selectedValue&&Object(D.jsx)(g.a,{name:"url",autoFocus:!0,type:"url",labelTemplate:"lms.{name}.label",value:null===e||void 0===e?void 0:e.path_url,onChange:function(t){return a(u,t,e.selectedValue)},required:!0},"url")]})}),Object(D.jsx)("td",{children:r>0&&""!==(null===e||void 0===e?void 0:e.type)&&""!==(null===e||void 0===e?void 0:e.original_filename)&&!0===(null===e||void 0===e?void 0:e.db)?Object(D.jsx)(C.a,{className:"".concat(s.fadeIn," ").concat(s.deleteButtonStyle),onConfirm:function(){return t(e,u)},values:{type:"unit resource",name:""!==u.original_filename?u.original_filename:"this field"},messageKey:"confirmRemoveValue.message",buttonLabelKey:"delete.button",size:"small",submitStyle:s.deleteColorStyle,buttonTypographyProps:{float:"right",color:d.palette.error.dark,style:{textDecoration:"underline"}},children:Object(D.jsx)(S.a,{})}):"url"===(null===e||void 0===e?void 0:e.type)?Object(D.jsx)(C.a,{className:"".concat(s.fadeIn," ").concat(s.deleteButtonStyle),onConfirm:function(){return!1===(null===e||void 0===e?void 0:e.db)?p(u):t(e,u)},values:{type:"unit resource",name:!0===(null===e||void 0===e?void 0:e.db)&&""!==u.path_url?u.path_url:"this field"},messageKey:"confirmRemoveValue.message",buttonLabelKey:"delete.button",size:"small",submitStyle:s.deleteColorStyle,buttonTypographyProps:{float:"right",color:d.palette.error.dark,style:{textDecoration:"underline"}},children:Object(D.jsx)(S.a,{})}):r>0||u>0?Object(D.jsx)(C.a,{className:"".concat(s.fadeIn," ").concat(s.deleteButtonStyle),onConfirm:function(){return p(u)},values:{type:"unit resource",name:""!==e.original_filename?e.original_filename:"this field"},messageKey:"confirmRemoveValue.message",buttonLabelKey:"delete.button",size:"small",submitStyle:s.deleteColorStyle,buttonTypographyProps:{float:"right",color:d.palette.error.dark,style:{textDecoration:"underline"}},children:Object(D.jsx)(S.a,{})}):""!==(null===e||void 0===e?void 0:e.label)?Object(D.jsx)(C.a,{className:"".concat(s.fadeIn," ").concat(s.deleteButtonStyle),onConfirm:function(){return o(u)},values:{type:"unit resource",name:""!==e.original_filename?e.original_filename:"this field"},messageKey:"confirmRemoveValue.message",buttonLabelKey:"delete.button",size:"small",submitStyle:s.deleteColorStyle,buttonTypographyProps:{float:"right",color:d.palette.error.dark,style:{textDecoration:"underline"}},children:Object(D.jsx)(S.a,{})}):Object(D.jsx)(C.a,{className:"".concat(s.fadeIn," ").concat(s.deleteButtonStyle),onConfirm:function(){return p(u)},values:{type:"unit resource",name:""!==e.original_filename?e.original_filename:"field"},messageKey:"confirmRemoveValue.message",buttonLabelKey:"delete.button",size:"small",disabled:!0,submitStyle:s.deleteColorStyle,buttonTypographyProps:{float:"right",color:d.palette.error.dark,style:{textDecoration:"underline"}},children:Object(D.jsx)(S.a,{})})})]}),null!==(null===e||void 0===e?void 0:e.error)&&"null"!==(null===e||void 0===e?void 0:e.error)&&Object(D.jsx)("tr",{children:Object(D.jsx)("td",{colSpan:"3",className:s.errorMessage,children:null===e||void 0===e?void 0:e.errorMessage})})]})}),e.uploadingResources?Object(D.jsxs)("div",{className:s.processingRoot,children:[Object(D.jsx)("p",{children:"".concat(100===e.uploadingResourcesPercentage?"Completed":"Processing...")}),Object(D.jsx)(i,{value:null===e||void 0===e?void 0:e.uploadingResourcesPercentage})]}):null]})]})}))})},I=a(1575),L=a(884);a(302),t.a=function(e){e.setInputFields;var t=e.handleUrl,a=(e.labels,e.setLabels,e.handleRadioChange),n=(e.selectedValue,e.handleResourcesLabel),j=e.removeFieldData,y=(e.setResourcesLength,e.resourcesLength),w=e.handleRemoveResources,N=e.removeFields,_=e.addFields,R=e.inputFields,z=e.handleEditSubmit,F=e.uploadingResources,M=e.uploadingResourcesPercentage,T=e.totalFiles,B=e.uploadedFiles,K=e.handleResources,V=(e.processing,e.handleRemove),H=e.remove,E=e.handleFile,W=e.uploading,A=e.uploadingPercentage,U=e.isSaving,q=e.editValues,J=e.LinearProgressWithLabel,X=(e.handleSubmit,e.classes),$=e.edit,G=e.handleChange,Y=e.handleEditorChange,Z=e.handleClose,Q=k()(),ee=function(){var e=Object(r.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(t,a);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)(o.a,{open:$,onClose:function(e,t){"backdropClick"!==t&&Z()},scroll:"paper",fullWidth:!0,maxWidth:"md","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(D.jsx)(d.a,{id:"scroll-dialog-title",children:"Edit Unit"}),Object(D.jsxs)(u.a,{onSubmit:z,className:X.formStyle,children:[Object(D.jsx)(c.a,{dividers:!0,children:Object(D.jsxs)(s.a,{id:"scroll-dialog-description",tabIndex:-1,className:X.dialogBody,children:[Object(D.jsx)(g.a,{name:"name",autoFocus:!0,labelTemplate:"lms.{name}.label",onChange:function(e){return G(e)},value:q.name,required:!0},"name"),Object(D.jsxs)("fieldset",{"aria-hidden":"true",className:Object(f.default)(X.textAreaEditor,X.maxWidthEditor),children:[Object(D.jsx)("legend",{className:X.legendColor,children:Object(D.jsx)("span",{children:"Description\xa0*"})}),Object(D.jsx)("input",{required:!0,type:"text",className:X.textFieldHidden,value:q.description}),Object(D.jsx)(p.CKEditor,{editor:h.a,data:q.description,className:X.ckEditorEdit,onChange:function(e,t){var a=t.getData();Y(a)}})]}),Object(D.jsxs)("fieldset",{"aria-hidden":"true",className:X.textAreaEditor,children:[Object(D.jsx)("legend",{className:X.legendColor,children:Object(D.jsx)("span",{children:"Intro Video\xa0*"})}),!H&&q.introVideo?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("video",{width:"100%",height:"400",controls:!0,children:Object(D.jsx)("source",{src:"https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/lms/upload/".concat(JSON.parse(q.introVideo).originalFilename)})}),Object(D.jsx)(C.a,{className:"".concat(X.fadeIn," ").concat(X.deleteButtonStyle," ").concat(X.floatRight),onConfirm:function(){return ee(JSON.parse(q.introVideo),q.id)},values:{type:"unit",name:"intro video"},messageKey:"confirmRemoveValue.message",buttonLabelKey:"delete.button",size:"small",submitStyle:X.deleteColorStyle,buttonTypographyProps:{float:"right",color:Q.palette.error.dark,style:{textDecoration:"underline"}},children:Object(D.jsx)(S.a,{})})]}):null,H||!q.introVideo?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("input",{type:"file",required:!0,name:"file",accept:".mp4,.mov",onChange:function(e){return E(e)}}),W?Object(D.jsx)("div",{className:X.processingRoot,children:Object(D.jsx)(J,{value:A})}):null]}):null]}),Object(D.jsx)(m.a,{name:"transcript",labelTemplate:"lms.{name}.label",onChange:function(e){return G(e)},value:q.transcript,required:!0,rows:5},"transcript"),Object(D.jsx)("div",{children:Object(D.jsxs)("fieldset",{"aria-hidden":"true",className:X.textAreaEditor,children:[Object(D.jsx)("legend",{className:X.legendColor,children:Object(D.jsx)("span",{children:"Resourse Type\xa0*"})}),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(P,{theme:Q,LinearProgressWithLabel:J,classes:X,inputFields:R,handleRadioChange:a,addFields:_,uploadingResources:F,totalFiles:T,handleResources:K,uploadedFiles:B,uploadingResourcesPercentage:M,removeFields:N,removeFieldData:j,handleUrl:t,saveFile:function(e,t){Object(L.saveAs)("https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/".concat(e),t)},length:y,handleResourcesLabel:n,handleRemoveResources:w}),Object(D.jsx)(v.a,{variant:"contained",color:"default",className:X.button,onClick:_,children:Object(D.jsx)(I.a,{})})]})]})})]})}),Object(D.jsx)(i.a,{children:Object(D.jsx)(b.a,{container:!0,item:!0,direction:"row",fullWidth:!0,className:X.buttonPanelStyle,justify:"space-between",overflow:"visible",resizable:!1,alignItems:"center",children:Object(D.jsxs)(b.a,{item:!0,children:[Object(D.jsx)(x.a,{isProgress:U,variant:"text",color:"primary",type:"submit",size:"large",labelKey:"save.label",disabled:U||W&&100!==A||F&&100!==M||0===y&&0===R.length}),Object(D.jsx)(O.a,{variant:"text",size:"large",labelKey:"cancel.button",disabled:U||H,onClick:Z})]})})})]})]})})}},1615:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return re}));var n=a(35),l=a(13),r=a(48),o=a.n(r),i=a(107),c=a(64),s=a(12),d=a(85),u=a.n(d),b=a(303),p=a.n(b),j=a(1575),h=a(302),m=a(0),g=a.n(m),f=a(49),x=a(28),O=a(55),v=a(301),y=a(860),S=a(195),C=a(881),w=a(133),k=a(854),N=a(863),_=a(1520),R=(a(1149),a(1521)),z=a(1574),F=a(34),D=a(1572),P=a(1),I=u()((function(e){return{root:{color:e.palette.text.secondary,"&:hover > $content":{},"&:focus > $content, &$selected > $content":{},"&:focus > $content $label, &:hover > $content $label, &$selected > $content $label":{}},content:{fontWeight:e.typography.fontWeightMedium,"$expanded > &":{fontWeight:e.typography.fontWeightRegular},"& .labelRoot":{fontWeight:e.typography.fontWeightRegular}},group:{marginLeft:0,"& $labelText":Object(l.a)({fontWeight:e.typography.fontWeightRegular,color:e.palette.text.primary},e.typography.body1)},expanded:{},selected:{},label:{fontWeight:"inherit",color:"inherit","&:hover":{backgroundColor:"inherit"}},labelRoot:Object(l.a)({padding:e.spacing(.5,0)},e.typography.h6),labelIcon:{marginRight:e.spacing(1)},labelText:{fontWeight:"inherit",flexGrow:1},actionStyle:{backgroundColor:e.palette.background.default,position:"absolute",right:0}}}));function L(e){var t=I(e),a=e.nodeId,n=e.labelText,r=(e.labelIcon,e.labelInfo),o=e.color,i=e.bgColor,c=e.action,s=e.children,d=Object(F.a)(e,["nodeId","labelText","labelIcon","labelInfo","color","bgColor","action","children"]);return Object(P.jsx)(D.a,Object(l.a)(Object(l.a)({nodeId:a,label:Object(P.jsxs)(S.a,{container:!0,justify:"space-between",alignItems:"center",style:{position:"relative"},children:[Object(P.jsxs)(S.a,{item:!0,className:t.labelRoot,children:[Object(P.jsx)(w.a,{variant:"subtitle1",className:t.labelText,children:n}),Object(P.jsx)(w.a,{variant:"caption",color:"inherit",children:r})]}),c&&Object(P.jsx)(S.a,{item:!0,className:t.actionStyle,children:c})]}),style:{"--tree-view-color":o,"--tree-view-bg-color":i},classes:{root:t.root,content:t.content,expanded:t.expanded,selected:t.selected,group:t.group,label:t.label}},d),{},{children:s}))}var M=a(823),T=a(1570),B=a(1569),K=a(869),V=a(957),H=a.n(V),E=a(984),W=a.n(E),A=a(851),U=a(24),q=(a(30),a(1165)),J=a(1612),X=a(855),$=a(1023),G=a(861),Y=a(857),Z=a(1529),Q=a.n(Z),ee=(a(1530),a(92)),te=a.n(ee),ae=["course"],ne=u()((function(e){return{root:{margin:e.spacing(0,2)},textRight:{textAlign:"right"},tags:{padding:"10px 0"},floatRight:{float:"right"},tagInput:{padding:"10px 0"},remove:{border:"none",color:"red",margin:"0px 0 0 5px;"},tag:{background:"#527928",color:"white",width:"50px",padding:"5px",margin:"0 2px",borderRadius:"6px"},tagInputField:{paddingTop:"10.5px",paddingBottom:"10.5px",border:"none",borderBottom:"2px solid green",color:"#527928"},textAreaEditor:{borderColor:"rgba(0, 0, 0, 0.23)",border:"0.5px solid",borderRadius:"6px",width:"100%"},legendColor:{color:"#527928",fontSize:"13px"},textDander:{color:"red"},innerGridStyle:{overflowY:"none !important"},drawerStyle:{padding:e.spacing(0,2)},inputStyle:{backgroundColor:e.palette.background.default},frameStyle:{padding:e.spacing(4,0,3,2)},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},titleStyle:{paddingTop:e.spacing(3)},fadeArea:{marginTop:e.spacing(1),padding:"5px 0px 0px 6px","&:hover $fadeIn":{opacity:1,textDecoration:"underline"}},fadeIn:{opacity:0},labelRoot:{"&:hover $fadeIn":{opacity:1}},deleteColorStyle:{backgroundColor:Object(O.e)(e.palette.error.light,.7),"&:hover":{backgroundColor:Object(O.e)(e.palette.error.light,.8)}},deleteButtonStyle:{"&:hover":{color:e.palette.error.main}},buttonStyle:{height:42,backgroundColor:"#F4F4F4",position:"absolute",right:0,top:16,zIndex:1e3},treeLabelStyle:{textDecoration:"none",cursor:"pointer","&:hover":{textDecoration:"underline"}},selectedBox:{background:"rgba(0, 0, 0, 0.04)"},clearAll:{cursor:"pointer",padding:"4px 10px",margin:"5px",background:"#f88d8d",color:"#fff",border:"none",float:"right","&:hover":{background:"#f3adad"}},scroller:{height:"100%",overflow:"auto"},paper:{position:"absolute",width:800,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},textDanger:{color:"red"}}}),{name:"UsersStyles"});function le(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}function re(){var e,t=ne(),a=Object(f.h)(),r=p()(),d=Object(f.j)(),u=d.courseId,b=d.moduleId,O=Object(f.i)(),F=Object(m.useState)(!1),D=Object(s.a)(F,2),I=(D[0],D[1],Object(m.useState)({name:"",description:""})),V=Object(s.a)(I,2),E=V[0],Z=V[1],ee=Object(m.useState)(""),re=Object(s.a)(ee,2),oe=re[0],ie=re[1],ce=Object(m.useState)(!1),se=Object(s.a)(ce,2),de=se[0],ue=se[1],be=Object(U.e)(v.q),pe=Object(s.a)(be,1)[0],je=Object(m.useState)(ae),he=Object(s.a)(je,2),me=he[0],ge=he[1],fe=g.a.useState(le),xe=Object(s.a)(fe,1)[0],Oe=Object(m.useState)(!1),ve=Object(s.a)(Oe,2),ye=ve[0],Se=ve[1],Ce=Object(U.e)(v.r),we=Object(s.a)(Ce,1)[0],ke=Object(k.a)(v.s,{variables:{active:!0}},"lms.type"),Ne=Object(s.a)(ke,1)[0],_e=g.a.useState([]),Re=Object(s.a)(_e,2),ze=Re[0],Fe=Re[1],De=Object(m.useState)(!1),Pe=Object(s.a)(De,2),Ie=Pe[0],Le=Pe[1],Me=Object(m.useState)(null),Te=Object(s.a)(Me,2),Be=Te[0],Ke=Te[1];Object(N.a)({titleKey:"lms.admintitle.label"});var Ve=Object(m.useMemo)((function(){return console.log("courseData",Ne),(null===Ne||void 0===Ne?void 0:Ne.courses)?Object(h.sortBy)(null===Ne||void 0===Ne?void 0:Ne.courses,"name"):[]}),[Ne]),He=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&(t.stopPropagation(),t.preventDefault()),e.next=3,we({variables:{id:null===n||void 0===n?void 0:n.id},optimisticResponse:{__typename:"Mutation",course_Delete:{__typename:"course_Delete",active:!1}},update:Object(A.d)(Object(v.Bb)(),null===n||void 0===n?void 0:n.id,"courses")});case 3:l={method:"GET",url:"https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/search?q=".concat(null===n||void 0===n?void 0:n.id,"&q.options=%7Bfields:%5B'course_id'%5D%7D"),headers:{"content-type":"application/json","x-api-key":"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M"}},te()(l).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.hits})).then((function(e){return null===e||void 0===e?void 0:e.hit})).then((function(e){console.log("Data Found ::::::::::::::::::",e.length),e.map(function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={method:"POST",url:"https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document",headers:{"content-type":"application/json","x-api-key":"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M"},data:JSON.stringify([{id:null===t||void 0===t?void 0:t.id,type:"delete"}])},te()(a).then((function(e){return e.data})).then((function(e){"error"!==e.status?console.log("Data delete Successfully ::::::::::::::::::"):console.log("error ::::::::::::::::::",null===e||void 0===e?void 0:e.message)})).catch((function(e){console.log("error while deleting data::::::::::::::::::",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log("err ::::::::::::::::::",e)})),a.push(x.c);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ee=function(){Z({name:"",order_no:null}),Fe([]),Le(null),ie(""),Ke(null),Se(!1)},We=function(e){var t=e.target.name,a=e.target.value;a.trim().length>0?Z(Object(l.a)(Object(l.a)({},E),{},Object(n.a)({},t,a))):Z(Object(l.a)(Object(l.a)({},E),{},Object(n.a)({},t,"")))},Ae=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,n,r,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:null,!(ze.length>0)){e.next=19;break}return e.prev=2,"undefined"!==typeof E.keywords&&(null===E||void 0===E?void 0:E.keywords)&&(null===E||void 0===E||null===(a=E.keywords)||void 0===a?void 0:a.length)>0&&delete E.keywords,ue(!0),n=null,n="undefined"!==typeof E.id?Object(l.a)(Object(l.a)({},E),{},{keywords:JSON.stringify(ze)}):Object(l.a)(Object(l.a)({id:Object(J.a)()},E),{},{keywords:JSON.stringify(ze)}),e.next=9,pe({variables:n,optimisticResponse:{__typename:"Mutation",courses:Object(l.a)(Object(l.a)({__typename:"Courses"},E),{},{active:!1,keywords:JSON.stringify(ze)})},update:Object(A.e)(Object(v.Bb)(),E.id,"courses")});case 9:"edit"===t&&(r={method:"GET",url:"https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/search?q=".concat(oe,"&q.options=%7Bfields:%5B'course_id'%5D%7D"),headers:{"content-type":"application/json","x-api-key":"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M"}},te()(r).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.hits})).then((function(e){return null===e||void 0===e?void 0:e.hit})).then((function(e){console.log("found ::::::::::::::::::",e.length),e.map(function(){var e=Object(i.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("dataFound ::::::::::::::::::",t.fields),a=[],!((null===ze||void 0===ze?void 0:ze.length)>0)){e.next=5;break}return e.next=5,ze.map((function(e){a.push(e.text)}));case 5:r={method:"POST",url:"https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document",headers:{"content-type":"application/json","x-api-key":"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M"},data:JSON.stringify([{fields:Object(l.a)(Object(l.a)({},t.fields),{},{course_name:n.name,course_description:n.description,course_keywords:a}),id:t.id,type:"add"}])},te()(r).then((function(e){return e.data})).then((function(e){"error"!==e.status?console.log("Data update Successfully ::::::::::::::::::"):console.log("error ::::::::::::::::::",null===e||void 0===e?void 0:e.message)})).catch((function(e){console.log("error while uploading data::::::::::::::::::",e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log("err ::::::::::::::::::",e)}))),ue(!1),Ee(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),ue(!1);case 17:e.next=21;break;case 19:Le(!0),Ke("Atleast one Keyword is required");case 21:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(q.a,{open:ye,onClose:Ee,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(P.jsx)("div",{style:xe,className:t.paper,children:Object(P.jsxs)(G.a,{onSubmit:function(){return Ae(E.id?"edit":null)},className:t.formStyle,encType:"multipart/form-data",children:[Object(P.jsxs)("h2",{children:[" ",E.id?"Edit Course":"Add Course"," "]}),Object(P.jsx)(S.a,{name:"Course Edit Root",item:!0,fullWidth:!0,className:t.infoRootStyle,children:Object(P.jsxs)(S.a,{name:"Course Edit Inner",container:!0,item:!0,fullWidth:!0,className:t.infoInnerStyle,children:[Object(P.jsx)(w.a,{variant:"h5",id:"lms.title.label",color:"textSecondary",gutterBottom:!0}),Object(P.jsx)(X.a,{name:"name",autoFocus:!0,labelTemplate:"lms.{name}.label",onChange:function(e){return We(e)},value:E.name,required:!0},"name"),Object(P.jsx)($.a,{name:"description",labelTemplate:"lms.{name}.label",onChange:function(e){return We(e)},value:E.description,required:!0},"description"),Object(P.jsxs)("fieldset",{"aria-hidden":"true",className:t.textAreaEditor,children:[Object(P.jsx)("legend",{className:t.legendColor,children:Object(P.jsx)("span",{children:"Keywords\xa0*"})}),Object(P.jsxs)("div",{children:[Object(P.jsx)(Q.a,{tags:ze,suggestions:[],onDelete:function(e){Fe(ze.filter((function(t,a){return a!==e})))},onAddition:function(e){console.log("tag",e),Fe([].concat(Object(c.a)(ze),[e]))},allowNew:!0,allowBackspace:!1,removeButtonText:"Click to remove keyword",placeholder:"Add Keywords...",minQueryLength:1}),Object(P.jsx)(y.a,{variant:"text",size:"large",className:t.clearAll,labelKey:"clear.all",onClick:function(){Fe([])}})]}),Ie&&Object(P.jsx)("p",{className:t.textDanger,children:Be})]}),Object(P.jsx)("p",{className:t.textDanger,children:" Note:Use Tab or Enter to separate tags. "})]})}),Object(P.jsx)(S.a,{container:!0,item:!0,direction:"row",fullWidth:!0,className:t.buttonPanelStyle,justify:"space-between",overflow:"visible",resizable:!1,alignItems:"center",children:Object(P.jsxs)(S.a,{item:!0,children:[Object(P.jsx)(Y.a,{isProgress:de,variant:"text",color:"primary",type:"submit",size:"large",labelKey:"save.label",disabled:de}),Object(P.jsx)(y.a,{variant:"text",size:"large",labelKey:"cancel.button",disabled:de,onClick:function(){return Ee()}})]})})]})})}),Object(P.jsxs)(S.a,{container:!0,fullWidth:!0,fullHeight:!0,className:t.frameStyle,direction:"row",overflow:"visible",wrap:"nowrap",children:[Object(P.jsx)(S.a,{item:!0,fullHeight:!0,resizable:!1,children:Object(P.jsx)(C.a,{backgroundColor:r.palette.background.default,width:x.e,ModalProps:{BackdropProps:{style:{height:"100%",marginTop:x.l}}},children:Object(P.jsx)(S.a,{item:!0,fullWidth:!0,className:t.drawerStyle,children:Object(P.jsx)(S.a,{isScrollable:!0,container:!0,direction:"row",justify:"flex-start",fullHeight:!0,className:t.innerGridStyle,children:Object(P.jsx)(z.a,{className:t.treeStyle,expanded:me,disableSelection:!0,defaultCollapseIcon:Object(P.jsx)(H.a,{style:{fontSize:28}}),defaultExpandIcon:Object(P.jsx)(W.a,{style:{fontSize:28}}),defaultEndIcon:Object(P.jsx)("div",{style:{width:24}}),onNodeToggle:function(e,t){ge(t)},children:Object(P.jsxs)("div",{style:{position:"relative",width:250},children:[Object(P.jsx)(y.a,{startIcon:Object(P.jsx)(j.a,{}),onClick:function(){return Se((function(e){return!e}))},labelKey:"lms.course.button",className:t.buttonStyle}),Object(P.jsx)(L,{nodeId:"course",labelText:"Course",className:t.titleStyle,children:Ve.map((function(e){return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(S.a,{container:!0,direction:"row",justify:"space-between",className:t.fadeArea,children:[Object(P.jsx)(S.a,{xs:9,item:!0,children:Object(P.jsx)(w.a,{variant:"subtitle1",color:"textPrimary",onClick:function(){return function(e,t){O.state={courseData:t},O.pathname=e,a.push(O)}("/admin/course/".concat(e.id),e)},selected:u===e.id,className:t.treeLabelStyle,children:e.name})}),Object(P.jsxs)(S.a,{xs:3,className:t.textRight,item:!0,children:[Object(P.jsx)(K.a,{className:"".concat(t.fadeIn," ").concat(t.deleteButtonStyle),onConfirm:function(t){return He(t,e)},values:{type:"course",name:e.name},messageKey:"confirmRemoveValue.message",buttonLabelKey:"delete.button",size:"small",submitStyle:t.deleteColorStyle,style:{float:"right"},buttonTypographyProps:{color:r.palette.error.dark,style:{textDecoration:"underline"}},children:Object(P.jsx)(B.a,{fontSize:"small"})}),Object(P.jsx)(M.a,{size:"small",onClick:function(t){return function(e,t){var a;e&&(e.stopPropagation(),e.preventDefault()),(null===t||void 0===t||null===(a=t.keywords)||void 0===a?void 0:a.length)>0&&Fe(JSON.parse(null===t||void 0===t?void 0:t.keywords)),ie(null===t||void 0===t?void 0:t.id),Z(t),Se((function(e){return!e}))}(t,e)},className:t.fadeIn,children:Object(P.jsx)(T.a,{fontSize:"small"})})]})]})})}))})]})})})})})}),(null===O||void 0===O||null===(e=O.state)||void 0===e?void 0:e.id)!==u&&u&&Object(P.jsx)(S.a,{item:!0,container:!0,direction:"column",overflow:"visible",style:{maxWidth:500},children:Object(P.jsx)(_.a,{isAdmin:!0})}),b&&Object(P.jsx)(S.a,{item:!0,container:!0,direction:"column",overflow:"visible",style:{maxWidth:500},children:Object(P.jsx)(R.a,{isAdmin:!0,moduleId:b})})]})]})}},855:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(13),l=a(34),r=a(254),o=a.n(r),i=a(1610),c=a(63),s=a.n(c),d=a(0),u=a(878),b=a(307),p=a(879),j=a(309),h=a(1),m=o()({palette:{text:{secondary:"#707070",primary:"#527928"}}});function g(e){var t=e.className,a=e.name,r=e.labelKey,o=e.placeholderKey,c=e.helpKey,g=e.helperText,f=e.defaultValue,x=e.value,O=e.onChange,v=e.margin,y=void 0===v?"normal":v,S=e.InputLabelProps,C=e.InputProps,w=e.label,k=e.fullWidth,N=void 0===k||k,_=e.isFormattedNumber,R=e.variant,z=void 0===R?"outlined":R,F=e.size,D=void 0===F?"small":F,P=e.labelTemplate,I=(e.editData,e.classes),L=e.internalKey,M=e.placeholder,T=Object(l.a)(e,["className","name","labelKey","placeholderKey","helpKey","helperText","defaultValue","value","onChange","margin","InputLabelProps","InputProps","label","fullWidth","isFormattedNumber","variant","size","labelTemplate","editData","classes","internalKey","placeholder"]),B=Object(n.a)({},I),K=(null===P||void 0===P?void 0:P.format({name:a}))||r,V=Object(b.a)(K,w),H=Object(b.a)(o)||M,E=Object(b.a)(c,g)||g,W=Object(n.a)({},C);return _&&((s()(C,"inputComponent")||s()(C,"inputProps.component"))&&console.log("isFormattedNumber cannot have a different input component.",C),W.inputComponent=p.a,W.inputProps=Object(n.a)(Object(n.a)(Object(n.a)({},s()(C,"inputProps",{})),T.inputProps||{}),{},{component:u.a})),Object(h.jsx)(j.a,{theme:m,children:Object(d.createElement)(i.a,Object(n.a)(Object(n.a)({},T),{},{key:"internal"+L,name:a,className:"".concat(B.textFieldStyle," ").concat(t),label:V,placeholder:H,helperText:E,defaultValue:f,value:x,onChange:O,InputProps:W,InputLabelProps:Object(n.a)(Object(n.a)({},S),{},{shrink:!0}),variant:z,size:D,margin:y,fullWidth:N}))})}},857:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(13),l=a(34),r=a(822),o=a(253),i=a(85),c=a.n(i),s=(a(0),a(133)),d=a(1),u=c()((function(e){return{spinnerMargin:{marginLeft:e.spacing(.5),color:"white"},darkSpinnerMargin:{marginLeft:e.spacing(.5),color:e.palette.primary.main}}}),{name:"ProgressButtonStyles"});function b(e){var t,a=e.isProgress,i=void 0!==a&&a,c=e.labelKey,b=e.isSpinnerLight,p=void 0!==b&&b,j=e.children,h=e.typographyProps,m=Object(l.a)(e,["isProgress","labelKey","isSpinnerLight","children","typographyProps"]),g=u();return Object(d.jsxs)(r.a,Object(n.a)(Object(n.a)({},m),{},{children:[c&&Object(d.jsx)(s.a,Object(n.a)({variant:"inherit",id:c},h)),j,i&&Object(d.jsx)(o.a,{className:(null===m||void 0===m||null===(t=m.classes)||void 0===t?void 0:t.spinnerMargin)||(p?g.spinnerMargin:g.darkSpinnerMargin),size:15,thickness:2.5})]}))}},861:function(e,t,a){"use strict";var n=a(13),l=a(34),r=a(0),o=a(1),i=Object(r.forwardRef)((function(e,t){var a=e.onSubmit,i=e.onValid,c=e.validate,s=e.customValidity,d=e.reportInvalid,u=e.children,b=Object(l.a)(e,["onSubmit","onValid","validate","customValidity","reportInvalid","children"]),p=Object(r.useRef)(),j=t||p;Object(r.useEffect)((function(){c&&function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=j.current;return!a||((e=a.checkValidity())&&s&&(e=s()),!e&&t?a.reportValidity():e)}(d)&&i&&i()}),[c,d,s,i,j]);return Object(o.jsx)("form",Object(n.a)(Object(n.a)({ref:j,onSubmit:function(e){e&&e.preventDefault(),e&&e.stopPropagation();var t=j.current,n=!0;if(s&&(n=s()),!n&&d)return t.reportValidity();n&&a&&a(e)}},b),{},{className:b.className,children:u}))}));i.defaultProps={validate:!1,reportInvalid:!0},t.a=i}}]);
//# sourceMappingURL=13.8b24b1d2.chunk.js.map