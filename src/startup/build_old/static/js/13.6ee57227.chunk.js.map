{"version":3,"sources":["components/TextAreaField.js","fhg/Lms/ModulesEdit.js","fhg/Lms/Modules.js","fhg/Lms/Unit.js","fhg/Lms/Component/ViewUnitModal.js","fhg/Lms/Component/ChooseFile.js","fhg/Lms/Component/AddUnitModal.js","fhg/Lms/Component/ChooseFileEdit.js","fhg/Lms/Component/EditUnitModal.js","fhg/Lms/StyledTreeItem.js","fhg/Lms/index.js","components/TextFieldLF.js","fhg/components/ProgressButton.js","fhg/components/edit/Form.js"],"names":["theme","createMuiTheme","palette","text","secondary","primary","TextFieldLF","className","name","labelKey","placeholderKey","helpKey","helperText","defaultValue","value","onChange","margin","InputLabelProps","InputProps","label","fullWidth","isFormattedNumber","variant","size","labelTemplate","classesProp","editData","classes","internalKey","placeholder","rows","textFieldProps","hidden","useLabelKey","format","currentLabel","useMessage","currentPlaceholder","helpText","useInputProps","get","console","log","inputComponent","CustomInputTextField","inputProps","component","NumberFormatCustom","key","textFieldStyle","multiline","shrink","makeStyles","formStyle","maxHeight","width","display","flexDirection","infoRootStyle","spacing","marginRight","overflow","marginBottom","infoInnerStyle","padding","buttonPanelStyle","marginLeft","borderTop","divider","frameStyle","color","buttonStyle","error","main","deleteColorStyle","backgroundColor","lighten","light","deleteButtonStyle","addButton","btnRight","float","textCenter","textAlign","inputStyle","background","default","transform","transition","transitions","create","duration","shortest","paddingTop","marginTop","opacity","textDecoration","height","position","right","top","zIndex","cursor","border","useStyles","expand","expandOpen","titleStyle","tableMain","table","tableHeading","tableCell","tableWidth","fadeArea","fadeIn","labelRoot","paper","boxShadow","shadows","getModalStyle","left","ModuleEdit","isAdmin","useTheme","useState","order_no","editValues","setEditValues","module_id","setModuleId","addNew","setAddNew","isSaving","setIsSaving","orderNumber","setOrderNumber","useMutationFHG","MODULES_CREATE_UPDATE","moduleCreateUpdate","location","useLocation","history","useHistory","MODULE_DELETE","ModuleDelete","React","modalStyle","params","useParams","courseId","moduleId","useQueryFHG","MODULES_QUERY_WHERE","variables","course_id","isDeleted","moduleData","usePageTitle","titleKey","sortedModules","useMemo","modules","number","sortBy","length","OrderNumber","parseInt","handleClose","handleChange","e","target","trim","handleSubmit","a","type","id","uuid","optimisticResponse","__typename","refetchQueries","getModelCacheQueries","options","method","url","headers","axios","then","res","data","hits","hit","dataFound","map","itm","JSON","stringify","fields","catch","err","handleDeleteModule","event","module","stopPropagation","preventDefault","update","cacheDelete","push","open","onClose","aria-labelledby","aria-describedby","style","onSubmit","encType","autoFocus","required","min","container","item","direction","justify","resizable","alignItems","isProgress","disabled","onClick","fullHeight","wrap","gutterBottom","moduleHeading","button","Link","selected","startIcon","Paper","aria-label","align","idx","clsx","treeLabelStyle","trHover","selectedTrBox","link","state","courseData","pathname","handleClickLink","handleEditModule","fontSize","onConfirm","values","messageKey","buttonLabelKey","submitStyle","buttonTypographyProps","dark","colSpan","errorMessage","resourcesdiv","borderBottom","labelTd","fileTd","pdfCursor","wordBreak","processingRoot","clear","resources","justifyContent","resourcesViewTable","maxWidth","resourcesTable","minHeight","borderColor","borderRadius","LinearProgressWithLabel","props","mr","minWidth","Math","round","defaultId","description","fileLocation","originalFilename","transcript","original_filename","formErrors","unit_id","path_url","selectedValue","uploadingResources","uploadingResourcesPercentage","db","inputFields","setInputFields","labels","setLabels","processing","setProcessing","remove","setRemove","edit","setEdit","viewNew","setViewNew","uploading","setUploading","setUploadingResources","uploadingPercentage","setUploadingPercentage","setUploadingResourcesPercentage","totalFiles","setTotalFiles","uploadedFiles","setUploadedFiles","close","setClose","setError","setErrorMessage","resourcesData","setResourcesData","UNIT_CREATE_UPDATE","unitCreateUpdate","UNIT_DELETE","UnitDelete","UNIT_VIDEO_DELETE","UnitVideoDelete","UNIT_SORT","RESOURCES_DELETE","ResourceDelete","RESOURCES_EDIT","setSelectedValue","resourcesLength","setResourcesLength","UNITS_QUERY_WHERE","unitData","useEffect","sortedUnits","units","handleRadioChange","index","undefined","makeid","result","characters","charactersLength","i","charAt","floor","random","handleRemove","video","removeKey","Storage","introVideo","getUnitCacheQueries","handleFile","upload","file","files","ext","substring","lastIndexOf","fileName","moment","unix","insertKey","BUCKET_NAME","put","level","contentType","resumable","progressCallback","progress","loaded","total","completeCallback","errorCallback","cancel","handleResourcesLabel","handleUrl","selectedType","handleResources","counter","split","path","handleEditorChange","handleEditSubmit","keywords","keywordsData","parse","removeTags","des","str","toString","replace","handleDeleteUnit","unit","addFields","removeFields","splice","removeFieldData","newfield","handleRemoveResources","getResourcesCacheQueries","handleViewtUnit","arr","handleEditUnit","ViewUnitModal","saveFile","filename","saveAs","scroll","dividers","tabIndex","dialogBody","controls","src","viewHeading","viewDescription","dangerouslySetInnerHTML","__html","alt","version","xmlns","xmlnsXlink","x","y","viewBox","enableBackground","xmlSpace","fill","points","d","strokeMiterlimit","strokeWidth","stroke","class","verticalAlign","window","viewTranscript","ChooseFile","accept","input","RadioGroup","radioButton","FormControlLabel","control","Radio","Button","ConfirmIconButton","AddModal","Dialog","_","reason","DialogTitle","Form","DialogContent","DialogContentText","aria-hidden","textAreaEditor","maxWidthEditor","legendColor","textFieldHidden","editor","ClassicEditor","ckEditorEdit","getData","config","toolbar","TextAreaField","Add","DialogActions","Grid","ProgressButton","ButtonFHG","EditModal","handleClick","floatRight","ChooseFileEdit","useTreeItemStyles","root","content","fontWeight","typography","fontWeightMedium","fontWeightRegular","group","body1","expanded","h6","labelIcon","labelText","flexGrow","actionStyle","StyledTreeItem","nodeId","labelInfo","bgColor","action","children","other","TreeItem","Typography","DEFAULT_EXPANDED","textRight","tags","tagInput","tag","tagInputField","paddingBottom","textDander","innerGridStyle","overflowY","drawerStyle","selectedBox","clearAll","scroller","textDanger","Users","setCourseId","COURSE_CREATE_UPDATE","courseCreateUpdate","setExpanded","COURSE_DELETE","CourseDelete","COURSE_QUERY_WHERE","active","setTags","sortedCourses","courses","handleDeleteCourse","course","getCourseCacheQueries","status","message","ADMIN_COURSES_PATH","cacheUpdate","course_name","course_description","course_keywords","Modal","suggestions","onDelete","filter","onAddition","allowNew","allowBackspace","removeButtonText","minQueryLength","ResponsiveMobileDrawer","ADMIN_DRAWER","ModalProps","BackdropProps","APPBAR_SMALL_HEIGHT","isScrollable","TreeView","treeStyle","disableSelection","defaultCollapseIcon","defaultExpandIcon","defaultEndIcon","onNodeToggle","expandedNodeIds","xs","Delete","IconButton","handleEditCourse","Edit","Modules","Unit","spinnerMargin","darkSpinnerMargin","isSpinnerLight","typographyProps","buttonProperties","thickness","forwardRef","ref","onValid","validate","customValidity","reportInvalid","useFormEl","useRef","formEl","isValid","isReport","form","current","checkValidity","reportValidity","defaultProps"],"mappings":"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","file":"static/js/13.6ee57227.chunk.js","sourcesContent":["import createMuiTheme from '@material-ui/core/styles/createMuiTheme';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport get from 'lodash/get';\r\nimport React from 'react';\r\nimport NumberFormatCustom from '../fhg/components/NumberFormat';\r\nimport useMessage from '../fhg/hooks/useMessage';\r\nimport CustomInputTextField from './CustomInputTextField';\r\nimport ThemeProvider from './ThemeProvider';\r\n\r\nconst theme = createMuiTheme({\r\n   palette: {\r\n      text: {\r\n         secondary: '#707070',\r\n         primary: '#527928',\r\n      },\r\n   },\r\n});\r\n\r\n/**\r\n * The TextField with preset formats.\r\n\r\n * @param className\r\n * @param name\r\n * @param labelKey\r\n * @param placeholderKey\r\n * @param helpKey\r\n * @param helperText\r\n * @param defaultValue\r\n * @param value\r\n * @param onChange\r\n * @param margin\r\n * @param InputLabelProps\r\n * @param InputProps\r\n * @param label\r\n * @param fullWidth\r\n * @param isFormattedNumber\r\n * @param variant\r\n * @param size\r\n * @param labelTemplate\r\n * @param editData\r\n * @param classesProp\r\n * @param internalKey\r\n * @param textFieldProps\r\n * @param placeholder The placeholder for the text component.\r\n * @return {JSX.Element}\r\n * @constructor\r\n */\r\nexport default function TextFieldLF({\r\n   className,\r\n   name,\r\n   labelKey,\r\n   placeholderKey,\r\n   helpKey,\r\n   helperText,\r\n   defaultValue,\r\n   value,\r\n   onChange,\r\n   margin = 'normal',\r\n   InputLabelProps,\r\n   InputProps,\r\n   label,\r\n   fullWidth = true,\r\n   isFormattedNumber,\r\n   variant = 'outlined',\r\n   size = 'small',\r\n   labelTemplate,\r\n   editData,\r\n   classes: classesProp,\r\n   internalKey,\r\n   placeholder,\r\n   rows,\r\n   hidden,\r\n   ...textFieldProps\r\n}) {\r\n   const classes = {...classesProp};\r\n   const useLabelKey = labelTemplate?.format({name}) || labelKey;\r\n   const currentLabel = useMessage(useLabelKey, label);\r\n   const currentPlaceholder = useMessage(placeholderKey) || placeholder;\r\n   const helpText = useMessage(helpKey, helperText) || helperText;\r\n\r\n   const useInputProps = {\r\n      ...InputProps,\r\n   };\r\n\r\n   if (isFormattedNumber) {\r\n      if (get(InputProps, 'inputComponent') || get(InputProps, 'inputProps.component')) {\r\n         console.log('isFormattedNumber cannot have a different input component.', InputProps);\r\n      }\r\n      useInputProps.inputComponent = CustomInputTextField;\r\n      useInputProps.inputProps =\r\n         {...get(InputProps, 'inputProps', {}), ...(textFieldProps.inputProps || {}), component: NumberFormatCustom};\r\n   }\r\n\r\n   return (\r\n      <ThemeProvider theme={theme}>\r\n         <TextField\r\n            {...textFieldProps}\r\n            key={'internal' + internalKey}\r\n            name={name}\r\n            className={`${classes.textFieldStyle} ${className}`}\r\n            label={currentLabel}\r\n            placeholder={currentPlaceholder}\r\n            helperText={helpText}\r\n            defaultValue={defaultValue}\r\n            value={value}\r\n            rows={rows ? rows : 8}\r\n            multiline={true}\r\n            onChange={onChange}\r\n            InputProps={useInputProps}\r\n            InputLabelProps={{\r\n               ...InputLabelProps,\r\n               shrink: true,\r\n            }}\r\n            hidden\r\n            variant={variant}\r\n            size={size}\r\n            margin={margin}\r\n            fullWidth={fullWidth}\r\n         />\r\n      </ThemeProvider>\r\n   );\r\n}\r\n","import {lighten} from '@material-ui/core/styles';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport useTheme from '@material-ui/core/styles/useTheme';\r\nimport {MODULES_QUERY_WHERE, getModelCacheQueries, MODULES_CREATE_UPDATE, MODULE_QUERY} from '../../data/QueriesGL';\r\nimport {MODULE_EDIT, ADMIN_COURSE_PATH, APPBAR_SMALL_HEIGHT, ADMIN_DRAWER, ADMIN_COURSES_PATH} from '../../Constants';\r\nimport usePageTitle from '../hooks/usePageTitle';\r\nimport { sortBy, defer } from 'lodash';\r\nimport {Link, useHistory, useParams, useLocation} from 'react-router-dom';\r\nimport React, { useState, useEffect } from 'react';\r\nimport {Add} from '@material-ui/icons';\r\nimport ButtonFHG from '../components/ButtonFHG';\r\nimport {v4 as uuid} from 'uuid';\r\nimport Form from '../components/edit/Form';\r\nimport Grid from '../components/Grid';\r\nimport ProgressButton from '../components/ProgressButton';\r\nimport TypographyFHG from '../components/Typography';\r\nimport useMutationFHG from '../hooks/data/useMutationFHG';\r\nimport useQueryFHG from '../hooks/data/useQueryFHG';\r\nimport { cacheUpdate } from '../utils/DataUtil';\r\nimport TextFieldLF from '../../components/TextFieldLF';\r\n\r\nconst useStyles = makeStyles(\r\n   (theme) => ({\r\n      formStyle: {\r\n         maxHeight: '100%',\r\n         // overflow: 'hidden',\r\n         width: '100%',\r\n         display: 'flex',\r\n         flexDirection: 'column',\r\n      },\r\n      infoRootStyle: {\r\n         maxHeight: `calc(100% - ${theme.spacing(5)}px)`,\r\n         '& > *': {\r\n            marginRight: theme.spacing(1),\r\n         },\r\n         overflow: 'hidden',\r\n         marginBottom: theme.spacing(1),\r\n      },\r\n      infoInnerStyle: {\r\n         padding: theme.spacing(0, 1),\r\n      },\r\n      buttonPanelStyle: {\r\n         marginLeft: -8,\r\n         borderTop: `solid 1px ${theme.palette.divider}`,\r\n         margin: theme.spacing(0, 0, 0, 0),\r\n         padding: theme.spacing(1, 2, 0),\r\n         '& > *': {\r\n            marginRight: theme.spacing(1),\r\n         },\r\n      },\r\n      frameStyle: {\r\n         padding: theme.spacing(3, 0),\r\n      },\r\n      '::placeholder': {\r\n         color: '#707070 !important',\r\n      },\r\n      buttonStyle: {\r\n         margin: theme.spacing(1),\r\n         '&:hover': {\r\n            color: theme.palette.error.main,\r\n         },\r\n      },\r\n      deleteColorStyle: {\r\n         backgroundColor: lighten(theme.palette.error.light, 0.7),\r\n         '&:hover': {\r\n            backgroundColor: lighten(theme.palette.error.light, 0.8),\r\n         },\r\n      },\r\n      deleteButtonStyle: {\r\n         '&:hover': {\r\n            color: theme.palette.error.main,\r\n         },\r\n      },\r\n      addButton:{\r\n         width: '100%',\r\n      },\r\n      btnRight:{\r\n         float: 'right',\r\n      },\r\n      textCenter: {\r\n         textAlign: 'center'\r\n      },\r\n      main: {\r\n         width: '100%'\r\n      },\r\n\r\n      inputStyle: {\r\n         backgroundColor: theme.palette.background.default,\r\n      },\r\n      frameStyle: {\r\n         padding: theme.spacing(4, 2),\r\n      },\r\n      expand: {\r\n         transform: 'rotate(0deg)',\r\n         marginLeft: 'auto',\r\n         transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n         }),\r\n      },\r\n      expandOpen: {\r\n         transform: 'rotate(180deg)',\r\n      },\r\n      titleStyle: {\r\n         paddingTop: theme.spacing(2),\r\n         // position: 'relative',\r\n      },\r\n      fadeArea: {\r\n         marginTop: theme.spacing(1),\r\n         padding: '5px 0px 0px 6px',\r\n         '&:hover $fadeIn': {\r\n            opacity: 1,\r\n            textDecoration: 'underline',\r\n         },\r\n      },\r\n      fadeIn: {\r\n         opacity: 1,\r\n      },\r\n      labelRoot: {\r\n         '&:hover $fadeIn': {\r\n            opacity: 1,\r\n         },\r\n      },\r\n      deleteColorStyle: {\r\n         backgroundColor: lighten(theme.palette.error.light, 0.7),\r\n         '&:hover': {\r\n            backgroundColor: lighten(theme.palette.error.light, 0.8),\r\n         },\r\n      },\r\n      deleteButtonStyle: {\r\n         '&:hover': {\r\n            color: theme.palette.error.main,\r\n         },\r\n      },\r\n      buttonStyle: {\r\n         height: 42,\r\n         backgroundColor: '#F4F4F4',\r\n         position: 'absolute',\r\n         right: 0,\r\n         top: 16,\r\n         zIndex: 1000,\r\n      },\r\n      treeLabelStyle: {\r\n         textDecoration: 'none',\r\n         cursor: 'pointer',\r\n         '&:hover': {\r\n            textDecoration: 'underline',\r\n         },\r\n      },\r\n      selectedBox: {\r\n         background: 'rgba(0, 0, 0, 0.04)'\r\n      },\r\n\r\n      moduleHeading: {\r\n         textDecoration: 'none', \r\n      },\r\n      drawerStyle: {\r\n         padding: theme.spacing(0, 2),\r\n         border:' 1px solid black'\r\n      },\r\n   }),\r\n   {name: 'ModuleEditStyles'}\r\n);\r\nconst DEFAULT_EXPANDED = ['course'];\r\nconst TREE_CONTENT_WIDTH = 420;\r\n\r\nexport default function ModuleEdit({isAdmin = false, moduleId}) {\r\n   const classes = useStyles();\r\n   const theme = useTheme();\r\n   const [editValues, setEditValues] = useState({\r\n      name: '',\r\n      order_no: null,\r\n   });\r\n   const [isSaving, setIsSaving] = useState(false);\r\n   const [moduleCreateUpdate] = useMutationFHG(MODULES_CREATE_UPDATE);\r\n   const location = useLocation();\r\n   const history = useHistory();\r\n\r\n   const params = useParams();\r\n   const courseId = params.courseId;\r\n\r\n   const [moduleData] = useQueryFHG(MODULE_QUERY, {variables: {id: moduleId, isDeleted: false}}, 'module.type');\r\n   usePageTitle({titleKey: 'module.title2.label'});\r\n   console.log('moduleData ::::::::', moduleData)\r\n   useEffect(() => {\r\n      if (moduleData?.modules?.length > 0) {\r\n         setEditValues(moduleData.modules[0]);\r\n      }\r\n   }, [moduleData]);\r\n\r\n   const handleClose = () => {\r\n      setEditValues({\r\n         name: '',\r\n         order_no: null,\r\n      });\r\n      defer(() => {\r\n         if (!isAdmin) {\r\n            location.state = {edit: undefined};\r\n            location.pathname = `/admin/course/${courseId}`;\r\n            history.replace(location);\r\n         } else {\r\n            history.replace(`/admin/course/${courseId}`);\r\n         }\r\n      });\r\n   }\r\n\r\n   const handleChange = (e) => {\r\n      const target = e.target.name\r\n      const value = e.target.value\r\n      setEditValues({\r\n         ...editValues,\r\n         [target]: value\r\n      })\r\n   }\r\n\r\n   const handleSubmit = (async () => {\r\n      try {\r\n         setIsSaving(true);\r\n         var variables = null\r\n         if(typeof editValues.id !== 'undefined' ){\r\n            variables = {id: editValues.id, course_id: editValues.course_id, order_no: parseInt(editValues.order_no), name: editValues.name};\r\n         }\r\n\r\n         await moduleCreateUpdate({\r\n            variables,\r\n            optimisticResponse: {\r\n               __typename: 'Mutation',\r\n               modules: {\r\n                  __typename: 'Modules',\r\n                  id: editValues.id, \r\n                  course_id: editValues.course_id, \r\n                  order_no: parseInt(editValues.order_no), \r\n                  name: editValues.name\r\n               },\r\n            },\r\n            update: cacheUpdate(getModelCacheQueries(courseId, false), editValues.id, 'modules'),\r\n\r\n         });\r\n         setIsSaving(false);\r\n         // setIsChanged(false);\r\n         handleClose();\r\n      } catch (e) {\r\n         setIsSaving(false);\r\n      }\r\n\r\n   });\r\n\r\n   return (\r\n      <Grid\r\n         container\r\n         fullWidth\r\n         fullHeight\r\n         className={classes.frameStyle}\r\n         direction={'column'}\r\n         overflow={'visible'}\r\n         wrap={'nowrap'}\r\n      >\r\n         {!isAdmin && (\r\n            <Grid item resizable={false} className={classes.infoInnerStyle}>\r\n               <TypographyFHG variant={'h5'} id={'lms.title.label'} color={'textSecondary'} gutterBottom />\r\n            </Grid>\r\n         )}\r\n         <Grid item container resizable>\r\n            <Form onSubmit={handleSubmit} className={classes.formStyle}>\r\n               <Grid name={'Module Edit Root'} item fullWidth className={classes.infoRootStyle}>\r\n                  <Grid name={'Module Edit Inner'} container item fullWidth className={classes.infoInnerStyle}>\r\n                        <div className={classes.addButton}>\r\n                           <TypographyFHG\r\n                              variant='h5'\r\n                              color={'textPrimary'}\r\n                              className={classes.moduleHeading}\r\n                              // onClick={handleEditClient}\r\n                              button\r\n                              component={Link}\r\n                           >\r\n                              Edit Module\r\n                           </TypographyFHG>\r\n                        </div>\r\n                        <div className={classes.main}>\r\n                           <TextFieldLF\r\n                              key={'name'}\r\n                              name={'name'}\r\n                              autoFocus\r\n                              labelTemplate={'lms.{name}.label'}\r\n                              onChange={(e) => handleChange(e)}\r\n                              // defaultValue={defaultValues.name}\r\n                              value={editValues.name}\r\n                              required\r\n                           />\r\n                           <TextFieldLF\r\n                              key={'order_no'}\r\n                              name={'order_no'}\r\n                              type='number'\r\n                              labelTemplate={'lms.{name}.label'}\r\n                              onChange={(e) => handleChange(e)}\r\n                              value={editValues.order_no}\r\n                              required\r\n                           />\r\n                           <Grid container item direction={'row'} fullWidth className={classes.buttonPanelStyle} justify={'space-between'} overflow={'visible'} resizable={false} alignItems={'center'} >\r\n                              <Grid item>\r\n                                 <ProgressButton\r\n                                    isProgress={isSaving}\r\n                                    variant='text'\r\n                                    color='primary'\r\n                                    type={'submit'}\r\n                                    size='large'\r\n                                    labelKey='save.label'\r\n                                    disabled={isSaving}\r\n                                 />\r\n                                 <ButtonFHG\r\n                                    variant='text'\r\n                                    size={'large'}\r\n                                    labelKey={'cancel.button'}\r\n                                    disabled={isSaving}\r\n                                    onClick={() => handleClose()}\r\n                                 />\r\n                              </Grid>\r\n                           </Grid>\r\n                        </div>\r\n                  </Grid>\r\n               </Grid>\r\n            </Form>\r\n         </Grid>\r\n      </Grid>\r\n   );\r\n}\r\n","import {lighten} from '@material-ui/core/styles';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport useTheme from '@material-ui/core/styles/useTheme';\r\nimport {MODULES_QUERY_WHERE, getModelCacheQueries, MODULES_CREATE_UPDATE, MODULE_DELETE} from '../../data/QueriesGL';\r\nimport {MODULE_EDIT, ADMIN_COURSE_PATH, APPBAR_SMALL_HEIGHT, ADMIN_DRAWER, ADMIN_COURSES_PATH} from '../../Constants';\r\nimport usePageTitle from '../hooks/usePageTitle';\r\nimport { sortBy, defer } from 'lodash';\r\nimport {Link, useHistory, useParams, useLocation} from 'react-router-dom';\r\nimport React, {useState, useEffect , useMemo } from 'react';\r\nimport {Add} from '@material-ui/icons';\r\nimport ButtonFHG from '../components/ButtonFHG';\r\nimport {v4 as uuid} from 'uuid';\r\nimport Form from '../components/edit/Form';\r\nimport Grid from '../components/Grid';\r\nimport ProgressButton from '../components/ProgressButton';\r\nimport TypographyFHG from '../components/Typography';\r\nimport useMutationFHG from '../hooks/data/useMutationFHG';\r\nimport useQueryFHG from '../hooks/data/useQueryFHG';\r\nimport {cacheDelete, cacheUpdate} from '../utils/DataUtil';\r\nimport TextFieldLF from '../../components/TextFieldLF';\r\nimport ModulesEdit from './ModulesEdit';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {Edit} from '@material-ui/icons';\r\nimport {Delete} from '@material-ui/icons';\r\nimport ConfirmIconButton from '../components/ConfirmIconButton';\r\nimport clsx from 'clsx';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport axios from \"axios\";\r\n\r\nconst useStyles = makeStyles(\r\n   (theme) => ({\r\n      formStyle: {\r\n         height: `100%`,\r\n         maxHeight: '100%',\r\n         width: '100%',\r\n         display: 'flex',\r\n         flexDirection: 'column',\r\n      },\r\n      infoRootStyle: {\r\n         height: `100%`,\r\n         maxHeight: `100%`,\r\n         '& > *': {\r\n            marginRight: theme.spacing(1),\r\n         },\r\n         overflow: 'hidden',\r\n         marginBottom: theme.spacing(1),\r\n      },\r\n      infoInnerStyle: {\r\n         padding: theme.spacing(0, 1),\r\n      },\r\n      buttonPanelStyle: {\r\n         marginLeft: -8,\r\n         borderTop: `solid 1px ${theme.palette.divider}`,\r\n         margin: theme.spacing(0, 0, 0, 0),\r\n         padding: theme.spacing(1, 2, 0),\r\n         '& > *': {\r\n            marginRight: theme.spacing(1),\r\n         },\r\n      },\r\n      '::placeholder': {\r\n         color: '#707070 !important',\r\n      },\r\n      buttonStyle: {\r\n         margin: theme.spacing(1),\r\n         '&:hover': {\r\n            color: theme.palette.error.main,\r\n         },\r\n      },\r\n      deleteColorStyle: {\r\n         backgroundColor: lighten(theme.palette.error.light, 0.7),\r\n         '&:hover': {\r\n            backgroundColor: lighten(theme.palette.error.light, 0.8),\r\n         },\r\n      },\r\n      deleteButtonStyle: {\r\n         '&:hover': {\r\n            color: theme.palette.error.main,\r\n         },\r\n      },\r\n      addButton:{\r\n         width: '100%',\r\n      },\r\n      btnRight:{\r\n         float: 'right',\r\n      },\r\n      textCenter: {\r\n         textAlign: 'center'\r\n      },\r\n      main: {\r\n         width: '100%'\r\n      },\r\n\r\n      inputStyle: {\r\n         backgroundColor: theme.palette.background.default,\r\n      },\r\n      frameStyle: {\r\n         padding: theme.spacing(4, 2),\r\n      },\r\n      expand: {\r\n         transform: 'rotate(0deg)',\r\n         marginLeft: 'auto',\r\n         transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n         }),\r\n      },\r\n      expandOpen: {\r\n         transform: 'rotate(180deg)',\r\n      },\r\n      titleStyle: {\r\n         paddingTop: theme.spacing(2),\r\n         // position: 'relative',\r\n      },\r\n      tableMain: {\r\n         maxHeight: '592px',\r\n         // height: 100%\r\n      },\r\n      table: {\r\n         height: '100%',\r\n         overflow: 'auto'\r\n      },\r\n      tableHeading:{\r\n         position: 'sticky',\r\n         top: '0',\r\n         backgroundColor: '#85AC5B',\r\n         zIndex: '10',\r\n         color: '#fff !important',\r\n      },\r\n      tableCell: {\r\n         \"$hover:hover &\": {\r\n           color: \"pink\"\r\n         },\r\n         color: '#fff !important',\r\n      },\r\n      tableWidth: {\r\n         width: '90px'\r\n      },\r\n      fadeArea: {\r\n         marginTop: theme.spacing(1),\r\n         padding: '5px 0px 0px 6px',\r\n         '&:hover $fadeIn': {\r\n            opacity: 1,\r\n            textDecoration: 'underline',\r\n         },\r\n      },\r\n      fadeIn: {\r\n         opacity: 1,\r\n      },\r\n      labelRoot: {\r\n         '&:hover $fadeIn': {\r\n            opacity: 1,\r\n         },\r\n      },\r\n      deleteColorStyle: {\r\n         backgroundColor: lighten(theme.palette.error.light, 0.7),\r\n         '&:hover': {\r\n            backgroundColor: lighten(theme.palette.error.light, 0.8),\r\n         },\r\n      },\r\n      deleteButtonStyle: {\r\n         '&:hover': {\r\n            color: theme.palette.error.main,\r\n         },\r\n      },\r\n      buttonStyle: {\r\n         height: 42,\r\n         backgroundColor: '#F4F4F4',\r\n         position: 'absolute',\r\n         right: 0,\r\n         top: 16,\r\n         zIndex: 1000,\r\n      },\r\n      treeLabelStyle: {\r\n         textDecoration: 'none',\r\n         cursor: 'pointer',\r\n         '&:hover': {\r\n            // textDecoration: 'underline',\r\n         },\r\n      },\r\n      selectedTrBox: {\r\n         // background: '#cce5b0'\r\n         background: '#cce5b0 !important'\r\n      },\r\n      // MuiTableRow-root. MuiTableRow-hover:hover {\r\n      //    background-color: rgba(0, 0, 0, 0.04);\r\n      // }\r\n      trHover:{\r\n         '&:hover': {\r\n            // backgroundColor: '#cce5b0'\r\n            backgroundColor: 'rgb(0 0 0 / 11%)'\r\n         }\r\n      },\r\n      moduleHeading: {\r\n         textDecoration: 'none', \r\n      },\r\n      drawerStyle: {\r\n         padding: theme.spacing(0, 2),\r\n         border:' 1px solid black'\r\n      },\r\n\r\n      paper: {\r\n         position: 'absolute',\r\n         width: 800,\r\n         backgroundColor: theme.palette.background.paper,\r\n         border: '2px solid #000',\r\n         boxShadow: theme.shadows[5],\r\n         padding: theme.spacing(2, 4, 3),\r\n      },\r\n   }),\r\n   {name: 'ModuleEditStyles'}\r\n);\r\n\r\nfunction getModalStyle() {\r\n   const top = 50;\r\n   const left = 50;\r\n   return {\r\n     top: `${top}%`,\r\n     left: `${left}%`,\r\n     transform: `translate(-${top}%, -${left}%)`,\r\n   };\r\n}\r\nconst DEFAULT_EXPANDED = ['course'];\r\nconst TREE_CONTENT_WIDTH = 420;\r\n\r\nexport default function ModuleEdit({isAdmin = false}) {\r\n   const classes = useStyles();\r\n   const theme = useTheme();\r\n   const [editValues, setEditValues] = useState({\r\n      name: '',\r\n      order_no: null,\r\n   });\r\n   const [module_id, setModuleId] = useState('');\r\n   const [addNew, setAddNew] = useState(false);\r\n   const [isSaving, setIsSaving] = useState(false);\r\n   const [orderNumber, setOrderNumber] = useState(0);\r\n   const [moduleCreateUpdate] = useMutationFHG(MODULES_CREATE_UPDATE);\r\n   const location = useLocation();\r\n   const history = useHistory();\r\n   const [ModuleDelete] = useMutationFHG(MODULE_DELETE);\r\n   const [modalStyle] = React.useState(getModalStyle);\r\n\r\n\r\n   const params = useParams();\r\n   const courseId = params.courseId;\r\n   const moduleId = params.moduleId;\r\n\r\n   const [moduleData] = useQueryFHG(MODULES_QUERY_WHERE, {variables: {course_id: courseId, isDeleted: false}}, 'module.type');\r\n   usePageTitle({titleKey: 'module.title2.label'});\r\n\r\n   \r\n   // console.log('moduleData', moduleData)\r\n   const sortedModules = useMemo(() => {\r\n      if (moduleData?.modules) {\r\n         let number = sortBy(moduleData?.modules, 'order_no');\r\n         number = number[number.length - 1]\r\n         if(typeof number?.order_no !== 'undefined'){\r\n            const OrderNumber = parseInt(number?.order_no + 1)\r\n            setOrderNumber(OrderNumber)\r\n            setEditValues({\r\n               order_no: OrderNumber,\r\n            });\r\n         }else{\r\n            setOrderNumber(1)\r\n            setEditValues({\r\n               order_no: 1,\r\n            });\r\n         }\r\n         return sortBy(moduleData?.modules, 'order_no');\r\n      }\r\n      return [];\r\n   }, [moduleData]);\r\n\r\n   // useEffect(() => {\r\n   //    if(orderNumber){\r\n   //       setEditValues({\r\n   //          order_no: orderNumber,\r\n   //       });\r\n   //    }\r\n   // }, [orderNumber])\r\n\r\n   const handleClose = () => {\r\n      setEditValues({\r\n         name: '',\r\n         order_no: orderNumber,\r\n      });\r\n      setModuleId('')\r\n      setAddNew(false)\r\n   }\r\n\r\n   const handleChange = (e) => {\r\n      // const target = e.target.name\r\n      // const value = e.target.value      \r\n      // setEditValues({\r\n      //    ...editValues,\r\n      //    [target]: value\r\n      // })\r\n      const target = e.target.name\r\n      const value = e.target.value\r\n      let trim = value.trim()\r\n      if(trim.length > 0){\r\n         setEditValues({\r\n            ...editValues,\r\n            [target]: value\r\n         })\r\n      }else{\r\n         setEditValues({\r\n            ...editValues,\r\n            [target]: ''\r\n         })\r\n      }\r\n   }\r\n   \r\n   const handleSubmit = (async (type = null) => {\r\n      try {\r\n         setIsSaving(true);\r\n         var variables = null\r\n         if(typeof editValues.id !== 'undefined' ){\r\n            variables = {id: editValues.id, course_id: editValues.course_id, order_no: parseInt(editValues.order_no), name: editValues.name};\r\n         }else{\r\n            variables = {id: uuid(), course_id: courseId, order_no: parseInt(editValues.order_no), name: editValues.name};\r\n         }\r\n\r\n         await moduleCreateUpdate({\r\n            variables,\r\n            optimisticResponse: {\r\n               __typename: 'Mutation',\r\n               modules: {\r\n                  __typename: 'Modules',\r\n                  id: typeof editValues.id !== 'undefined' ? editValues.id : uuid(), \r\n                  course_id: courseId,\r\n                  order_no: parseInt(editValues.order_no),\r\n                  name: editValues.name\r\n               },\r\n            },\r\n            refetchQueries: () => getModelCacheQueries(courseId, false),\r\n            // update: cacheUpdate(getModelCacheQueries(courseId, false), editValues.id, 'modules'),\r\n         });\r\n\r\n         if(type === 'edit'){\r\n            // edit data in aws CloudSearch\r\n            var options = {\r\n               method: 'GET',\r\n               // url: `https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document`,\r\n               url: `https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/search?q=${module_id}&q.options=%7Bfields:%5B'module_id'%5D%7D`,\r\n               headers:{\r\n                  'content-type': 'application/json',\r\n                  'x-api-key': \"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M\",\r\n               },\r\n            };\r\n            axios(options)\r\n               .then((res) => res.data?.hits)\r\n               .then((hits) => hits?.hit)\r\n               .then((dataFound) => {\r\n                  console.log('dataFound ::::::::::::::::::', dataFound)\r\n                  dataFound.map((itm) => {\r\n                     var options = {\r\n                        method: 'POST',\r\n                        url: `https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document`,\r\n                        headers:{\r\n                           'content-type': 'application/json',\r\n                           'x-api-key': \"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M\",\r\n                        },\r\n                        data: JSON.stringify([\r\n                           {\r\n                              \"fields\" : {\r\n                                 ...itm.fields,\r\n                                 \"module_name\" : variables.name,\r\n                              },\r\n                              \"id\" : itm.id,\r\n                              \"type\" : \"add\"\r\n                           }\r\n                        ])\r\n                     };\r\n                     axios(options)\r\n                        .then((res) => {\r\n                        console.log('Data update Successfully ::::::::::::::::::')\r\n                        })\r\n                        .catch((err) => {\r\n                           console.log('error while uploading data::::::::::::::::::',err)\r\n                        })\r\n                  })\r\n               })\r\n               .catch((err) => {\r\n                  console.log('err ::::::::::::::::::',err)\r\n               })\r\n            // end :- data updated in aws CloudSearch\r\n         }\r\n\r\n         setIsSaving(false);\r\n         // setIsChanged(false);\r\n         handleClose();\r\n      } catch (e) {\r\n         setIsSaving(false);\r\n      }\r\n\r\n   });\r\n\r\n   const handleDeleteModule = async (event, module) => {\r\n      if (event) {\r\n         event.stopPropagation();\r\n         event.preventDefault();\r\n      }\r\n      await ModuleDelete({\r\n         variables: {id: module?.id},\r\n         optimisticResponse: {isDeleted: true},\r\n         update: cacheDelete(getModelCacheQueries(courseId, false),  module?.id, 'modules'),\r\n      });\r\n      history.push(`/admin/course/${courseId}`);\r\n   };\r\n\r\n   const handleEditModule = (event, module) => {\r\n      if (event) {\r\n         event.stopPropagation();\r\n         event.preventDefault();\r\n      }\r\n      setModuleId(module?.id);\r\n      setEditValues(module);\r\n      setAddNew(addNew => !addNew)\r\n   };\r\n   // const handleNewUser = (event) => {\r\n   //    event?.stopPropagation();\r\n   //    event?.preventDefault();\r\n\r\n   //    location.state = {edit: COURSE_EDIT};\r\n   //    location.pathname = ADMIN_COURSES_PATH;\r\n   //    history.push(location);\r\n   // };\r\n   const handleClickLink = (link, module) => {\r\n      location.state = {moduleData: module, courseData: location?.state?.courseData};\r\n      location.pathname = link;\r\n      history.push(location);\r\n   };\r\n   return (\r\n      <>\r\n         <Modal\r\n            open={addNew}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"simple-modal-title\"\r\n            aria-describedby=\"simple-modal-description\"\r\n         >\r\n            <div style={modalStyle} className={classes.paper} >\r\n               <Form onSubmit={() =>  handleSubmit(editValues.id ?  'edit' : null) } className={classes.formStyle} encType={'multipart/form-data'}>\r\n                  <h2> { editValues.id ? 'Edit Module' : 'Add Module' } </h2>\r\n                  <TextFieldLF\r\n                     key={'name'}\r\n                     name={'name'}\r\n                     autoFocus\r\n                     labelTemplate={'lms.{name}.label'}\r\n                     onChange={(e) => handleChange(e)}\r\n                     // defaultValue={defaultValues.name}\r\n                     value={editValues.name}\r\n                     required\r\n                  />\r\n                  <TextFieldLF\r\n                     key={'order_no'}\r\n                     name={'order_no'}\r\n                     type='number'\r\n                     min={\"1\"}\r\n                     labelTemplate={'lms.{name}.label'}\r\n                     onChange={(e) => handleChange(e)}\r\n                     value={editValues.order_no}\r\n                     required\r\n                  />\r\n                  <Grid container item direction={'row'} fullWidth className={classes.buttonPanelStyle} justify={'space-between'} overflow={'visible'} resizable={false} alignItems={'center'} >\r\n                     <Grid item>\r\n                        <ProgressButton\r\n                           isProgress={isSaving}\r\n                           variant='text'\r\n                           color='primary'\r\n                           type={'submit'}\r\n                           size='large'\r\n                           labelKey='save.label'\r\n                           disabled={isSaving}\r\n                        />\r\n                        <ButtonFHG\r\n                           variant='text'\r\n                           size={'large'}\r\n                           labelKey={'cancel.button'}\r\n                           disabled={isSaving}\r\n                           onClick={() => handleClose()}\r\n                        />\r\n                     </Grid>\r\n                  </Grid>\r\n               </Form>\r\n            </div>\r\n         </Modal>\r\n      <Grid\r\n         container\r\n         fullWidth\r\n         fullHeight\r\n         // className={classes.frameStyle}\r\n         direction={'column'}\r\n         overflow={'visible'}\r\n         wrap={'nowrap'}\r\n      >\r\n         {!isAdmin && (\r\n            <Grid item resizable={false} className={classes.infoInnerStyle}>\r\n               <TypographyFHG variant={'h5'} id={'lms.title.label'} color={'textSecondary'} gutterBottom />\r\n            </Grid>\r\n         )}\r\n         <Grid item container resizable >\r\n            {/* <Form onSubmit={handleSubmit} className={classes.formStyle}> */}\r\n               <Grid name={'Module Edit Root'} item fullWidth className={classes.infoRootStyle}>\r\n                  <Grid name={'Module Edit Inner'} container item fullWidth className={classes.infoInnerStyle}>\r\n                     <div className={classes.addButton}>\r\n                        <TypographyFHG\r\n                           variant='h5'\r\n                           color={'textPrimary'}\r\n                           className={classes.moduleHeading}\r\n                           // onClick={handleEditClient}\r\n                           button\r\n                           component={Link}\r\n                           selected={moduleId === module.id}\r\n                        >\r\n                           Modules\r\n                        </TypographyFHG>\r\n                        <ButtonFHG \r\n                           startIcon={(<Add/>)} \r\n                           onClick={() => setAddNew(addNew => !addNew) }\r\n                           labelKey={'module.new.button'}\r\n                           className={classes.btnRight}\r\n                        />\r\n                     </div>\r\n                     <div className={classes.main}>\r\n                        <TableContainer className={classes.tableMain} component={Paper}>\r\n                           <Table \r\n                              className={classes.table} \r\n                              aria-label=\"simple table\"\r\n                           >\r\n                              <TableHead className={classes.tableHeading}>\r\n                                 <TableRow>\r\n                                    <TableCell className={classes.tableCell} >#</TableCell>\r\n                                    <TableCell className={`${classes.tableCell} ${classes.tableWidth}`}  align=\"left\">Order No</TableCell>\r\n                                    <TableCell className={classes.tableCell}  align=\"left\">Name</TableCell>\r\n                                    <TableCell className={`${classes.tableCell} ${classes.tableWidth}`}  align=\"left\">Action</TableCell>\r\n                                 </TableRow>\r\n                              </TableHead>\r\n                              <TableBody>\r\n                                 {typeof sortedModules !== 'undefined' && sortedModules !== null && sortedModules !== '' && sortedModules && sortedModules.length > 0 ?\r\n                                    sortedModules.map((module, idx) => (\r\n                                       <TableRow key={idx}\r\n                                          className={clsx(classes.treeLabelStyle, classes.trHover, moduleId === module.id && classes.selectedTrBox )}\r\n                                          // to={`/admin/course/${module.course_id}/${module.id}`}\r\n                                          onClick={() => handleClickLink(`/admin/course/${module.course_id}/${module.id}`, module)}\r\n                                          selected={moduleId === module.id}\r\n                                          align=\"left\" \r\n                                          // component={Link}\r\n                                       >\r\n                                          <TableCell align=\"left\">\r\n                                             <TypographyFHG\r\n                                                variant='subtitle1'\r\n                                                color={'textPrimary'}\r\n                                                // className={classes.treeLabelStyle}\r\n                                                // button\r\n                                                // component={Link}\r\n                                             >\r\n                                                {idx + 1}\r\n                                             </TypographyFHG>\r\n                                          </TableCell>\r\n                                          <TableCell align=\"left\">\r\n                                             <TypographyFHG\r\n                                                variant='subtitle1'\r\n                                                color={'textPrimary'}\r\n                                                // className={classes.treeLabelStyle}\r\n                                                // button\r\n                                                // component={Link}\r\n                                                // to={`/admin/course/${module.course_id}/${module.id}`}\r\n                                                // selected={moduleId === module.id}\r\n                                             >\r\n                                                {module.order_no}\r\n                                             </TypographyFHG>\r\n                                          </TableCell>\r\n                                          <TableCell align=\"left\">\r\n                                             <TypographyFHG\r\n                                                variant='subtitle1'\r\n                                                color={'textPrimary'}\r\n                                                // className={classes.treeLabelStyle}\r\n                                                // button\r\n                                                // component={Link}\r\n                                                // to={`/admin/course/${module.course_id}/${module.id}`}\r\n                                                // selected={moduleId === module.id}\r\n                                             >\r\n                                                {module.name}\r\n                                             </TypographyFHG>\r\n                                          </TableCell>\r\n                                          <TableCell align=\"left\">\r\n                                             <IconButton\r\n                                                size={'small'}\r\n                                                // style={{float: 'right'}}\r\n                                                onClick={(e) => handleEditModule(e, module)}\r\n                                                className={classes.fadeIn}\r\n                                             >\r\n                                                <Edit fontSize={'small'} />\r\n                                             </IconButton>\r\n                                             <ConfirmIconButton\r\n                                                className={`${classes.fadeIn} ${classes.deleteButtonStyle}`}\r\n                                                onConfirm={(e) => handleDeleteModule(e, module)}\r\n                                                values={{type: 'module', name: module.name}}\r\n                                                messageKey={'confirmRemoveValue.message'}\r\n                                                buttonLabelKey={'delete.button'}\r\n                                                size={'small'}\r\n                                                submitStyle={classes.deleteColorStyle}\r\n                                                // style={{float: 'right'}}\r\n                                                buttonTypographyProps={{\r\n                                                   float: 'right',\r\n                                                   color: theme.palette.error.dark,\r\n                                                   style: {textDecoration: 'underline'},\r\n                                                }}\r\n                                             >\r\n                                                <Delete fontSize={'small'} />\r\n                                             </ConfirmIconButton>\r\n                                          </TableCell>\r\n                                       </TableRow>\r\n                                    ))\r\n                                 :\r\n                                    <TableCell colSpan={4} className={classes.textCenter} >No module are Found</TableCell>\r\n                                 }\r\n                              </TableBody>\r\n                           </Table>\r\n                        </TableContainer>\r\n                     </div>\r\n                  </Grid>\r\n               </Grid>\r\n            {/* </Form> */}\r\n         </Grid>\r\n      </Grid>\r\n      </>\r\n   );\r\n}\r\n","import {lighten} from '@material-ui/core/styles';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport useTheme from '@material-ui/core/styles/useTheme';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport {RESOURCES_QUERY_WHERE, UNITS_QUERY_WHERE, getUnitCacheQueries, getResourcesCacheQueries, RESOURCES_CREATE_UPDATE, UNIT_CREATE_UPDATE, UNIT_DELETE, RESOURCES_EDIT, RESOURCES_DELETE, UNIT_VIDEO_DELETE, UNIT_SORT } from '../../data/QueriesGL';\r\nimport { BUCKET_NAME } from '../../Constants';\r\nimport usePageTitle from '../hooks/usePageTitle';\r\nimport { sortBy, defer } from 'lodash';\r\nimport {Storage} from 'aws-amplify';\r\nimport {Link, useHistory, useParams, useLocation } from 'react-router-dom';\r\nimport React, {useState, useCallback , useMemo, useEffect } from 'react';\r\nimport {Add, ContactSupportSharp} from '@material-ui/icons';\r\nimport ButtonFHG from '../components/ButtonFHG';\r\nimport {v4 as uuid} from 'uuid';\r\nimport Grid from '../components/Grid';\r\nimport TypographyFHG from '../components/Typography';\r\nimport useMutationFHG from '../hooks/data/useMutationFHG';\r\nimport useQueryFHG from '../hooks/data/useQueryFHG';\r\nimport {cacheDelete, cacheUpdate} from '../utils/DataUtil';\r\nimport ViewUnitModal from './Component/ViewUnitModal';\r\nimport AddEditUnitModal from './Component/AddUnitModal';\r\nimport EditUnitModal from './Component/EditUnitModal';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {Edit} from '@material-ui/icons';\r\nimport {Delete} from '@material-ui/icons';\r\nimport ConfirmIconButton from '../components/ConfirmIconButton';\r\nimport clsx from 'clsx';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport moment from 'moment'\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Box from '@material-ui/core/Box';\r\nimport { ADMIN_COURSES_PATH, COURSE_EDIT, MODULE_EDIT, ADMIN_COURSE_PATH, APPBAR_SMALL_HEIGHT, ADMIN_DRAWER } from '../../Constants';\r\nimport axios from \"axios\";\r\nimport './index.css'\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\r\n\r\nconst useStyles = makeStyles(\r\n   (theme) => ({\r\n      formStyle: {\r\n         height: `100%`,\r\n         maxHeight: '100%',\r\n         width: '100%',\r\n         display: 'flex',\r\n         flexDirection: 'column',\r\n      },\r\n      errorMessage: {\r\n         color: 'red'\r\n      },\r\n      resourcesdiv: {\r\n         borderBottom: '1px solid #e8e3e3',\r\n         padding: '5px 0px'\r\n      },\r\n      labelTd:{\r\n         width: \"300px\" \r\n      },\r\n      fileTd:{\r\n         width: \"400px\"      \r\n      },\r\n      pdfCursor: {\r\n         color: 'rgb(107,146,65)',\r\n         cursor: 'pointer',\r\n         wordBreak: 'break-all'\r\n      },\r\n      processingRoot: {\r\n         clear: 'both',\r\n         width: '100%',\r\n         textAlign: 'center'\r\n      },\r\n      resources: {\r\n         textAlign: 'center',\r\n         justifyContent: 'center',\r\n         display: 'flex'\r\n      },\r\n      resourcesViewTable: {\r\n         maxWidth: '800px',\r\n         marginLeft: '50px',\r\n         textAlign: 'center'\r\n      },\r\n      resourcesTable: {\r\n         maxWidth: '550px',\r\n         textAlign: 'center'\r\n      },\r\n      infoRootStyle: {\r\n         height: `100%`,\r\n         maxHeight: `100%`,\r\n         '& > *': {\r\n            marginRight: theme.spacing(1),\r\n         },\r\n         overflow: 'hidden',\r\n         marginBottom: theme.spacing(1),\r\n      },\r\n      infoInnerStyle: {\r\n         padding: theme.spacing(0, 1),\r\n      },\r\n      buttonPanelStyle: {\r\n         // marginLeft: -8,\r\n         // borderTop: `solid 1px ${theme.palette.divider}`,\r\n         margin: theme.spacing(0, 0, 0, 0),\r\n         // padding: theme.spacing(1, 2, 0),\r\n         '& > *': {\r\n            marginRight: theme.spacing(1),\r\n         },\r\n      },\r\n      '::placeholder': {\r\n         color: '#707070 !important',\r\n      },\r\n      buttonStyle: {\r\n         margin: theme.spacing(1),\r\n         '&:hover': {\r\n            color: theme.palette.error.main,\r\n         },\r\n      },\r\n      deleteColorStyle: {\r\n         backgroundColor: lighten(theme.palette.error.light, 0.7),\r\n         '&:hover': {\r\n            backgroundColor: lighten(theme.palette.error.light, 0.8),\r\n         },\r\n      },\r\n      deleteButtonStyle: {\r\n         '&:hover': {\r\n            color: theme.palette.error.main,\r\n         },\r\n      },\r\n      addButton:{\r\n         width: '100%',\r\n      },\r\n      btnRight:{\r\n         float: 'right',\r\n      },\r\n      textCenter: {\r\n         textAlign: 'center'\r\n      },\r\n      main: {\r\n         width: '100%'\r\n      },\r\n\r\n      inputStyle: {\r\n         backgroundColor: theme.palette.background.default,\r\n      },\r\n      frameStyle: {\r\n         padding: theme.spacing(4, 2),\r\n      },\r\n      expand: {\r\n         transform: 'rotate(0deg)',\r\n         marginLeft: 'auto',\r\n         transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n         }),\r\n      },\r\n      expandOpen: {\r\n         transform: 'rotate(180deg)',\r\n      },\r\n      titleStyle: {\r\n         paddingTop: theme.spacing(2),\r\n         // position: 'relative',\r\n      },\r\n      tableMain: {\r\n         maxHeight: '592px',\r\n         // height: 100%\r\n      },\r\n      table: {\r\n         height: '100%',\r\n         overflow: 'auto'\r\n      },\r\n      tableHeading:{\r\n         position: 'sticky',\r\n         top: '0',\r\n         backgroundColor: '#85AC5B',\r\n         zIndex: '10',\r\n         color: '#fff !important',\r\n      },\r\n      tableCell: {\r\n         \"$hover:hover &\": {\r\n           color: \"pink\"\r\n         },\r\n         color: '#fff !important',\r\n      },\r\n      tableWidth: {\r\n         width: '90px'\r\n      },\r\n      fadeArea: {\r\n         marginTop: theme.spacing(1),\r\n         padding: '5px 0px 0px 6px',\r\n         '&:hover $fadeIn': {\r\n            opacity: 1,\r\n            textDecoration: 'underline',\r\n         },\r\n      },\r\n      fadeIn: {\r\n         opacity: 1,\r\n      },\r\n      labelRoot: {\r\n         '&:hover $fadeIn': {\r\n            opacity: 1,\r\n         },\r\n      },\r\n      deleteColorStyle: {\r\n         backgroundColor: lighten(theme.palette.error.light, 0.7),\r\n         '&:hover': {\r\n            backgroundColor: lighten(theme.palette.error.light, 0.8),\r\n         },\r\n      },\r\n      deleteButtonStyle: {\r\n         '&:hover': {\r\n            color: theme.palette.error.main,\r\n         },\r\n      },\r\n      buttonStyle: {\r\n         height: 42,\r\n         backgroundColor: '#F4F4F4',\r\n         position: 'absolute',\r\n         right: 0,\r\n         top: 16,\r\n         zIndex: 1000,\r\n      },\r\n      treeLabelStyle: {\r\n         textDecoration: 'none',\r\n         cursor: 'pointer',\r\n         '&:hover': {\r\n            // textDecoration: 'underline',\r\n         },\r\n      },\r\n      selectedBox: {\r\n         background: 'rgba(0, 0, 0, 0.04)'\r\n      },\r\n\r\n      moduleHeading: {\r\n         textDecoration: 'none', \r\n      },\r\n      drawerStyle: {\r\n         padding: theme.spacing(0, 2),\r\n         border:' 1px solid black'\r\n      },\r\n      textFieldHidden: {\r\n         background: 'white',\r\n         color: 'white',\r\n         marginTop: '30px',\r\n         zIndex: '-9999',\r\n         position: 'absolute',\r\n      },\r\n      height:\"500px\",\r\n      paper: {\r\n         position: 'absolute',\r\n         width: 800,\r\n         backgroundColor: theme.palette.background.paper,\r\n         border: '2px solid #000',\r\n         boxShadow: theme.shadows[5],\r\n         padding: theme.spacing(2, 4, 3),\r\n         maxHeight: '700px',\r\n         overflow: 'auto',\r\n      },\r\n      ckEditorEdit: {\r\n         height: '100%',\r\n         minHeight: '400px'\r\n      },\r\n      errorMessage: {\r\n         color: 'red'\r\n      },\r\n      textAreaEditor:{\r\n         borderColor: 'rgba(0, 0, 0, 0.23)',\r\n         border: '0.5px solid',\r\n         borderRadius: '6px'\r\n      },\r\n      legendColor:{\r\n         color: '#527928',\r\n         fontSize: '13px'\r\n      },\r\n      maxWidthEditor:{\r\n         maxHeight: '400px',\r\n         height: '100%',\r\n         width: '100%',\r\n         // maxWidth: '728px',\r\n         wordBreak: 'break-all',\r\n         overflow: 'auto'\r\n      },\r\n      modalHeading: {\r\n         borderBottom: '1px solid lightgray',\r\n      },\r\n      dialogBody:{\r\n         color: '#707070'\r\n      },\r\n      viewHeading: {\r\n         marginTop: '10px',\r\n         // textAlign: 'center'\r\n      },\r\n      viewDescription: {\r\n         margin: '20px 0px'\r\n      },\r\n      viewTranscript: {\r\n         // marginTop: '10px'\r\n      },\r\n      button: {\r\n         float: 'right'\r\n      },\r\n      floatRight: {\r\n         float: 'right'\r\n      },\r\n      radioButton:{\r\n         display: 'inline-block !important'\r\n      }\r\n   }),\r\n   {name: 'ModuleEditStyles'}\r\n);\r\n\r\nconst DEFAULT_EXPANDED = ['course'];\r\nconst TREE_CONTENT_WIDTH = 420;\r\n\r\nfunction getModalStyle() {\r\n   const top = 50;\r\n   const left = 50;\r\n   return {\r\n     top: `${top}%`,\r\n     left: `${left}%`,\r\n     transform: `translate(-${top}%, -${left}%)`,\r\n   };\r\n}\r\n \r\nfunction LinearProgressWithLabel(props) {\r\n   return (\r\n     <Box display=\"flex\" alignItems=\"center\">\r\n       <Box width=\"100%\" mr={1}>\r\n         <LinearProgress variant=\"determinate\" {...props} />\r\n       </Box>\r\n       <Box minWidth={35}>\r\n         <TypographyFHG variant=\"body2\" color=\"textSecondary\">{`${Math.round(\r\n           props.value,\r\n         )}%`}</TypographyFHG>\r\n       </Box>\r\n     </Box>\r\n   );\r\n}\r\nexport default function ModuleEdit({isAdmin = false}) {\r\n   const location = useLocation();\r\n   const history = useHistory();\r\n   const classes = useStyles();\r\n   const theme = useTheme();\r\n   const [editValues, setEditValues] = useState({\r\n      defaultId: uuid(),\r\n      name: '',\r\n      description: '',\r\n      fileLocation: '',\r\n      originalFilename: '',\r\n      transcript: ''\r\n   });\r\n   const [formErrors, setFormErrors] = useState({\r\n      // nameValid: false,\r\n      // passwordValid: false,\r\n      // formValid: false\r\n      name: '',\r\n      description: '',\r\n      originalFilename: '',\r\n      transcript: '',\r\n      label: '',\r\n      original_filename: ''\r\n   });\r\n   const [inputFields, setInputFields] = useState([\r\n      {  id: '', unit_id: '', label: '', type: '', path_url: '', original_filename: '', selectedValue: 'pdf', uploadingResources: false, uploadingResourcesPercentage: 0, error: '', errorMessage: '',  db: false}\r\n   ])\r\n   const [labels, setLabels] = useState([\r\n      {  id: '', unit_id: '', label: '', type: '', path_url: '', original_filename: '', uploadingResources: false, uploadingResourcesPercentage: 0, error: '', errorMessage: '', db: false}\r\n   ])\r\n   const [processing, setProcessing] = useState(false);\r\n   const [remove, setRemove] = useState(false);\r\n   const [addNew, setAddNew] = useState(false);\r\n   const [edit, setEdit] = useState(false);\r\n   const [viewNew, setViewNew] = useState(false);\r\n   const [isSaving, setIsSaving] = useState(false);\r\n   const [uploading, setUploading] = useState(false);\r\n   const [uploadingResources, setUploadingResources] = useState(false);\r\n   const [uploadingPercentage, setUploadingPercentage] = useState(0);\r\n   const [uploadingResourcesPercentage, setUploadingResourcesPercentage] = useState(0);\r\n   const [totalFiles, setTotalFiles] = useState(0);\r\n   const [uploadedFiles, setUploadedFiles] = useState(0);\r\n   const [close, setClose] = useState(false);\r\n   const [error, setError] = useState(null);\r\n   const [errorMessage, setErrorMessage] = useState(null);\r\n   const [resourcesData, setResourcesData] = useState(false);\r\n   const [unitCreateUpdate] = useMutationFHG(UNIT_CREATE_UPDATE);\r\n   // const [unitCreateUpdate] = useMutationFHG(UNIT_CREATE_UPDATE,{\r\n   //    refetchQueries:[\r\n   //       {\r\n   //          query: RESOURCES_QUERY_WHERE,\r\n   //          variables: { unit_id: location?.state?.unit_id, isDeleted: false }\r\n   //       }\r\n   //    ]\r\n   // });\r\n   // const [resourceCreateUpdate] = useMutationFHG(RESOURCES_CREATE_UPDATE,{\r\n   //    refetchQueries:[\r\n   //       {\r\n   //          query: RESOURCES_QUERY_WHERE,\r\n   //          variables: { unit_id: location?.state?.unit_id, isDeleted: false }\r\n   //       }\r\n   //    ]\r\n   // });\r\n\r\n   const [UnitDelete] = useMutationFHG(UNIT_DELETE);\r\n   const [UnitVideoDelete] = useMutationFHG(UNIT_VIDEO_DELETE);\r\n   const [UnitSort] = useMutationFHG(UNIT_SORT);\r\n   const [ResourceDelete] = useMutationFHG(RESOURCES_DELETE);\r\n   const [ResourceEdit] = useMutationFHG(RESOURCES_EDIT);\r\n   const [modalStyle] = React.useState(getModalStyle);\r\n   const [selectedValue, setSelectedValue] = useState('pdf');\r\n   const [resourcesLength, setResourcesLength] = useState(0);\r\n   // const [resourcesData] = useQueryFHG(RESOURCES_QUERY_WHERE, {variables: {unit_id: location?.state?.id, isDeleted: false}}, 'resources.type');\r\n\r\n   const params = useParams();\r\n   const moduleId = params.moduleId;\r\n   const courseId = params.courseId;\r\n\r\n   const [unitData] = useQueryFHG(UNITS_QUERY_WHERE, {variables: {module_id: moduleId, isDeleted: false}}, 'unit.type');\r\n   usePageTitle({titleKey: 'unit.title.label'});\r\n   useEffect(() => {\r\n      setEditValues({\r\n         defaultId: uuid(),\r\n         name: '',\r\n         description: '',\r\n         fileLocation: '',\r\n         originalFilename: '',\r\n         transcript: ''\r\n      });\r\n      setClose(false)\r\n   }, [close])\r\n\r\n   const sortedUnits = useMemo(() => {\r\n      // console.log('unitData', unitData)\r\n      if (unitData?.units) {\r\n         return sortBy(unitData?.units, 'order_no');\r\n      }\r\n      return [];\r\n   }, [unitData]);\r\n\r\n   const validateField = (fieldName, value) => {\r\n      let fieldValidationErrors = this.state.formErrors;\r\n      let nameValid = this.state.nameValid;\r\n      let transcriptValid = this.state.transcriptValid;\r\n    \r\n      switch(fieldName) {\r\n        case 'name':\r\n          let name = value.trim()\r\n          nameValid = name.length > 0;\r\n          fieldValidationErrors.name = nameValid ? '' : ' is invalid';\r\n          break;\r\n        case 'password':\r\n          transcriptValid = value.length >= 6;\r\n          fieldValidationErrors.transcript = transcriptValid ? '': ' is too short';\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      // this.setState({\r\n      //    formErrors: fieldValidationErrors,\r\n      //    nameValid: nameValid,\r\n      //    transcriptValid: transcriptValid\r\n      // }, this.validateForm);\r\n   }\r\n    \r\n   const validateForm = () => {\r\n      // this.setState({formValid: this.state.nameValid && this.state.transcriptValid});\r\n   }\r\n\r\n   const handleRadioChange = (event, index) => {\r\n      let data = [...inputFields];\r\n      if(data[index] !== undefined){\r\n         data[index]['id'] = ''\r\n         data[index]['unit_id'] = ''\r\n         data[index]['label'] = ''\r\n         data[index]['type'] = ''\r\n         data[index]['path_url'] = ''\r\n         data[index]['original_filename'] = ''\r\n         data[index]['selectedValue'] = event.target.value\r\n         data[index]['uploadingResources'] = false\r\n         data[index]['uploadingResourcesPercentage'] = 0\r\n         data[index]['error'] = ''\r\n         data[index]['errorMessage'] = ''\r\n         data[index]['db'] = false\r\n         setInputFields(data);\r\n      }\r\n   };\r\n   \r\n   const handleClose = async () => {\r\n      setEdit(false)\r\n      setClose(true)\r\n      setIsSaving(false)\r\n      setUploading(false)\r\n      setUploadingResources(false)\r\n      setUploadingPercentage(0)\r\n      setUploadingResourcesPercentage(0)\r\n      setUploadedFiles(0)\r\n      setTotalFiles(0)\r\n      setAddNew(false)\r\n      setViewNew(false)\r\n      setRemove(false)\r\n      setEditValues({\r\n         defaultId:  uuid(),\r\n         name: '',\r\n         description: '',\r\n         fileLocation: '',\r\n         originalFilename: '',\r\n         transcript: ''\r\n      });\r\n      setSelectedValue('pdf');\r\n      setLabels([\r\n         {  id: '', unit_id: '', label: '', type: '', path_url: '', original_filename: '', error: '', errorMessage: '', db: false}\r\n      ]);\r\n      setInputFields([\r\n         {  id: '', unit_id: '', label: '', type: '', path_url: '', original_filename: '', selectedValue: 'pdf', uploadingResources: false, uploadingResourcesPercentage: 0, error: '', errorMessage: '', db: false}\r\n      ]);\r\n      setErrorMessage(null)\r\n      setError(null)\r\n   }\r\n   function makeid(length) {\r\n      var result           = '';\r\n      var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n      var charactersLength = characters.length;\r\n      for ( var i = 0; i < length; i++ ) {\r\n         result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n      }\r\n     return result;\r\n   } \r\n   const handleRemove = async (video, unit_id) => {\r\n      const removeKey = `lms/upload/${video.originalFilename}`; \r\n      setRemove(true)\r\n      setProcessing(true)\r\n      await Storage.remove( removeKey );\r\n      setProcessing(false)\r\n      setEditValues({\r\n         ...editValues,\r\n         fileLocation: '',\r\n         originalFilename: ''\r\n      })\r\n      await UnitVideoDelete({\r\n         variables: {id: unit_id},\r\n         optimisticResponse: {introVideo: null},\r\n         update: cacheDelete(getUnitCacheQueries(moduleId, false), unit_id, 'units'),\r\n      });\r\n   };\r\n   const handleFile = async (e) => {\r\n      let upload = null;\r\n      const file = e.target.files[0]\r\n      const ext = file.name.substring(file.name.lastIndexOf('.')+1, file.name.length);\r\n      console.log('ext :::::::::',ext)\r\n      if(ext == 'mov' || ext == 'mp4' ){\r\n         try{\r\n            if(typeof file !== 'undefined' && file && typeof editValues.fileLocation !== 'undefined' && editValues.fileLocation !== '' && editValues.fileLocation !== null){\r\n               const removeKey = `lms/upload/${editValues.originalFilename}`; \r\n               setUploading(false)\r\n               setUploadingPercentage(0)\r\n               await Storage.remove( removeKey );\r\n            }\r\n            if(typeof file !== 'undefined' && file){\r\n               console.log('file', file)\r\n               const fileName = `${moment().unix() + makeid(5)}.${ext}`\r\n               console.log(fileName);\r\n\r\n               const insertKey = `lms/upload/${fileName}`; \r\n               setUploading(true)\r\n               setEditValues({\r\n                  ...editValues,\r\n                  fileLocation: `${BUCKET_NAME}/${insertKey}`,\r\n                  originalFilename: fileName\r\n               })\r\n               upload = await Storage.put(insertKey, file, {\r\n                  level: 'public', \r\n                  contentType: file.type,\r\n                  resumable: true,\r\n                  progressCallback: (progress) => {\r\n                     setUploadingPercentage(progress.loaded / progress.total * 100)\r\n                     console.log(`Uploaded: ${progress.loaded}/${progress.total}`);\r\n                  },\r\n                  completeCallback: (event) => {\r\n                     setUploadingPercentage(100)\r\n                     console.log(`Successfully uploaded ${event.key}`);\r\n                  },\r\n                  errorCallback: (err) => {\r\n                     console.error('Unexpected error while uploading', err);\r\n                  }\r\n               })\r\n               // setUploading(false)\r\n            }\r\n         }catch(err){\r\n            setUploading(false)\r\n            setUploadingPercentage(0)\r\n            Storage.cancel(upload);\r\n            console.log(err);\r\n         }\r\n      }else{\r\n         setError('introVideo')\r\n         setErrorMessage('Only .mp4 and .mov are allowed!')\r\n      }\r\n   }\r\n   const handleResourcesLabel = async (index, e ,type = null) => {\r\n      const value = e.target.value\r\n      let trim = value.trim()\r\n      console.log('trim ::::', trim)\r\n      if(type !== null && typeof type !== 'undefined' && type !== ''){\r\n         if(trim.length > 0){\r\n            console.log('hi')\r\n            const data = [...labels]\r\n            data[index]['label'] = trim\r\n            setLabels(data);\r\n         }else{\r\n            console.log('hello')\r\n            const data = [...labels]\r\n            data[index]['label'] = ''\r\n            setLabels(data);\r\n         }\r\n      }else{\r\n         if(trim.length > 0){\r\n            console.log('hi 1')\r\n            let data = [...inputFields];\r\n            data[index]['label'] = trim;\r\n            setInputFields(data);\r\n         }else{\r\n            console.log('hi 2')\r\n            let data = [...inputFields];\r\n            data[index]['label'] = '';\r\n            setInputFields(data);\r\n         }\r\n      }\r\n   }\r\n   const handleUrl = async (index, e, selectedType , type = null ) => {\r\n      if(type !== null && typeof type !== 'undefined' && type !== ''){\r\n         let data = [...labels];\r\n         data[index]['path_url'] = e.target.value;\r\n         setLabels(data);\r\n      }else{\r\n         let data = [...inputFields];\r\n         data[index]['id'] = uuid();\r\n         data[index]['unit_id'] = typeof editValues.id !== 'undefined' && editValues.id ? editValues.id : editValues.defaultId ;\r\n         data[index]['type'] = selectedType;\r\n         data[index]['path_url'] = e.target.value;\r\n         setInputFields(data);\r\n      }\r\n   }\r\n   const handleResources = async (index, e, type, unit_id) => {\r\n      const file = e.target.files[0]\r\n      let upload = null;\r\n      let counter = 0\r\n      let ext = file.name.substring(file.name.lastIndexOf('.')+1, file.name.length);\r\n      console.log('file', file)\r\n      let fileType = file.type.split('/')[1]\r\n      console.log(type, 'fileType', ext)\r\n      let data = [...inputFields];\r\n      console.log('type :::::::::::::', type)\r\n      console.log('ext :::::::::::::', ext)\r\n      if((type === 'xlsx' && ext === 'xlsx') || (type === 'pdf' && ext === 'pdf') || (type === 'xlsx' && ext === 'xls')){\r\n         if(type === 'pdf') {\r\n            data[index]['error'] = '';                        \r\n            data[index]['errorMessage'] = '';\r\n         }else if(type === 'xlsx'){\r\n            data[index]['error'] = '';\r\n            data[index]['errorMessage'] = '';\r\n         }\r\n\r\n         data[index]['uploadingResources'] = false\r\n         data[index]['uploadingResourcesPercentage'] = 0\r\n         try{\r\n            if(typeof file !== 'undefined' && e.target.files?.length > 0 && typeof data[index]['path_url'] !== 'undefined' && data[index]['path_url'] !== '' && data[index]['path_url'] !== null){\r\n               if(data[index]['path_url'] !== null && data[index]['path_url'] !== ''){\r\n                  let path = null\r\n                  if(data[index]['type'] === 'v') path = `lms/unit/resources/videos/${data[index]['path_url']}`\r\n                  else if(data[index]['type'] === 'i')  path = `lms/unit/resources/images/${data[index]['path_url']}`\r\n                  else if(data[index]['type'] === 'pdf')  path = `lms/unit/resources/pdf/${data[index]['path_url']}`\r\n                  else if(data[index]['type'] === 'xlsx')  path = `lms/unit/resources/xlsx/${data[index]['path_url']}`\r\n         \r\n                  const removeKey = path; \r\n                  console.log('removeKey', removeKey)\r\n                  data[index]['uploadingResources'] = false\r\n                  data[index]['uploadingResourcesPercentage'] = 0\r\n                  await Storage.remove( removeKey );\r\n               }\r\n            }\r\n            let name = null\r\n            if(type === 'v') name = 'videos'\r\n            else if(type === 'i')  name = 'images'\r\n            else if(type === 'pdf')  name = 'pdf'\r\n            else if(type === 'xlsx')  name = 'xlsx'\r\n            \r\n            setTotalFiles(file?.length)\r\n            // for (const file of file) {\r\n               if(typeof file !== 'undefined' && file){\r\n                  let fileName = `${moment().unix() + makeid(5)}.${ext}`\r\n                  console.log(fileName);\r\n                  let insertKey = `lms/unit/resources/${name}/${fileName}`; \r\n                  data[index]['uploadingResources'] = true\r\n                  data[index]['id'] = uuid();\r\n                  data[index]['unit_id'] = typeof editValues.id !== 'undefined' && editValues.id ? editValues.id : editValues.defaultId ;\r\n                  // data[index]['label'] = file.name;\r\n                  data[index]['type'] = type;\r\n                  data[index]['path_url'] = `${insertKey}`;\r\n                  data[index]['original_filename'] = file.name;\r\n                  upload = await Storage.put(insertKey, file, {\r\n                     level: 'public', \r\n                     contentType: file.type,\r\n                     resumable: true,\r\n                     progressCallback: (progress) => {\r\n                        data[index]['uploadingResourcesPercentage'] = progress.loaded / progress.total * 100\r\n                        if(progress.loaded / progress.total * 100 === 100){\r\n                           counter++\r\n                        }\r\n                        // console.log(`Uploaded: ${progress.loaded}/${progress.total}`);\r\n                        // console.log(`Uploaded: ${progress.loaded / progress.total * 100}`);\r\n                     },\r\n                     completeCallback: (event) => {\r\n                        setUploadingResourcesPercentage(100)\r\n                        data[index]['uploadingResourcesPercentage'] = 100\r\n                     },\r\n                     errorCallback: (err) => {\r\n                        console.error('Unexpected error while uploading', err);\r\n                     }\r\n                  })\r\n                  setUploadedFiles(counter)\r\n               }\r\n            // }\r\n            setInputFields(data);\r\n         }catch(err){\r\n            // setUploadingResources(false)\r\n            // setUploadingResourcesPercentage(0)\r\n            data[index]['uploadingResources'] = false\r\n            data[index]['uploadingResourcesPercentage'] = 0\r\n            Storage.cancel(upload);\r\n            setInputFields(data);\r\n            console.log(err);\r\n         }\r\n      }else {\r\n         if(type === 'pdf') {\r\n            data[index]['error'] = type;                        \r\n            data[index]['errorMessage'] = 'Only pdf are allowed!';\r\n         }else if(type === 'xlsx'){\r\n            data[index]['error'] = type;\r\n            data[index]['errorMessage'] = 'Only .xlsx and .xls are allowed!';\r\n         }\r\n         setInputFields(data);\r\n      }\r\n   }\r\n   const handleEditorChange = (data) => {\r\n      setEditValues({\r\n         ...editValues,\r\n         description: data\r\n      })\r\n   }\r\n   const handleChange = (e) => {\r\n      const target = e.target.name\r\n      const value = e.target.value\r\n      let trim = value.trim()\r\n      if(trim.length > 0){\r\n         setEditValues({\r\n            ...editValues,\r\n            [target]: value\r\n         })\r\n      }else{\r\n         setEditValues({\r\n            ...editValues,\r\n            [target]: ''\r\n         })\r\n      }\r\n   }\r\n   const handleEditUnit = (event, unit) => {\r\n      if (event) {\r\n         event.stopPropagation();\r\n         event.preventDefault();\r\n      }\r\n      const introVideo = JSON.parse(unit.introVideo)\r\n      setEditValues({\r\n         ...unit,\r\n         fileLocation: introVideo?.fileLocation,\r\n         originalFilename: introVideo?.originalFilename,\r\n      });\r\n      const resources = unit.resources\r\n      setResourcesLength(resources?.length)\r\n      let arr = []\r\n      if(resources?.length > 0) {\r\n         const data = sortBy(resources, 'label');\r\n         data.map(itm => {\r\n            const {id, unit_id, label, type, path_url, original_filename} = itm\r\n            arr.push({ id, unit_id, label, type, path_url, original_filename, selectedValue: type, uploadingResources: false, uploadingResourcesPercentage: 0, db: true })\r\n         })\r\n         setLabels(arr)\r\n         setInputFields(arr)\r\n      }\r\n      setEdit(true)\r\n      // setAddNew(addNew => !addNew)\r\n   }; \r\n   const handleViewtUnit = (event, unit) => {\r\n      if (event) {\r\n         event.stopPropagation();\r\n         event.preventDefault();\r\n      }\r\n      setEditValues(unit);\r\n      const resources = unit.resources\r\n      setResourcesData(resources)\r\n      setViewNew(true)\r\n   }; \r\n   const handleEditSubmit = (async () => {\r\n      // const resources = [...inputFields, ...labels]\r\n      const resources = [...inputFields]\r\n      if((uploadingPercentage === 100 || uploadingResourcesPercentage === 100) || editValues.id ){\r\n         try {\r\n            const unit_id = resources[0]?.unit_id\r\n\r\n            let variables = null\r\n            setIsSaving(true);\r\n            if(typeof editValues.id !== 'undefined' ){\r\n               if(resources.length > 0 && resources[0].label !== ''){\r\n                  variables = {\r\n                     ...editValues, \r\n                     module_id: moduleId,\r\n                     resources: JSON.stringify(resources) \r\n                  };\r\n               }else{\r\n                  variables = {\r\n                     ...editValues, \r\n                     module_id: moduleId\r\n                  };\r\n               }\r\n            }\r\n            await unitCreateUpdate({\r\n               variables,\r\n               optimisticResponse: {\r\n                  __typename: 'Mutation',\r\n                  units: {\r\n                     __typename: 'Units',\r\n                     module_id: moduleId,\r\n                     ...editValues,\r\n                     resources: JSON.stringify(resources) \r\n                  },\r\n               },\r\n               refetchQueries: getUnitCacheQueries(moduleId, false),\r\n               // update: cacheUpdate(getUnitCacheQueries(moduleId, false), editValues.id, 'units'),\r\n            });\r\n            // uploading data on aws cloud search\r\n            const courseData = location?.state?.courseData\r\n            const moduleData = location?.state?.moduleData\r\n\r\n            const { id, name, description, transcript } = variables\r\n            const keywords = []\r\n            // console.log('courseData :::::::::::', courseData)\r\n            // console.log('moduleData :::::::::::', moduleData)\r\n            const keywordsData = JSON.parse(courseData?.keywords)\r\n            if(keywordsData?.length > 0 ){\r\n               await keywordsData.map(itm => {\r\n                  keywords.push(itm.text)\r\n               })\r\n            }\r\n            const des = await removeTags(description)\r\n\r\n            console.log('des ::::::::::::', des)\r\n            var options = {\r\n               method: 'POST',\r\n               url: `https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document`,\r\n               headers:{\r\n                  'content-type': 'application/json',\r\n                  'x-api-key': \"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M\",\r\n               },\r\n               data: JSON.stringify([\r\n                  {\r\n                     \"fields\" : {\r\n                        \"name\" : name,\r\n                        \"description\" : des,\r\n                        \"transcript\" : transcript,\r\n                        \"id\" : id,\r\n                        \"module_id\" : moduleData.id,\r\n                        \"module_name\" : moduleData.name,\r\n                        \"course_description\" : courseData.description,\r\n                        \"course_keywords\" : keywords,\r\n                        \"course_name\" : courseData.name,\r\n                        \"course_id\" : courseData.id\r\n                     },\r\n                     \"id\" : id,\r\n                     \"type\" : \"add\"\r\n                  }\r\n               ])\r\n            };\r\n            axios(options)\r\n               .then((res) => {\r\n                 console.log('Data update!')\r\n               })\r\n               .catch((err) => {\r\n                  console.log('err :::::::::::::::::: edit',err)\r\n               })\r\n            // end aws CS\r\n            setIsSaving(false);\r\n            // location.state = {unit_id: unit_id};\r\n            // location.pathname = `/admin/course/${courseId}/${moduleId}`;\r\n            // history.push(location);\r\n            handleClose();\r\n         } catch (e) {\r\n            console.log(e);\r\n            setIsSaving(false);\r\n            handleClose();\r\n         }\r\n      }\r\n   });\r\n   const removeTags = (str) => {\r\n      if ((str === null) || (str === ''))\r\n          return false;\r\n      else\r\n          str = str.toString();\r\n            \r\n      return str.replace( /(<([^>]+)>)/ig, '');\r\n   }\r\n   const handleSubmit = (async () => {\r\n      setEditValues({\r\n         ...editValues,\r\n         resources: inputFields\r\n      })\r\n      if(uploadingPercentage === 100 || uploadingResourcesPercentage === 100 ){\r\n         try {\r\n            let variables = null\r\n            setIsSaving(true);\r\n            variables = {\r\n               id: editValues.defaultId, \r\n               module_id: moduleId, \r\n               ...editValues,\r\n               resources: JSON.stringify(inputFields)\r\n            };\r\n            // console.log('variables :::::::::::::', variables)\r\n\r\n            await unitCreateUpdate({\r\n               variables,\r\n               optimisticResponse: {\r\n                  __typename: 'Mutation',\r\n                  units: {\r\n                     __typename: 'Units',\r\n                     id: editValues.defaultId, \r\n                     module_id: moduleId,\r\n                     ...editValues,\r\n                     resources: inputFields\r\n                  },\r\n               },\r\n               refetchQueries: getUnitCacheQueries(moduleId, false),\r\n               // update: cacheUpdate(getResourcesCacheQueries(editValues.id, false), editValues.id, 'units'),\r\n               // update: cacheUpdate(getUnitCacheQueries(moduleId, false), editValues.id, 'units'),\r\n            });\r\n            // uploading data on aws cloud search\r\n            const courseData = location?.state?.courseData\r\n            const moduleData = location?.state?.moduleData\r\n\r\n            const { id, name, description, transcript } = variables\r\n            const keywords = []\r\n            // console.log('courseData :::::::::::', courseData)\r\n            // console.log('moduleData :::::::::::', moduleData)\r\n            const keywordsData = JSON.parse(courseData?.keywords)\r\n            if(keywordsData?.length > 0 ){\r\n               await JSON.parse(courseData?.keywords).map(itm => {\r\n                  keywords.push(itm.text)\r\n               })\r\n            }\r\n            const des = await removeTags(description)\r\n            console.log('removeTags(description) :::::::::::', des)\r\n            var options = {\r\n               method: 'POST',\r\n               url: `https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document`,\r\n               headers:{\r\n                  // 'Access-Control-Allow-Origin': '*',\r\n                  'content-type': 'application/json',\r\n                  'x-api-key': \"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M\",\r\n               },\r\n               data: JSON.stringify([\r\n                  {\r\n                     \"fields\" : {\r\n                        \"name\" : name,\r\n                        \"description\" : des,\r\n                        \"transcript\" : transcript,\r\n                        \"id\" : id,\r\n                        \"module_id\" : moduleData.id,\r\n                        \"module_name\" : moduleData.name,\r\n                        \"course_description\" : courseData.description,\r\n                        \"course_keywords\" : keywords,\r\n                        \"course_name\" : courseData.name,\r\n                        \"course_id\" : courseData.id\r\n                     },\r\n                     \"id\" : id,\r\n                     \"type\" : \"add\"\r\n                  }\r\n               ])\r\n            };\r\n            axios(options)\r\n               .then((res) => {\r\n                 console.log('res ::::::::::::::::::',res.data)\r\n               })\r\n               .catch((err) => {\r\n                  console.log('err :::::::::::::::::: add',err)\r\n               })\r\n            // end aws CS\r\n            setIsSaving(false);\r\n            handleClose();\r\n         } catch (e) {\r\n            console.log(e);\r\n            setIsSaving(false);\r\n            handleClose();\r\n         }\r\n      }\r\n   });\r\n   const handleDeleteUnit = async (event, unit) => {\r\n      if (event) {\r\n         event.stopPropagation();\r\n         event.preventDefault();\r\n      }\r\n      await UnitDelete({\r\n         variables: {id: unit?.id},\r\n         optimisticResponse: {isDeleted: true},\r\n         update: cacheDelete(getUnitCacheQueries(moduleId, false),  unit?.id, 'units'),\r\n      });\r\n      // delete data from aws CloudSearch\r\n      var options = {\r\n         method: 'POST',\r\n         url: `https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document`,\r\n         headers:{\r\n            'content-type': 'application/json',\r\n            'x-api-key': \"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M\",\r\n         },\r\n         data: JSON.stringify([\r\n            {\r\n               \"id\" : unit?.id,\r\n               \"type\" : \"delete\"\r\n            }\r\n         ])\r\n      };\r\n      axios(options)\r\n         .then((res) => {\r\n           console.log('res ::::::::::::::::::',res.data)\r\n         })\r\n         .catch((err) => {\r\n            console.log('err :::::::::::::::::: delete',err)\r\n         })\r\n      // end data deleted from aws CloudSearch\r\n      // history.push(`/admin/course/${courseId}/${moduleId}`);\r\n   };\r\n   const addFields = () => {\r\n      let newfield = {  id: '', unit_id: '', label: '', type: '', path_url: '', original_filename: '', selectedValue: 'pdf', uploadingResources: false, uploadingResourcesPercentage: 0, error: '', errorMessage: '', db: false}\r\n  \r\n      setInputFields([...inputFields, newfield])\r\n      // setTypes([...type, 0])\r\n   }\r\n   const removeFields = async (index) => {\r\n      let data = [...inputFields];\r\n      if(data[index]['path_url'] !== null && data[index]['path_url'] !== '' && data[index]['type'] !== 'url'){\r\n         const removeKey = data[index]['path_url']; \r\n         console.log('removeKey', removeKey)\r\n         await Storage.remove( removeKey );\r\n      }\r\n      data.splice(index, 1)\r\n      setInputFields(data)\r\n   }\r\n   const removeFieldData = async (index) => {\r\n      let data = [...inputFields];\r\n      if(data[index]['path_url'] !== null && data[index]['path_url'] !== '' && data[index]['type'] !== 'url'){\r\n         const removeKey = data[index]['path_url']; \r\n         console.log('removeKey', removeKey)\r\n         await Storage.remove( removeKey );\r\n      }\r\n      data.splice(index, 1)\r\n      let newfield = {  id: '', unit_id: '', label: '', type: '', path_url: '', original_filename: '', selectedValue: 'pdf', uploadingResources: false, uploadingResourcesPercentage: 0, error: '', errorMessage: '', db: false}\r\n      setInputFields([...data, newfield])\r\n   }\r\n   const handleRemoveResources = async (itm, index) => {\r\n      let data = [...inputFields];\r\n      if(itm.type !== 'url'){\r\n         const removeKey = itm.path_url; \r\n         await Storage.remove( removeKey );\r\n      }\r\n      await ResourceDelete({\r\n         variables: {id: itm.id},\r\n         optimisticResponse: {introVideo: null},\r\n         update: cacheDelete(getResourcesCacheQueries(itm.unit_id, false), itm.id, 'units'),\r\n      });\r\n      data.splice(index, 1)\r\n      setInputFields(data)\r\n   };\r\n\r\n   const handleSortUnit = async (event, unit, index, type) => {\r\n      if (event) {\r\n         event.stopPropagation();\r\n         event.preventDefault();\r\n      }\r\n      let nearestId = ''\r\n      if(type === 'add') nearestId = sortedUnits[index - 1].id\r\n      else nearestId = sortedUnits[index + 1].id\r\n\r\n      console.log('nearestId ::::', nearestId)\r\n      await UnitSort({\r\n         variables: { id: unit.id, type, nearestId },\r\n         optimisticResponse: {\r\n            __typename: 'Mutation',\r\n            units: {\r\n               __typename: 'Units',\r\n               id: unit.id,\r\n               type,\r\n               nearestId\r\n            },\r\n         },\r\n         refetchQueries: getUnitCacheQueries(moduleId, false),\r\n      });\r\n   };\r\n   \r\n   return (\r\n      <>\r\n         <ViewUnitModal \r\n            viewNew={viewNew} \r\n            classes={classes} \r\n            editValues={editValues}\r\n            resourcesData={resourcesData}\r\n            handleClose={handleClose}\r\n         />\r\n         {addNew ?\r\n            <AddEditUnitModal \r\n               addNew={addNew} \r\n               formErrors={formErrors}\r\n               remove={remove} \r\n               handleSubmit={handleSubmit} \r\n               processing={processing}\r\n               handleRemove={handleRemove}\r\n               classes={classes} \r\n               isSaving={isSaving}\r\n               uploading={uploading}\r\n               uploadingPercentage={uploadingPercentage}\r\n               editValues={editValues}\r\n               totalFiles={totalFiles}\r\n               uploadedFiles={uploadedFiles}\r\n               uploadingResources={uploadingResources}\r\n               uploadingResourcesPercentage={uploadingResourcesPercentage}\r\n               handleChange={handleChange} \r\n               handleEditorChange={handleEditorChange}\r\n               handleClose={handleClose}\r\n               handleFile={handleFile}\r\n               handleResources={handleResources}\r\n               handleResourcesLabel={handleResourcesLabel}\r\n               handleUrl={handleUrl}\r\n               LinearProgressWithLabel={LinearProgressWithLabel}\r\n               inputFields={inputFields}\r\n               addFields={addFields}\r\n               removeFields={removeFields}\r\n               handleRadioChange={handleRadioChange}\r\n               selectedValue={selectedValue}\r\n               removeFieldData={removeFieldData}\r\n               error={error}\r\n               errorMessage={errorMessage}\r\n            />\r\n            :\r\n            null\r\n         }\r\n         {edit ?\r\n            <EditUnitModal \r\n               edit={edit} \r\n               remove={remove} \r\n               handleRadioChange={handleRadioChange}\r\n               selectedValue={selectedValue}\r\n               handleEditSubmit={handleEditSubmit} \r\n               processing={processing}\r\n               handleRemove={handleRemove}\r\n               classes={classes} \r\n               isSaving={isSaving}\r\n               uploading={uploading}\r\n               uploadingPercentage={uploadingPercentage}\r\n               editValues={editValues}\r\n               totalFiles={totalFiles}\r\n               uploadedFiles={uploadedFiles}\r\n               uploadingResources={uploadingResources}\r\n               uploadingResourcesPercentage={uploadingResourcesPercentage}\r\n               handleChange={handleChange} \r\n               handleEditorChange={handleEditorChange}\r\n               handleClose={handleClose}\r\n               handleFile={handleFile}\r\n               handleResources={handleResources}\r\n               LinearProgressWithLabel={LinearProgressWithLabel}\r\n               inputFields={inputFields}\r\n               addFields={addFields}\r\n               removeFields={removeFields}\r\n               removeFieldData={removeFieldData}\r\n               handleRemoveResources={handleRemoveResources}\r\n               // setResourcesLength={setResourcesLength}\r\n               resourcesLength={resourcesLength}\r\n               handleResourcesLabel={handleResourcesLabel}\r\n               // setLabels={setLabels}\r\n               // labels={labels}\r\n               handleUrl={handleUrl}\r\n               setInputFields={setInputFields}\r\n\r\n            />\r\n            :\r\n            null\r\n         }\r\n         <Grid container fullWidth fullHeight direction={'column'} overflow={'visible'} wrap={'nowrap'} >\r\n            {!isAdmin && (\r\n               <Grid item resizable={false} className={classes.infoInnerStyle}>\r\n                  <TypographyFHG variant={'h5'} id={'lms.title.label'} color={'textSecondary'} gutterBottom />\r\n               </Grid>\r\n            )}\r\n            <Grid item container resizable >\r\n                  <Grid name={'Unit Edit Root'} item fullWidth className={classes.infoRootStyle}>\r\n                     <Grid name={'Unit Edit Inner'} container item fullWidth className={classes.infoInnerStyle}>\r\n                        <div className={classes.addButton}>\r\n                           <TypographyFHG\r\n                              variant='h5'\r\n                              color={'textPrimary'}\r\n                              className={classes.moduleHeading}\r\n                              button\r\n                              component={Link}\r\n                           >\r\n                              Units\r\n                           </TypographyFHG>\r\n                           <ButtonFHG \r\n                              startIcon={(<Add/>)} \r\n                              onClick={async () => {\r\n                                    await handleClose()\r\n                                    setAddNew(addNew => !addNew)\r\n                                 } \r\n                              }\r\n                              labelKey={'unit.new.button'}\r\n                              className={classes.btnRight}\r\n                           />\r\n                        </div>\r\n                        <div className={classes.main}>\r\n                           <TableContainer className={classes.tableMain} component={Paper}>\r\n                              <Table className={classes.table} aria-label=\"simple table\">\r\n                                 <TableHead className={classes.tableHeading}>\r\n                                    <TableRow>\r\n                                       <TableCell className={classes.tableCell} >#</TableCell>\r\n                                       <TableCell className={classes.tableCell} align=\"left\">Name</TableCell>\r\n                                       <TableCell className={`${classes.tableCell} ${classes.tableWidth}`}  align=\"left\">Action</TableCell>\r\n                                    </TableRow>\r\n                                 </TableHead>\r\n                                 <TableBody>\r\n                                    {typeof sortedUnits !== 'undefined' && sortedUnits !== null && sortedUnits !== '' && sortedUnits && sortedUnits.length > 0 ?\r\n                                       sortedUnits.map((unit, idx) => (\r\n                                          <TableRow key={idx}\r\n                                             className={clsx(classes.treeLabelStyle, classes.trHover, moduleId === module.id && classes.selectedTrBox )}\r\n                                             selected={moduleId === module.id}\r\n                                             onClick={(e) => handleViewtUnit(e, unit)}\r\n                                             align=\"left\" \r\n                                          >                                             \r\n                                             <TableCell align=\"left\">\r\n                                                <TypographyFHG\r\n                                                   variant='subtitle1'\r\n                                                   color={'textPrimary'}\r\n                                                >\r\n                                                   {idx + 1}\r\n                                                </TypographyFHG>\r\n                                             </TableCell>\r\n                                             {/* {idx === 0 ?\r\n                                                <TableCell align=\"left\">\r\n                                                   <TypographyFHG\r\n                                                      variant='subtitle1'\r\n                                                      color={'textPrimary'}\r\n                                                   >\r\n                                                      <ArrowDropDownIcon onClick={(e) => handleSortUnit(e, unit, idx, 'add')} />\r\n                                                   </TypographyFHG>\r\n                                                </TableCell>\r\n                                                :\r\n                                                <TableCell align=\"left\">\r\n                                                   <TypographyFHG\r\n                                                      variant='subtitle1'\r\n                                                      color={'textPrimary'}\r\n                                                   >\r\n                                                      <ArrowDropDownIcon onClick={(e) => handleSortUnit(e, unit, idx, 'add')}/>\r\n                                                      <ArrowDropUpIcon onClick={(e) => handleSortUnit(e, unit, idx, 'minus')}/>\r\n                                                   </TypographyFHG>\r\n                                                </TableCell>\r\n                                             } */}\r\n                                            \r\n                                             <TableCell align=\"left\">\r\n                                                <TypographyFHG\r\n                                                   variant='subtitle1'\r\n                                                   color={'textPrimary'}\r\n                                                >\r\n                                                   {unit.name}\r\n                                                </TypographyFHG>\r\n                                             </TableCell>\r\n                                             <TableCell align=\"left\">\r\n                                                <IconButton\r\n                                                   size={'small'}\r\n                                                   onClick={(e) => handleEditUnit(e, unit)}\r\n                                                   className={classes.fadeIn}\r\n                                                >\r\n                                                   <Edit fontSize={'small'} />\r\n                                                </IconButton>\r\n                                                <ConfirmIconButton\r\n                                                   className={`${classes.fadeIn} ${classes.deleteButtonStyle}`}\r\n                                                   onConfirm={(e) => handleDeleteUnit(e, unit)}\r\n                                                   values={{type: 'unit', name: unit.name}}\r\n                                                   messageKey={'confirmRemoveValue.message'}\r\n                                                   buttonLabelKey={'delete.button'}\r\n                                                   size={'small'}\r\n                                                   submitStyle={classes.deleteColorStyle}\r\n                                                   buttonTypographyProps={{\r\n                                                      float: 'right',\r\n                                                      color: theme.palette.error.dark,\r\n                                                      style: {textDecoration: 'underline'},\r\n                                                   }}\r\n                                                >\r\n                                                   <Delete fontSize={'small'} />\r\n                                                </ConfirmIconButton>\r\n                                             </TableCell>\r\n                                          </TableRow>\r\n                                       ))\r\n                                    :\r\n                                       <TableCell colSpan={4} className={classes.textCenter} >No unit are Found</TableCell>\r\n                                    }\r\n                                 </TableBody>\r\n                              </Table>\r\n                           </TableContainer>\r\n                        </div>\r\n                     </Grid>\r\n                  </Grid>\r\n            </Grid>\r\n         </Grid>\r\n      </>\r\n   );\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\nimport { saveAs } from \"file-saver\";\r\nimport useQueryFHG from '../../hooks/data/useQueryFHG';\r\n\r\nimport { RESOURCES_QUERY_WHERE } from '../../../data/QueriesGL';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nconst ViewUnitModal = ({resourcesData, editValues, viewNew, classes, handleClose}) => {\r\n      // const [resourcesData] = useQueryFHG(RESOURCES_QUERY_WHERE, {variables: {unit_id: editValues.id, isDeleted: false}}, 'resources.type');\r\n      // console.log('resourcesData :::::::::::', resourcesData)\r\n\r\n      const saveFile = (url, filename) => {\r\n            saveAs( `https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/${url}`, filename );\r\n      };\r\n     \r\n      const redirect = (url) => {\r\n            window.open(url, '_blank')\r\n      };\r\n     \r\n      return (\r\n            <>\r\n                  <Dialog\r\n                        open={viewNew}\r\n                        onClose={handleClose}\r\n                        scroll={'paper'}\r\n                        fullWidth={true}\r\n                        maxWidth={'md'}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                  >\r\n                        <DialogTitle id=\"scroll-dialog-title\">View Unit</DialogTitle>\r\n                        <DialogContent dividers={true}>\r\n                        <DialogContentText\r\n                              id=\"scroll-dialog-description\"\r\n                              tabIndex={-1}\r\n                              className={classes.dialogBody}\r\n                        >\r\n                              {editValues.introVideo ?\r\n                                    <video width=\"100%\" height=\"400\" controls>\r\n                                          {/* <source src={`https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/lms/upload/${JSON.parse(editValues.introVideo).originalFilename}`} type=\"video/mov\"/> */}\r\n                                          <source src={`https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/lms/upload/${JSON.parse(editValues.introVideo).originalFilename}`} />\r\n                                    </video>\r\n                                    :\r\n                                    null\r\n                              }\r\n                              {/* <p className={classes.modules}>{editValues.name}</p> */}\r\n                              <h3 className={classes.viewHeading}>{editValues.name}</h3>\r\n                              <h4>Description </h4>\r\n                              <div className={classes.viewDescription} >\r\n                                    <p dangerouslySetInnerHTML={{__html: editValues.description}}/>\r\n                              </div>\r\n                              <div>\r\n                                    <h4>Resources </h4>\r\n                                    <div >\r\n                                          <table className={classes.resourcesViewTable}>\r\n                                                {resourcesData?.length > 0 && \r\n                                                      resourcesData.map((itm, idx) => {\r\n                                                      return (\r\n                                                            <>   \r\n                                                                  {itm.type === 'v' &&\r\n                                                                        <tr>\r\n                                                                              <td>\r\n                                                                                    <video width=\"100%\" height=\"250\" controls>\r\n                                                                                          <source src={`https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/${itm.path_url}`} />\r\n                                                                                    </video>\r\n                                                                              </td>\r\n                                                                        </tr>\r\n                                                                  }\r\n                                                                  {itm.type === 'i' &&\r\n                                                                        <tr>\r\n                                                                              <td>\r\n                                                                                    <img src={`https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/${itm.path_url}`} height=\"150\" alt={'image'}/>\r\n                                                                              </td>\r\n                                                                        </tr>\r\n                                                                  }\r\n                                                                  {itm.type === 'pdf' &&\r\n                                                                        <tr>\r\n                                                                              <td>\r\n                                                                                    <svg height=\"100%\" width=\"40px\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n                                                                                                viewBox=\"0 0 303.188 303.188\" style={{ enableBackground:'new 0 0 303.188 303.188' }} xmlSpace=\"preserve\">\r\n                                                                                          <g>\r\n                                                                                          <polygon style={{ fill: '#E8E8E8' }} points=\"219.821,0 32.842,0 32.842,303.188 270.346,303.188 270.346,50.525 \t\"/> \t\r\n                                                                                          <path style={{ fill: '#FB3449'}} d=\"M230.013,149.935c-3.643-6.493-16.231-8.533-22.006-9.451c-4.552-0.724-9.199-0.94-13.803-0.936\r\n                                                                                                c-3.615-0.024-7.177,0.154-10.693,0.354c-1.296,0.087-2.579,0.199-3.861,0.31c-1.314-1.36-2.584-2.765-3.813-4.202\r\n                                                                                                c-7.82-9.257-14.134-19.755-19.279-30.664c1.366-5.271,2.459-10.772,3.119-16.485c1.205-10.427,1.619-22.31-2.288-32.251\r\n                                                                                                c-1.349-3.431-4.946-7.608-9.096-5.528c-4.771,2.392-6.113,9.169-6.502,13.973c-0.313,3.883-0.094,7.776,0.558,11.594\r\n                                                                                                c0.664,3.844,1.733,7.494,2.897,11.139c1.086,3.342,2.283,6.658,3.588,9.943c-0.828,2.586-1.707,5.127-2.63,7.603\r\n                                                                                                c-2.152,5.643-4.479,11.004-6.717,16.161c-1.18,2.557-2.335,5.06-3.465,7.507c-3.576,7.855-7.458,15.566-11.815,23.02\r\n                                                                                                c-10.163,3.585-19.283,7.741-26.857,12.625c-4.063,2.625-7.652,5.476-10.641,8.603c-2.822,2.952-5.69,6.783-5.941,11.024\r\n                                                                                                c-0.141,2.394,0.807,4.717,2.768,6.137c2.697,2.015,6.271,1.881,9.4,1.225c10.25-2.15,18.121-10.961,24.824-18.387\r\n                                                                                                c4.617-5.115,9.872-11.61,15.369-19.465c0.012-0.018,0.024-0.036,0.037-0.054c9.428-2.923,19.689-5.391,30.579-7.205\r\n                                                                                                c4.975-0.825,10.082-1.5,15.291-1.974c3.663,3.431,7.621,6.555,11.939,9.164c3.363,2.069,6.94,3.816,10.684,5.119\r\n                                                                                                c3.786,1.237,7.595,2.247,11.528,2.886c1.986,0.284,4.017,0.413,6.092,0.335c4.631-0.175,11.278-1.951,11.714-7.57\r\n                                                                                                C231.127,152.765,230.756,151.257,230.013,149.935z M119.144,160.245c-2.169,3.36-4.261,6.382-6.232,9.041\r\n                                                                                                c-4.827,6.568-10.34,14.369-18.322,17.286c-1.516,0.554-3.512,1.126-5.616,1.002c-1.874-0.11-3.722-0.937-3.637-3.065\r\n                                                                                                c0.042-1.114,0.587-2.535,1.423-3.931c0.915-1.531,2.048-2.935,3.275-4.226c2.629-2.762,5.953-5.439,9.777-7.918\r\n                                                                                                c5.865-3.805,12.867-7.23,20.672-10.286C120.035,158.858,119.587,159.564,119.144,160.245z M146.366,75.985\r\n                                                                                                c-0.602-3.514-0.693-7.077-0.323-10.503c0.184-1.713,0.533-3.385,1.038-4.952c0.428-1.33,1.352-4.576,2.826-4.993\r\n                                                                                                c2.43-0.688,3.177,4.529,3.452,6.005c1.566,8.396,0.186,17.733-1.693,25.969c-0.299,1.31-0.632,2.599-0.973,3.883\r\n                                                                                                c-0.582-1.601-1.137-3.207-1.648-4.821C147.945,83.048,146.939,79.482,146.366,75.985z M163.049,142.265\r\n                                                                                                c-9.13,1.48-17.815,3.419-25.979,5.708c0.983-0.275,5.475-8.788,6.477-10.555c4.721-8.315,8.583-17.042,11.358-26.197\r\n                                                                                                c4.9,9.691,10.847,18.962,18.153,27.214c0.673,0.749,1.357,1.489,2.053,2.22C171.017,141.096,166.988,141.633,163.049,142.265z\r\n                                                                                                      M224.793,153.959c-0.334,1.805-4.189,2.837-5.988,3.121c-5.316,0.836-10.94,0.167-16.028-1.542\r\n                                                                                                c-3.491-1.172-6.858-2.768-10.057-4.688c-3.18-1.921-6.155-4.181-8.936-6.673c3.429-0.206,6.9-0.341,10.388-0.275\r\n                                                                                                c3.488,0.035,7.003,0.211,10.475,0.664c6.511,0.726,13.807,2.961,18.932,7.186C224.588,152.585,224.91,153.321,224.793,153.959z\"/>\r\n                                                                                          <polygon style={{fill: '#FB3449'}} points=\"227.64,25.263 32.842,25.263 32.842,0 219.821,0 \t\"/>\r\n                                                                                          <g> <path style={{fill: '#A4A9AD'}} d=\"M126.841,241.152c0,5.361-1.58,9.501-4.742,12.421c-3.162,2.921-7.652,4.381-13.472,4.381h-3.643 v15.917H92.022v-47.979h16.606c6.06,0,10.611,1.324,13.652,3.971C125.321,232.51,126.841,236.273,126.841,241.152z M104.985,247.387h2.363c1.947,0,3.495-0.546,4.644-1.641c1.149-1.094,1.723-2.604,1.723-4.529c0-3.238-1.794-4.857-5.382-4.857 h-3.348C104.985,236.36,104.985,247.387,104.985,247.387z\"/> <path style={{ fill: '#A4A9AD' }} d=\"M175.215,248.864c0,8.007-2.205,14.177-6.613,18.509s-10.606,6.498-18.591,6.498h-15.523v-47.979 h16.606c7.701,0,13.646,1.969,17.836,5.907C173.119,235.737,175.215,241.426,175.215,248.864z M161.76,249.324 c0-4.398-0.87-7.657-2.609-9.78c-1.739-2.122-4.381-3.183-7.926-3.183h-3.773v26.877h2.888c3.939,0,6.826-1.143,8.664-3.43 C160.841,257.523,161.76,254.028,161.76,249.324z\"/> <path style={{fill:'#A4A9AD'}} d=\"M196.579,273.871h-12.766v-47.979h28.355v10.403h-15.589v9.156h14.374v10.403h-14.374 L196.579,273.871L196.579,273.871z\"/> </g>\r\n                                                                                          <polygon style={{fill: '#D1D3D3'}} points=\"219.821,50.525 270.346,50.525 219.821,0 \t\"/>\r\n                                                                                          </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g>\r\n                                                                                    </svg>\r\n                                                                              </td>\r\n                                                                              <td className={classes.pdfCursor}>\r\n                                                                                    <span onClick={() => saveFile(itm.path_url, itm.label) }>{itm.label}</span>\r\n                                                                              </td>\r\n                                                                        </tr>\r\n                                                                  }\r\n                                                                  {itm.type === 'xlsx' &&\r\n                                                                        <tr>\r\n                                                                              <td>\r\n                                                                                    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"100%\" width=\"40px\"  viewBox=\"0 0 96 96\" fill=\"#FFF\" strokeMiterlimit=\"10\" strokeWidth=\"2\">\r\n                                                                                          <path stroke=\"#979593\" d=\"M67.1716,7H27c-1.1046,0-2,0.8954-2,2v78 c0,1.1046,0.8954,2,2,2h58c1.1046,0,2-0.8954,2-2V26.8284c0-0.5304-0.2107-1.0391-0.5858-1.4142L68.5858,7.5858 C68.2107,7.2107,67.702,7,67.1716,7z\"/>\r\n                                                                                          <path fill=\"none\" stroke=\"#979593\" d=\"M67,7v18c0,1.1046,0.8954,2,2,2h18\"/>\r\n                                                                                          <path fill=\"#C8C6C4\" d=\"M51 61H41v-2h10c.5523 0 1 .4477 1 1l0 0C52 60.5523 51.5523 61 51 61zM51 55H41v-2h10c.5523 0 1 .4477 1 1l0 0C52 54.5523 51.5523 55 51 55zM51 49H41v-2h10c.5523 0 1 .4477 1 1l0 0C52 48.5523 51.5523 49 51 49zM51 43H41v-2h10c.5523 0 1 .4477 1 1l0 0C52 42.5523 51.5523 43 51 43zM51 67H41v-2h10c.5523 0 1 .4477 1 1l0 0C52 66.5523 51.5523 67 51 67zM79 61H69c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C80 60.5523 79.5523 61 79 61zM79 67H69c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C80 66.5523 79.5523 67 79 67zM79 55H69c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C80 54.5523 79.5523 55 79 55zM79 49H69c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C80 48.5523 79.5523 49 79 49zM79 43H69c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C80 42.5523 79.5523 43 79 43zM65 61H55c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C66 60.5523 65.5523 61 65 61zM65 67H55c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C66 66.5523 65.5523 67 65 67zM65 55H55c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C66 54.5523 65.5523 55 65 55zM65 49H55c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C66 48.5523 65.5523 49 65 49zM65 43H55c-.5523 0-1-.4477-1-1l0 0c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1l0 0C66 42.5523 65.5523 43 65 43z\"/>\r\n                                                                                          <path fill=\"#107C41\" d=\"M12,74h32c2.2091,0,4-1.7909,4-4V38c0-2.2091-1.7909-4-4-4H12c-2.2091,0-4,1.7909-4,4v32 C8,72.2091,9.7909,74,12,74z\"/>\r\n                                                                                          <path d=\"M16.9492,66l7.8848-12.0337L17.6123,42h5.8115l3.9424,7.6486c0.3623,0.7252,0.6113,1.2668,0.7471,1.6236 h0.0508c0.2617-0.58,0.5332-1.1436,0.8164-1.69L33.1943,42h5.335l-7.4082,11.9L38.7168,66H33.041l-4.5537-8.4017 c-0.1924-0.3116-0.374-0.6858-0.5439-1.1215H27.876c-0.0791,0.2684-0.2549,0.631-0.5264,1.0878L22.6592,66H16.9492z\"/>\r\n                                                                                    </svg>\r\n                                                                              </td>\r\n                                                                              <td className={classes.pdfCursor}>\r\n                                                                                    <span onClick={() => saveFile(itm.path_url, itm.label) }>{itm.label}</span>\r\n                                                                              </td>\r\n                                                                        </tr>\r\n                                                                  }\r\n                                                                  {itm.type === 'url' &&\r\n                                                                        <tr>\r\n                                                                              <td>\r\n                                                                                    <svg class=\"svg-icon\" height=\"100%\" width=\"34px\" style={{verticalAlign: 'middle', fill: 'black', overflow: 'hidden'}} viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                                                          <path d=\"M657.664 170.666667l-158.165333 158.165333a42.666667 42.666667 0 0 1-60.330667-60.330667l170.666667-170.666666A42.666667 42.666667 0 0 1 640 85.333333h170.666667a42.666667 42.666667 0 0 1 30.165333 12.501334l85.333333 85.333333A42.666667 42.666667 0 0 1 938.666667 213.333333v170.666667a42.666667 42.666667 0 0 1-12.501334 30.165333l-170.666666 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L853.333333 366.336V230.997333L793.002667 170.666667h-135.338667z m-133.162667 524.501333a42.666667 42.666667 0 0 1 60.330667 60.330667l-170.666667 170.666666A42.666667 42.666667 0 0 1 384 938.666667H213.333333a42.666667 42.666667 0 0 1-30.165333-12.501334l-85.333333-85.333333A42.666667 42.666667 0 0 1 85.333333 810.666667v-170.666667a42.666667 42.666667 0 0 1 12.501334-30.165333l170.666666-170.666667a42.666667 42.666667 0 0 1 60.330667 60.330667L170.666667 657.664v135.338667L230.997333 853.333333h135.338667l158.165333-158.165333z m128-384a42.666667 42.666667 0 0 1 60.330667 60.330667l-341.333333 341.333333a42.666667 42.666667 0 1 1-60.330667-60.330667l341.333333-341.333333z\"  />\r\n                                                                                    </svg>\r\n                                                                              </td>\r\n                                                                              <td className={classes.pdfCursor} >\r\n                                                                                    <p onClick={() => redirect(itm.path_url)}>{itm.path_url}</p>\r\n                                                                              </td>\r\n                                                                        </tr>\r\n                                                                  }\r\n                                                            </>\r\n                                                      )\r\n                                                      })\r\n                                                }\r\n                                          </table>\r\n                                    </div>\r\n                                    <h4>Transcript </h4>\r\n                                    <p className={classes.viewTranscript}>{editValues.transcript}</p>\r\n                              </div>\r\n                        </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                        <Button onClick={handleClose}>Cancel</Button>\r\n                        </DialogActions>\r\n                  </Dialog>\r\n            </>\r\n      );\r\n};\r\n\r\nexport default ViewUnitModal;","import React, { useState } from 'react';\r\nimport Grid from '../../components/Grid';\r\nimport clsx from 'clsx';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ConfirmIconButton from '../../components/ConfirmIconButton';\r\nimport {Add} from '@material-ui/icons';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport TextFieldLF from '../../../components/TextFieldLF';\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n\r\nfunction ChooseFile({handleUrl, handleRadioChange, handleResourcesLabel, removeFieldData, LinearProgressWithLabel, classes, theme, inputFields, accept, addFields, uploadingResources, totalFiles, handleResources, uploadedFiles, uploadingResourcesPercentage, removeFields}) {\r\n      return (\r\n            <>\r\n                  {inputFields.map((input, index) => {\r\n                        return (  \r\n                        <div className={classes.resourcesdiv}>\r\n                              <RadioGroup className={classes.radioButton} name=\"Resourse\" value={input.selectedValue} onChange={(e) => handleRadioChange(e, index)}>\r\n                                    <FormControlLabel value=\"pdf\" control={<Radio />} label=\"Pdf\" />\r\n                                    <FormControlLabel value=\"xlsx\" control={<Radio />} label=\"xlsx\" />\r\n                                    <FormControlLabel value=\"url\" control={<Radio />} label=\"url\" />\r\n                              </RadioGroup>\r\n                              <div style={{textAlign: 'center'}}>\r\n                                <div className={classes.resources}>\r\n                                    <table className={classes.resourcesTable}>\r\n                                          <tr>\r\n                                                <td className={classes.labelTd}>\r\n                                                      {/* <input \r\n                                                            required \r\n                                                            id='resources' \r\n                                                            type='text' \r\n                                                            placeholder='Enter Label'\r\n                                                            value={input?.label}\r\n                                                            onChange={(e) => handleResourcesLabel(index, e)} \r\n                                                            accept={accept}\r\n                                                      /> */}\r\n                                                      <TextFieldLF\r\n                                                            key={'label'}\r\n                                                            name={'label'}\r\n                                                            // autoFocus\r\n                                                            labelTemplate={'lms.{name}.label'}\r\n                                                            value={input?.label}\r\n                                                            onChange={(e) => handleResourcesLabel(index, e)} \r\n                                                            required\r\n                                                      />\r\n                                                </td>\r\n                                                <td className={classes.fileTd}>\r\n                                                      {input?.type !== '' && input?.original_filename !== '' ? \r\n                                                            <>\r\n                                                                  <span>{input?.original_filename}</span>\r\n                                                            </>\r\n                                                            :\r\n                                                            <>\r\n                                                                  {input.selectedValue === 'pdf' &&\r\n                                                                        <Button variant=\"contained\" component=\"label\" color=\"primary\">\r\n                                                                              <AddIcon /> Upload a file\r\n                                                                              <input type=\"file\" hidden accept='.pdf' required onChange={(e) => handleResources(index, e, input.selectedValue)}/>\r\n                                                                        </Button>\r\n                                                                  }\r\n                                                                  {input.selectedValue === 'xlsx' &&\r\n                                                                        <Button variant=\"contained\" component=\"label\" color=\"primary\">\r\n                                                                              <AddIcon /> Upload a file\r\n                                                                              <input type=\"file\" hidden accept='.xlsx,.xls' required onChange={(e) => handleResources(index, e, input.selectedValue)}/>\r\n                                                                        </Button>\r\n                                                                  }\r\n                                                                  {input.selectedValue === 'url' &&\r\n                                                                        <>\r\n                                                                              {/* <input \r\n                                                                                    required \r\n                                                                                    id='resources' \r\n                                                                                    type='text' \r\n                                                                                    placeholder='Enter Url'\r\n                                                                                    value={input?.path_url}\r\n                                                                                    onChange={(e) => handleUrl(index, e, input.selectedValue)} \r\n                                                                              /> */}\r\n                                                                              <TextFieldLF\r\n                                                                                    key={'url'}\r\n                                                                                    name={'url'}\r\n                                                                                    type=\"url\"\r\n                                                                                    // autoFocus\r\n                                                                                    labelTemplate={'lms.{name}.label'}\r\n                                                                                    value={input?.path_url}\r\n                                                                                    onChange={(e) => handleUrl(index, e, input.selectedValue)} \r\n                                                                                    required\r\n                                                                              />\r\n                                                                        </>\r\n                                                                  }\r\n                                                            </>\r\n                                                      }\r\n                                                </td>\r\n                                                <td>\r\n                                                      {index > 0 ?\r\n                                                            <ConfirmIconButton\r\n                                                                  className={`${classes.fadeIn} ${classes.deleteButtonStyle}`}\r\n                                                                  onConfirm={() => removeFields(index)}\r\n                                                                  values={{type: 'unit resource', name: input['label'] !== '' ?  input['label'] : 'this field' }}\r\n                                                                  messageKey={'confirmRemoveValue.message'}\r\n                                                                  buttonLabelKey={'delete.button'}\r\n                                                                  size={'small'}\r\n                                                                  submitStyle={classes.deleteColorStyle}\r\n                                                                  buttonTypographyProps={{\r\n                                                                        float: 'right',\r\n                                                                        color: theme.palette.error.dark,\r\n                                                                        style: {textDecoration: 'underline'},\r\n                                                                  }}\r\n                                                                  >\r\n                                                                  <DeleteIcon />\r\n                                                            </ConfirmIconButton>\r\n                                                            :\r\n                                                            input?.label !== '' ?\r\n                                                                  <ConfirmIconButton\r\n                                                                        className={`${classes.fadeIn} ${classes.deleteButtonStyle}`}\r\n                                                                        onConfirm={() => removeFieldData(index)}\r\n                                                                        values={{type: 'unit resource', name: input['label'] !== '' ?  input['label'] : 'this field' }}\r\n                                                                        messageKey={'confirmRemoveValue.message'}\r\n                                                                        buttonLabelKey={'delete.button'}\r\n                                                                        size={'small'}\r\n                                                                        submitStyle={classes.deleteColorStyle}\r\n                                                                        buttonTypographyProps={{\r\n                                                                              float: 'right',\r\n                                                                              color: theme.palette.error.dark,\r\n                                                                              style: {textDecoration: 'underline'},\r\n                                                                        }}\r\n                                                                        >\r\n                                                                        <DeleteIcon />\r\n                                                                  </ConfirmIconButton>\r\n                                                                  :\r\n                                                                  <ConfirmIconButton\r\n                                                                        className={`${classes.fadeIn} ${classes.deleteButtonStyle}`}\r\n                                                                        onConfirm={() => removeFields(index)}\r\n                                                                        values={{type: 'unit resource', name: input['label'] !== '' ?  input['label'] : 'field' }}\r\n                                                                        messageKey={'confirmRemoveValue.message'}\r\n                                                                        buttonLabelKey={'delete.button'}\r\n                                                                        size={'small'}\r\n                                                                        disabled\r\n                                                                        submitStyle={classes.deleteColorStyle}\r\n                                                                        buttonTypographyProps={{\r\n                                                                              float: 'right',\r\n                                                                              color: theme.palette.error.dark,\r\n                                                                              style: {textDecoration: 'underline'},\r\n                                                                        }}\r\n                                                                  >\r\n                                                                        <DeleteIcon />\r\n                                                                  </ConfirmIconButton>\r\n                                                      }\r\n                                                </td>\r\n                                          </tr>\r\n                                          {input?.error !== null &&  input?.error !== 'null' &&\r\n                                                <tr>\r\n                                                      <td colSpan='3' className={classes.errorMessage}>{input?.errorMessage}</td>\r\n                                                </tr>\r\n                                          }\r\n                                    </table>\r\n                                    </div>\r\n                                    {input.uploadingResources ?\r\n                                          <div className={classes.processingRoot}>\r\n                                                <p>{`${ input.uploadingResourcesPercentage === 100 ? 'Completed' : 'Processing...' }`}</p>\r\n                                                <LinearProgressWithLabel value={input?.uploadingResourcesPercentage} />\r\n                                          </div>\r\n                                          : null\r\n                                    }\r\n                              </div>\r\n                        </div>\r\n                        )\r\n                  })}\r\n                  \r\n            </>\r\n      );\r\n}\r\n\r\nexport default ChooseFile;","import React, { useState } from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Form from '../../components/edit/Form';\r\nimport Grid from '../../components/Grid';\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport TextAreaField from '../../../components/TextAreaField';\r\nimport TextFieldLF from '../../../components/TextFieldLF';\r\nimport clsx from 'clsx';\r\nimport ProgressButton from '../../components/ProgressButton';\r\nimport ButtonFHG from '../../components/ButtonFHG';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport {Storage} from 'aws-amplify';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport ConfirmIconButton from '../../components/ConfirmIconButton';\r\nimport useTheme from '@material-ui/core/styles/useTheme';\r\nimport {Add} from '@material-ui/icons';\r\nimport ChooseFile from './ChooseFile';\r\n\r\nconst AddModal = ({errorMessage, error, handleUrl, handleResourcesLabel, removeFieldData, handleRadioChange, removeFields, addFields, inputFields, uploadingResources, uploadingResourcesPercentage, totalFiles, uploadedFiles, handleResources, processing, handleRemove, remove, handleFile, uploading, uploadingPercentage, isSaving,  editValues, LinearProgressWithLabel, addNew, handleSubmit, classes, handleChange, handleEditorChange, handleClose}) => {\r\n      const theme = useTheme();\r\n\r\n      const handleClick = async (video, unit_id) => {\r\n            handleRemove(video, unit_id)\r\n      };\r\n\r\n      return (\r\n            <>\r\n                  <Dialog\r\n                        open={addNew}\r\n                        onClose={(_, reason) => {\r\n                              if (reason !== \"backdropClick\") {\r\n                                    handleClose();\r\n                              }\r\n                        }}\r\n                        scroll={'paper'}\r\n                        fullWidth={true}\r\n                        maxWidth={'md'}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                  >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Add Unit</DialogTitle>\r\n                        <Form onSubmit={handleSubmit} className={classes.formStyle}>\r\n                              <DialogContent dividers={true}>\r\n                                    <DialogContentText id=\"scroll-dialog-description\" tabIndex={-1} className={classes.dialogBody} >\r\n                                    <TextFieldLF\r\n                                          key={'name'}\r\n                                          name={'name'}\r\n                                          autoFocus\r\n                                          labelTemplate={'lms.{name}.label'}\r\n                                          onChange={(e) => handleChange(e)}\r\n                                          value={editValues.name}\r\n                                          required\r\n                                    />\r\n                                    <fieldset aria-hidden=\"true\" className={clsx(classes.textAreaEditor, classes.maxWidthEditor)} >\r\n                                          <legend className={classes.legendColor}><span>Description&nbsp;*</span></legend>\r\n                                          <input required type='text' className={classes.textFieldHidden} value={editValues.description} />\r\n                                          <CKEditor\r\n                                                editor={ ClassicEditor }\r\n                                                data={editValues.description}\r\n                                                className={classes.ckEditorEdit}\r\n                                                onChange={ ( event, editor ) => {\r\n                                                      const data = editor.getData();\r\n                                                      // console.log( { event, editor, data } );\r\n                                                      handleEditorChange(data)\r\n                                                }}\r\n                                                config={{\r\n                                                      // plugins: [ 'Paragraph', 'Bold', 'Italic', 'Essentials' ],\r\n                                                      toolbar: [\r\n                                                            'heading', '|',\r\n                                                            'fontfamily', 'fontsize', '|',\r\n                                                            'bold', 'italic', 'Link', '|',\r\n                                                            'bulletedList', 'numberedList', 'TodoList', '|', \r\n                                                            'outdent', 'indent', '|', \r\n                                                            'BlockQuote', 'InsertTable', 'Undo', 'Redo' \r\n                                                      ]\r\n                                                }}\r\n                                          />\r\n                                    </fieldset>\r\n                                    <fieldset aria-hidden=\"true\" className={classes.textAreaEditor} ><legend  className={classes.legendColor}><span>Intro Video&nbsp;*</span></legend>\r\n                                          <input type='file' required name={'file'} accept='.mp4,.mov' onChange={(e) => handleFile(e)}/>\r\n                                          {uploading ?\r\n                                                <div className={classes.processingRoot}>\r\n                                                      <LinearProgressWithLabel value={uploadingPercentage} />\r\n                                                </div>\r\n                                                : null\r\n                                          }\r\n                                    </fieldset>\r\n                                    {error === 'introVideo' &&\r\n                                          <p className={classes.errorMessage}>{errorMessage}</p>\r\n                                    }\r\n                                    <TextAreaField\r\n                                          key={'transcript'}\r\n                                          name={'transcript'}\r\n                                          labelTemplate={'lms.{name}.label'}\r\n                                          onChange={(e) => handleChange(e)}\r\n                                          value={editValues.transcript}\r\n                                          required\r\n                                          rows={5}\r\n                                    />\r\n                                    <div >\r\n                                          <fieldset aria-hidden=\"true\" className={classes.textAreaEditor} >\r\n                                            <legend className={classes.legendColor}><span>Resourse Type&nbsp;*</span></legend>\r\n                                            <>\r\n                                                <ChooseFile\r\n                                                      theme={theme}\r\n                                                      LinearProgressWithLabel={LinearProgressWithLabel}\r\n                                                      classes={classes}\r\n                                                      inputFields={inputFields}\r\n                                                      handleRadioChange={handleRadioChange}\r\n                                                      addFields={addFields}\r\n                                                      uploadingResources={uploadingResources}\r\n                                                      totalFiles={totalFiles}\r\n                                                      handleResources={handleResources}\r\n                                                      uploadedFiles={uploadedFiles}\r\n                                                      uploadingResourcesPercentage={uploadingResourcesPercentage}\r\n                                                      removeFields={removeFields}\r\n                                                      removeFieldData={removeFieldData}\r\n                                                      handleUrl={handleUrl}\r\n                                                      handleResourcesLabel={handleResourcesLabel}                                                            \r\n                                                /> \r\n                                                <Button\r\n                                                      variant=\"contained\"\r\n                                                      color=\"default\"\r\n                                                      className={classes.button}\r\n                                                      onClick={addFields}\r\n                                                >\r\n                                                      <Add />\r\n                                                </Button>\r\n                                            </>\r\n                                          </fieldset>\r\n                                    </div>\r\n                                    </DialogContentText>\r\n                                    {/* <div className='formErrors'>\r\n                                          {Object.keys(formErrors).map((fieldName, i) => {\r\n                                                if(formErrors[fieldName].length > 0){\r\n                                                      return (\r\n                                                            <p key={i}>{fieldName} {formErrors[fieldName]}</p>\r\n                                                      )        \r\n                                                } else {\r\n                                                      return '';\r\n                                                }\r\n                                          })}\r\n                                    </div> */}\r\n                              </DialogContent>\r\n                              <DialogActions>\r\n                                    <Grid container item direction={'row'} fullWidth className={classes.buttonPanelStyle} justify={'space-between'} overflow={'visible'} resizable={false} alignItems={'center'} >\r\n                                          <Grid item>\r\n                                                <ProgressButton\r\n                                                      isProgress={isSaving}\r\n                                                      variant='text'\r\n                                                      color='primary'\r\n                                                      type={'submit'}\r\n                                                      size='large'\r\n                                                      labelKey='save.label'\r\n                                                      disabled={isSaving || uploadingPercentage !== 100 ||  (uploadingResources === true && uploadingResourcesPercentage !== 100)}\r\n                                                />\r\n                                                <ButtonFHG\r\n                                                      variant='text'\r\n                                                      size={'large'}\r\n                                                      labelKey={'cancel.button'}\r\n                                                      disabled={isSaving || remove}\r\n                                                      onClick={handleClose}\r\n                                                />\r\n                                          </Grid>\r\n                                    </Grid>\r\n                              </DialogActions>\r\n                        </Form>\r\n                  </Dialog> \r\n            </>\r\n      );\r\n};\r\n\r\nexport default AddModal;","import React, { useState } from 'react';\r\nimport Grid from '../../components/Grid';\r\nimport clsx from 'clsx';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ConfirmIconButton from '../../components/ConfirmIconButton';\r\nimport {Add} from '@material-ui/icons';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport TextFieldLF from '../../../components/TextFieldLF';\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n\r\nfunction ChooseFile({handleRemoveResources, handleUrl, handleRadioChange, handleResourcesLabel, type, length, removeFieldData, LinearProgressWithLabel, saveFile, classes, theme, inputFields, accept, addFields, uploadingResources, totalFiles, handleResources, uploadedFiles, uploadingResourcesPercentage, removeFields}) {\r\n      return (\r\n            <>\r\n                  {inputFields.map((input, index) => {\r\n                        return (  \r\n                        <div className={classes.resourcesdiv}>\r\n                              <RadioGroup className={classes.radioButton} name=\"Resourse\" value={input.selectedValue} onChange={(e) => handleRadioChange(e, index)}>\r\n                                    <FormControlLabel value=\"pdf\" control={<Radio />} label=\"Pdf\" />\r\n                                    <FormControlLabel value=\"xlsx\" control={<Radio />} label=\"xlsx\" />\r\n                                    <FormControlLabel value=\"url\" control={<Radio />} label=\"url\" />\r\n                              </RadioGroup>\r\n                              <div style={{textAlign: 'left'}}>\r\n                                <div className={classes.resources}>\r\n                                    <table className={classes.resourcesTable}>\r\n                                          <tr>\r\n                                                <td className={classes.labelTd} >\r\n                                                      <TextFieldLF\r\n                                                            key={'label'}\r\n                                                            name={'label'}\r\n                                                            // autoFocus\r\n                                                            labelTemplate={'lms.{name}.label'}\r\n                                                            value={input?.label}\r\n                                                            onChange={(e) => handleResourcesLabel(index, e)} \r\n                                                            required\r\n                                                      />\r\n                                                </td>\r\n                                                <td className={classes.fileTd}>\r\n                                                      {input?.type !== '' && input?.original_filename !== ''  ? \r\n                                                            <>\r\n                                                                  {input?.type === 'v' &&\r\n                                                                        <video width=\"100%\" height=\"150\" controls>\r\n                                                                              <source src={`https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/${input.path_url}`} />\r\n                                                                        </video>\r\n                                                                  }\r\n                                                                  {input?.type === 'i' &&\r\n                                                                        <img src={`https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/${input.path_url}`} height=\"150\" alt={'image'}/>\r\n                                                                  }\r\n                                                                  {input?.type === 'pdf'  &&\r\n                                                                        <span className={classes.pdfCursor} onClick={() => saveFile(input?.path_url, input?.original_filename) }>{input?.original_filename}</span>\r\n                                                                  }\r\n                                                                  {input?.type === 'xlsx' &&\r\n                                                                        <span className={classes.pdfCursor} onClick={() => saveFile(input?.path_url, input?.original_filename) }>{input?.original_filename}</span>\r\n                                                                  }\r\n                                                                  {input?.type === 'url' &&\r\n                                                                        <TextFieldLF\r\n                                                                              key={'url'}\r\n                                                                              name={'url'}\r\n                                                                              // autoFocus\r\n                                                                              labelTemplate={'lms.{name}.label'}\r\n                                                                              value={input?.path_url}\r\n                                                                              onChange={(e) => handleUrl(index, e, input.selectedValue)} \r\n                                                                              required\r\n                                                                        />\r\n                                                                  }\r\n                                                            </>\r\n                                                            :\r\n                                                            <>\r\n                                                                  {input.selectedValue === 'pdf' &&\r\n                                                                        <Button variant=\"contained\" component=\"label\" color=\"primary\">\r\n                                                                              {\" \"}\r\n                                                                              <AddIcon /> Upload a file\r\n                                                                              <input type=\"file\" hidden accept='.pdf' required onChange={(e) => handleResources(index, e, input.selectedValue)}/>\r\n                                                                        </Button>\r\n                                                                  }\r\n                                                                  {input.selectedValue === 'xlsx' &&\r\n                                                                        <Button variant=\"contained\" component=\"label\" color=\"primary\">\r\n                                                                              {\" \"}\r\n                                                                              <AddIcon /> Upload a file\r\n                                                                              <input type=\"file\" hidden required accept='.xlsx,.xls' onChange={(e) => handleResources(index, e, input.selectedValue)}/>\r\n                                                                        </Button>\r\n                                                                  }\r\n                                                                  {input.selectedValue === 'url' &&\r\n                                                                        <TextFieldLF\r\n                                                                              key={'url'}\r\n                                                                              name={'url'}\r\n                                                                              autoFocus\r\n                                                                              type=\"url\"\r\n                                                                              labelTemplate={'lms.{name}.label'}\r\n                                                                              value={input?.path_url}\r\n                                                                              onChange={(e) => handleUrl(index, e, input.selectedValue)} \r\n                                                                              required\r\n                                                                        />\r\n                                                                  }\r\n                                                            </>\r\n                                                      }\r\n                                                </td>\r\n                                                <td>\r\n                                                  {length > 0  && input?.type !== '' && input?.original_filename !== '' && input?.db === true ? \r\n                                                      <ConfirmIconButton\r\n                                                            className={`${classes.fadeIn} ${classes.deleteButtonStyle}`}\r\n                                                            onConfirm={() => handleRemoveResources(input, index)}\r\n                                                            values={{type: 'unit resource', name: index.original_filename !== '' ?  index.original_filename : 'this field' }}\r\n                                                            messageKey={'confirmRemoveValue.message'}\r\n                                                            buttonLabelKey={'delete.button'}\r\n                                                            size={'small'}\r\n                                                            submitStyle={classes.deleteColorStyle}\r\n                                                            buttonTypographyProps={{\r\n                                                                  float: 'right',\r\n                                                                  color: theme.palette.error.dark,\r\n                                                                  style: {textDecoration: 'underline'},\r\n                                                            }}\r\n                                                      >\r\n                                                            <DeleteIcon />\r\n                                                      </ConfirmIconButton>\r\n                                                      :\r\n                                                      input?.type === 'url' ?\r\n                                                            <ConfirmIconButton\r\n                                                                  className={`${classes.fadeIn} ${classes.deleteButtonStyle}`}\r\n                                                                  onConfirm={() => input?.db === false ? removeFields(index) : handleRemoveResources(input, index)}\r\n                                                                  values={{type: 'unit resource', name: input?.db === true && index.path_url !== '' ?  index.path_url : 'this field' }}\r\n                                                                  messageKey={'confirmRemoveValue.message'}\r\n                                                                  buttonLabelKey={'delete.button'}\r\n                                                                  size={'small'}\r\n                                                                  submitStyle={classes.deleteColorStyle}\r\n                                                                  buttonTypographyProps={{\r\n                                                                        float: 'right',\r\n                                                                        color: theme.palette.error.dark,\r\n                                                                        style: {textDecoration: 'underline'},\r\n                                                                  }}\r\n                                                            >\r\n                                                                  <DeleteIcon />\r\n                                                            </ConfirmIconButton>\r\n                                                            :\r\n                                                            length > 0 || index > 0 ?\r\n                                                                  <ConfirmIconButton\r\n                                                                        className={`${classes.fadeIn} ${classes.deleteButtonStyle}`}\r\n                                                                        onConfirm={() => removeFields(index)}\r\n                                                                        values={{type: 'unit resource', name: input['original_filename'] !== '' ?  input['original_filename'] : 'this field' }}\r\n                                                                        messageKey={'confirmRemoveValue.message'}\r\n                                                                        buttonLabelKey={'delete.button'}\r\n                                                                        size={'small'}\r\n                                                                        submitStyle={classes.deleteColorStyle}\r\n                                                                        buttonTypographyProps={{\r\n                                                                              float: 'right',\r\n                                                                              color: theme.palette.error.dark,\r\n                                                                              style: {textDecoration: 'underline'},\r\n                                                                        }}\r\n                                                                        >\r\n                                                                        <DeleteIcon />\r\n                                                                  </ConfirmIconButton>\r\n                                                                  :\r\n                                                                  input?.label !== '' ?\r\n                                                                        <ConfirmIconButton\r\n                                                                              className={`${classes.fadeIn} ${classes.deleteButtonStyle}`}\r\n                                                                              onConfirm={() => removeFieldData(index)}\r\n                                                                              values={{type: 'unit resource', name: input['original_filename'] !== '' ?  input['original_filename'] : 'this field' }}\r\n                                                                              messageKey={'confirmRemoveValue.message'}\r\n                                                                              buttonLabelKey={'delete.button'}\r\n                                                                              size={'small'}\r\n                                                                              submitStyle={classes.deleteColorStyle}\r\n                                                                              buttonTypographyProps={{\r\n                                                                                    float: 'right',\r\n                                                                                    color: theme.palette.error.dark,\r\n                                                                                    style: {textDecoration: 'underline'},\r\n                                                                              }}\r\n                                                                              >\r\n                                                                              <DeleteIcon />\r\n                                                                        </ConfirmIconButton>\r\n                                                                        :\r\n                                                                        <ConfirmIconButton\r\n                                                                              className={`${classes.fadeIn} ${classes.deleteButtonStyle}`}\r\n                                                                              onConfirm={() => removeFields(index)}\r\n                                                                              values={{type: 'unit resource', name: input['original_filename'] !== '' ?  input['original_filename'] : 'field' }}\r\n                                                                              messageKey={'confirmRemoveValue.message'}\r\n                                                                              buttonLabelKey={'delete.button'}\r\n                                                                              size={'small'}\r\n                                                                              disabled\r\n                                                                              submitStyle={classes.deleteColorStyle}\r\n                                                                              buttonTypographyProps={{\r\n                                                                                    float: 'right',\r\n                                                                                    color: theme.palette.error.dark,\r\n                                                                                    style: {textDecoration: 'underline'},\r\n                                                                              }}\r\n                                                                        >\r\n                                                                              <DeleteIcon />\r\n                                                                        </ConfirmIconButton>\r\n                                                  }\r\n                                                </td>\r\n                                          </tr>\r\n                                          {input?.error !== null &&  input?.error !== 'null' &&\r\n                                                <tr>\r\n                                                      <td colSpan='3' className={classes.errorMessage}>{input?.errorMessage}</td>\r\n                                                </tr>\r\n                                          }\r\n                                    </table>\r\n                                </div>\r\n                              {input.uploadingResources ?\r\n                                    <div className={classes.processingRoot}>\r\n                                          <p>{`${ input.uploadingResourcesPercentage === 100 ? 'Completed' : 'Processing...' }`}</p>\r\n                                          <LinearProgressWithLabel value={input?.uploadingResourcesPercentage} />\r\n                                    </div>\r\n                                    : null\r\n                              }\r\n                              </div>\r\n                        </div>\r\n                        )\r\n                  })}\r\n                  \r\n            </>\r\n      );\r\n}\r\n\r\nexport default ChooseFile;","import React, { useEffect, useState } from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Form from '../../components/edit/Form';\r\nimport Grid from '../../components/Grid';\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport TextAreaField from '../../../components/TextAreaField';\r\nimport TextFieldLF from '../../../components/TextFieldLF';\r\nimport clsx from 'clsx';\r\nimport ProgressButton from '../../components/ProgressButton';\r\nimport ButtonFHG from '../../components/ButtonFHG';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport {Storage} from 'aws-amplify';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport ConfirmIconButton from '../../components/ConfirmIconButton';\r\nimport {Delete} from '@material-ui/icons';\r\nimport useTheme from '@material-ui/core/styles/useTheme';\r\nimport useQueryFHG from '../../hooks/data/useQueryFHG';\r\nimport { RESOURCES_QUERY_WHERE } from '../../../data/QueriesGL';\r\nimport ChooseFileEdit from './ChooseFileEdit';\r\nimport {Add} from '@material-ui/icons';\r\nimport { saveAs } from \"file-saver\";\r\nimport { sortBy, defer } from 'lodash';\r\n\r\nconst EditModal = ({\r\n      setInputFields,  handleUrl, labels, setLabels,handleRadioChange, \r\n      selectedValue, handleResourcesLabel, removeFieldData, setResourcesLength, resourcesLength,\r\n      handleRemoveResources, removeFields, addFields, inputFields,handleEditSubmit, \r\n      uploadingResources, uploadingResourcesPercentage, totalFiles, uploadedFiles, \r\n      handleResources, processing, handleRemove, remove, handleFile, uploading, \r\n      uploadingPercentage, isSaving,  editValues, LinearProgressWithLabel, handleSubmit, \r\n      classes, edit, handleChange, handleEditorChange, handleClose\r\n}) => {\r\n      // const [resourcesData] = useQueryFHG(RESOURCES_QUERY_WHERE, {variables: {unit_id: editValues.id, isDeleted: false}}, 'resources.type');\r\n      // console.log('resourcesData :::::::::::', resourcesData)\r\n\r\n      // if(resourcesData && labels[0]?.label === ''){\r\n      //       setResourcesLength(resourcesData?.resources?.length)\r\n      //       let arr = []\r\n      //       if (resourcesData?.resources?.length > 0) {\r\n      //             const data = sortBy(resourcesData?.resources, 'label');\r\n      //             data.map(itm => {\r\n      //                   const {id, unit_id, label, type, path_url, original_filename} = itm\r\n      //                   arr.push({ id, unit_id, label, type, path_url, original_filename, selectedValue: type, uploadingResources: false, uploadingResourcesPercentage: 0 })\r\n      //             })\r\n      //             // data.map(itm => {\r\n      //             //       const {id, unit_id, label, type, path_url, originalFilename} = itm\r\n      //             //       arr.push({ id, unit_id, label, type, path_url, originalFilename })\r\n      //             // })\r\n      //             setLabels(arr)\r\n      //             setInputFields(arr)\r\n      //       }\r\n           \r\n      // }\r\n      \r\n      // console.log('labels :::::::::::', labels)\r\n      // const [selectedValue, setSelectedValue] = useState('v');\r\n      const theme = useTheme();\r\n\r\n      const handleClick = async (video, unit_id) => {\r\n            handleRemove(video, unit_id)\r\n      };\r\n\r\n      // const handleRadioChange = (event) => {\r\n      //       setSelectedValue(event.target.value);\r\n      // };\r\n\r\n      const saveFile = (url, filename) => {\r\n            saveAs( `https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/${url}`, filename );\r\n      };\r\n\r\n      return (\r\n            <>\r\n                  <Dialog open={edit} onClose={(_, reason) => { if (reason !== \"backdropClick\") { handleClose(); } }} scroll={'paper'} fullWidth={true} maxWidth={'md'} aria-labelledby=\"scroll-dialog-title\" aria-describedby=\"scroll-dialog-description\" >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Edit Unit</DialogTitle>\r\n                        <Form onSubmit={handleEditSubmit} className={classes.formStyle}>\r\n                              <DialogContent dividers={true}>\r\n                                    <DialogContentText id=\"scroll-dialog-description\" tabIndex={-1} className={classes.dialogBody} >\r\n                                    <TextFieldLF\r\n                                          key={'name'}\r\n                                          name={'name'}\r\n                                          autoFocus\r\n                                          labelTemplate={'lms.{name}.label'}\r\n                                          onChange={(e) => handleChange(e)}\r\n                                          value={editValues.name}\r\n                                          required\r\n                                    />\r\n                                    <fieldset aria-hidden=\"true\" className={clsx(classes.textAreaEditor, classes.maxWidthEditor)} >\r\n                                          <legend className={classes.legendColor}><span>Description&nbsp;*</span></legend>\r\n                                          <input required type='text' className={classes.textFieldHidden} value={editValues.description} />\r\n                                          <CKEditor\r\n                                          editor={ ClassicEditor }\r\n                                                data={editValues.description}\r\n                                                className={classes.ckEditorEdit}\r\n                                                onChange={ ( event, editor ) => {\r\n                                                      const data = editor.getData();\r\n                                                      // console.log( { event, editor, data } );\r\n                                                      handleEditorChange(data)\r\n                                                } }\r\n                                          />\r\n                                    </fieldset>\r\n                                    <fieldset aria-hidden=\"true\" className={classes.textAreaEditor} ><legend  className={classes.legendColor}><span>Intro Video&nbsp;*</span></legend>\r\n                                          {!remove && editValues.introVideo ?\r\n                                                <>\r\n                                                      <video width=\"100%\" height=\"400\" controls>\r\n                                                            <source src={`https://legacy-farmer-test-temp-public.s3.us-east-2.amazonaws.com/lms/upload/${JSON.parse(editValues.introVideo).originalFilename}`} />\r\n                                                      </video>\r\n                                                      <ConfirmIconButton\r\n                                                            className={`${classes.fadeIn} ${classes.deleteButtonStyle} ${classes.floatRight}`}\r\n                                                            onConfirm={() => handleClick(JSON.parse(editValues.introVideo), editValues.id)}\r\n                                                            values={{type: 'unit', name: 'intro video'}}\r\n                                                            messageKey={'confirmRemoveValue.message'}\r\n                                                            buttonLabelKey={'delete.button'}\r\n                                                            size={'small'}\r\n                                                            submitStyle={classes.deleteColorStyle}\r\n                                                            buttonTypographyProps={{\r\n                                                                  float: 'right',\r\n                                                                  color: theme.palette.error.dark,\r\n                                                                  style: {textDecoration: 'underline'},\r\n                                                            }}\r\n\r\n                                                      >\r\n                                                            <DeleteIcon />\r\n                                                      </ConfirmIconButton>\r\n                                                </>\r\n                                                :\r\n                                                null\r\n                                          }\r\n                                          {remove || !editValues.introVideo?\r\n                                                <>\r\n                                                      <input type='file' required name={'file'} accept='.mp4,.mov' onChange={(e) => handleFile(e)}/>\r\n                                                      {uploading ?\r\n                                                            <div className={classes.processingRoot}>\r\n                                                                  <LinearProgressWithLabel value={uploadingPercentage} />\r\n                                                            </div>\r\n                                                            : null\r\n                                                      }\r\n                                                </>\r\n                                                :\r\n                                                null\r\n                                          }\r\n                                    </fieldset>\r\n                                    <TextAreaField\r\n                                          key={'transcript'}\r\n                                          name={'transcript'}\r\n                                          labelTemplate={'lms.{name}.label'}\r\n                                          onChange={(e) => handleChange(e)}\r\n                                          value={editValues.transcript}\r\n                                          required\r\n                                          rows={5}\r\n                                    />\r\n                                    \r\n                                    <div>\r\n                                          <fieldset aria-hidden=\"true\" className={classes.textAreaEditor} ><legend  className={classes.legendColor}><span>Resourse Type&nbsp;*</span></legend>\r\n                                                <>\r\n                                                <ChooseFileEdit\r\n                                                      theme={theme}\r\n                                                      LinearProgressWithLabel={LinearProgressWithLabel}\r\n                                                      classes={classes}\r\n                                                      inputFields={inputFields}\r\n                                                      handleRadioChange={handleRadioChange}\r\n                                                      addFields={addFields}\r\n                                                      uploadingResources={uploadingResources}\r\n                                                      totalFiles={totalFiles}\r\n                                                      handleResources={handleResources}\r\n                                                      uploadedFiles={uploadedFiles}\r\n                                                      uploadingResourcesPercentage={uploadingResourcesPercentage}\r\n                                                      removeFields={removeFields}\r\n                                                      removeFieldData={removeFieldData}\r\n                                                      handleUrl={handleUrl}\r\n                                                      saveFile={saveFile}\r\n                                                      length={resourcesLength}\r\n                                                      handleResourcesLabel={handleResourcesLabel}                                                            \r\n                                                      handleRemoveResources={handleRemoveResources}                                                            \r\n                                                /> \r\n                                                <Button\r\n                                                      variant=\"contained\"\r\n                                                      color=\"default\"\r\n                                                      className={classes.button}\r\n                                                      onClick={addFields}\r\n                                                >\r\n                                                      <Add />\r\n                                                </Button>\r\n                                                </>\r\n                                                     \r\n                                          </fieldset>\r\n                                    </div>\r\n                                    </DialogContentText>\r\n                              </DialogContent>\r\n                              <DialogActions>\r\n                                    <Grid container item direction={'row'} fullWidth className={classes.buttonPanelStyle} justify={'space-between'} overflow={'visible'} resizable={false} alignItems={'center'} >\r\n                                          <Grid item>\r\n                                                <ProgressButton\r\n                                                      isProgress={isSaving}\r\n                                                      variant='text'\r\n                                                      color='primary'\r\n                                                      type={'submit'}\r\n                                                      size='large'\r\n                                                      labelKey='save.label'\r\n                                                      disabled={isSaving || ( uploading && uploadingPercentage !== 100 ) ||  (uploadingResources && uploadingResourcesPercentage !== 100) || (resourcesLength === 0 && inputFields.length === 0)}\r\n                                                />\r\n                                                <ButtonFHG\r\n                                                      variant='text'\r\n                                                      size={'large'}\r\n                                                      labelKey={'cancel.button'}\r\n                                                      disabled={isSaving || remove}\r\n                                                      onClick={handleClose}\r\n                                                />\r\n                                          </Grid>\r\n                                    </Grid>\r\n                              </DialogActions>\r\n                        </Form>\r\n                  </Dialog> \r\n            </>\r\n      );\r\n};\r\n\r\nexport default EditModal;","import makeStyles from '@material-ui/core/styles/makeStyles';\nimport TreeItem from '@material-ui/lab/TreeItem';\nimport * as PropTypes from 'prop-types';\nimport Grid from '../../fhg/components/Grid';\nimport TypographyFHG from '../../fhg/components/Typography';\n\nconst useTreeItemStyles = makeStyles((theme) => ({\n   root: {\n      color: theme.palette.text.secondary,\n      // '&:hover $actionStyle': {\n      //    pointerEvents: 'none'\n      // },\n      '&:hover > $content': {\n         // backgroundColor: theme.palette.action.hover,\n      },\n      '&:focus > $content, &$selected > $content': {\n         // backgroundColor: `var(--tree-view-bg-color, ${theme.palette.action.selected})`,\n         // color: 'var(--tree-view-color)',\n      },\n      '&:focus > $content $label, &:hover > $content $label, &$selected > $content $label': {\n         // backgroundColor: 'transparent',\n      },\n      // '&:focus $actionStyle, &:hover $actionStyle, &$selected $actionStyle': {\n      //    backgroundColor: 'transparent',\n      // },\n   },\n   content: {\n      // color: theme.palette.text.secondary,\n      // borderTopRightRadius: theme.spacing(2),\n      // borderBottomRightRadius: theme.spacing(2),\n      // paddingRight: theme.spacing(1),\n      fontWeight: theme.typography.fontWeightMedium,\n      '$expanded > &': {\n         fontWeight: theme.typography.fontWeightRegular,\n      },\n      '& .labelRoot': {\n         fontWeight: theme.typography.fontWeightRegular,\n      },\n   },\n   group: {\n      marginLeft: 0,\n      '& $labelText': {\n         fontWeight: theme.typography.fontWeightRegular,\n         color: theme.palette.text.primary,\n         ...theme.typography.body1,\n      }\n   },\n   expanded: {},\n   selected: {},\n   label: {\n      fontWeight: 'inherit',\n      color: 'inherit',\n      '&:hover': {\n         backgroundColor: 'inherit',\n      },\n   },\n   labelRoot: {\n      padding: theme.spacing(0.5, 0),\n      ...theme.typography.h6,\n   },\n   labelIcon: {\n      marginRight: theme.spacing(1),\n   },\n   labelText: {\n      fontWeight: 'inherit',\n      flexGrow: 1,\n   },\n   actionStyle: {\n      backgroundColor: theme.palette.background.default,\n      // marginTop: -13,\n      // marginBottom: -13,\n      // float: 'right',\n      position: 'absolute',\n      right: 0,\n   }\n}));\n\nexport default function StyledTreeItem(props) {\n   const classes = useTreeItemStyles(props);\n   const {nodeId, labelText, labelIcon: LabelIcon, labelInfo, color, bgColor, action, children, ...other} = props;\n\n   return (\n      <TreeItem\n         nodeId={nodeId}\n         label={\n            <Grid container justify={'space-between'} alignItems={'center'} style={{position: 'relative'}}>\n               <Grid item className={classes.labelRoot}>\n                  {/*<LabelIcon color='inherit' className={classes.labelIcon}/>*/}\n                  <TypographyFHG variant='subtitle1' className={classes.labelText}>\n                     {labelText}\n                  </TypographyFHG>\n                  <TypographyFHG variant='caption' color='inherit'>\n                     {labelInfo}\n                  </TypographyFHG>\n               </Grid>\n               {action && (\n                  <Grid item className={classes.actionStyle}>\n                     {action}\n                  </Grid>\n               )}\n            </Grid>\n         }\n         style={{\n            '--tree-view-color': color,\n            '--tree-view-bg-color': bgColor,\n         }}\n         classes={{\n            root: classes.root,\n            content: classes.content,\n            expanded: classes.expanded,\n            selected: classes.selected,\n            group: classes.group,\n            label: classes.label,\n         }}\n         {...other}\n      >\n         {children}\n      </TreeItem>\n   );\n}\n\nStyledTreeItem.propTypes = {\n   bgColor: PropTypes.string,\n   color: PropTypes.string,\n   labelInfo: PropTypes.string,\n   labelText: PropTypes.string.isRequired,\n};\n","import makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport useTheme from '@material-ui/core/styles/useTheme';\r\nimport {Add} from '@material-ui/icons';\r\nimport {sortBy, defer} from 'lodash';\r\nimport React, {useMemo, useState} from 'react';\r\nimport {Link, useHistory, useParams, useLocation} from 'react-router-dom';\r\nimport {ADMIN_COURSES_PATH, COURSE_EDIT, MODULE_EDIT, ADMIN_COURSE_PATH, APPBAR_SMALL_HEIGHT, ADMIN_DRAWER} from '../../Constants';\r\nimport {lighten} from '@material-ui/core/styles';\r\nimport {COURSE_QUERY_WHERE, COURSE_DELETE, COURSE_CREATE_UPDATE} from '../../data/QueriesGL';\r\nimport ButtonFHG from '../../fhg/components/ButtonFHG';\r\nimport Grid from '../../fhg/components/Grid';\r\nimport ResponsiveMobileDrawer from '../../fhg/components/ResponsiveMobileDrawer';\r\nimport TypographyFHG from '../../fhg/components/Typography';\r\nimport useQueryFHG from '../../fhg/hooks/data/useQueryFHG';\r\nimport usePageTitle from '../../fhg/hooks/usePageTitle';\r\nimport Modules from './Modules';\r\nimport ModulesEdit from './ModulesEdit';\r\nimport Unit from './Unit';\r\nimport TreeView from '@material-ui/lab/TreeView';\r\nimport StyledTreeItem from './StyledTreeItem';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {Edit} from '@material-ui/icons';\r\nimport {Delete} from '@material-ui/icons';\r\nimport ConfirmIconButton from '../../fhg/components/ConfirmIconButton';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\r\nimport { cacheDelete, cacheUpdate } from '../../fhg/utils/DataUtil';\r\nimport {getCourseCacheQueries} from '../../data/QueriesGL';\r\nimport useMutationFHG from '../../fhg/hooks/data/useMutationFHG';\r\nimport clsx from 'clsx';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport {v4 as uuid} from 'uuid';\r\nimport TextFieldLF from '../../components/TextFieldLF';\r\nimport TextAreaField from '../../components/TextAreaField';\r\nimport Form from '../../fhg/components/edit/Form';\r\nimport ProgressButton from '../../fhg/components/ProgressButton';\r\n// import { WithContext as ReactTags } from 'react-tag-input';\r\nimport ReactTags from 'react-tag-autocomplete'\r\n\r\nimport \"./ReactTagsAutoComplete.scss\";\r\nimport axios from 'axios'\r\nconst DEFAULT_EXPANDED = ['course'];\r\n\r\nconst useStyles = makeStyles(\r\n   (theme) => ({\r\n      root: {\r\n         margin: theme.spacing(0, 2),\r\n      },\r\n      textRight: {\r\n         textAlign: 'right'\r\n      },\r\n      tags: {\r\n         padding: '10px 0',\r\n      },\r\n      floatRight:{\r\n         float: 'right'\r\n      },\r\n      tagInput: {\r\n         padding: '10px 0',\r\n      },\r\n      remove: {\r\n         border: 'none',\r\n         color: 'red',\r\n         margin: '0px 0 0 5px;',\r\n      },\r\n      tag: {\r\n         background: '#527928',\r\n         color: 'white',\r\n         width: '50px', \r\n         padding: '5px',\r\n         margin: '0 2px',\r\n         borderRadius: '6px',\r\n      },\r\n      tagInputField:{\r\n         // width: '100%',\r\n         paddingTop: '10.5px',\r\n         paddingBottom: '10.5px',\r\n         border: 'none',\r\n         borderBottom: '2px solid green',\r\n         color: '#527928',\r\n         // '&:focus': {\r\n         //    border: 'none',\r\n         //    borderBottom: '2px solid green',\r\n         // },\r\n      },\r\n      textAreaEditor:{\r\n         borderColor: 'rgba(0, 0, 0, 0.23)',\r\n         border: '0.5px solid',\r\n         borderRadius: '6px',\r\n         width: '100%'\r\n      },\r\n      legendColor:{\r\n         color: '#527928',\r\n         fontSize: '13px'\r\n      },\r\n      textDander:{\r\n         color: 'red'\r\n      },\r\n      innerGridStyle: {\r\n         overflowY: 'none !important' \r\n      },\r\n      drawerStyle: {\r\n         padding: theme.spacing(0, 2),\r\n      },\r\n      inputStyle: {\r\n         backgroundColor: theme.palette.background.default,\r\n      },\r\n      frameStyle: {\r\n         padding: theme.spacing(4, 0, 3, 2),\r\n      },\r\n      expand: {\r\n         transform: 'rotate(0deg)',\r\n         marginLeft: 'auto',\r\n         transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n         }),\r\n      },\r\n      expandOpen: {\r\n         transform: 'rotate(180deg)',\r\n      },\r\n      titleStyle: {\r\n         paddingTop: theme.spacing(3),\r\n      },\r\n      fadeArea: {\r\n         marginTop: theme.spacing(1),\r\n         padding: '5px 0px 0px 6px',\r\n         '&:hover $fadeIn': {\r\n            opacity: 1,\r\n            textDecoration: 'underline',\r\n         },\r\n      },\r\n      fadeIn: {\r\n         opacity: 0,\r\n      },\r\n      labelRoot: {\r\n         '&:hover $fadeIn': {\r\n            opacity: 1,\r\n         },\r\n      },\r\n      deleteColorStyle: {\r\n         backgroundColor: lighten(theme.palette.error.light, 0.7),\r\n         '&:hover': {\r\n            backgroundColor: lighten(theme.palette.error.light, 0.8),\r\n         },\r\n      },\r\n      deleteButtonStyle: {\r\n         '&:hover': {\r\n            color: theme.palette.error.main,\r\n         },\r\n      },\r\n      buttonStyle: {\r\n         height: 42,\r\n         backgroundColor: '#F4F4F4',\r\n         position: 'absolute',\r\n         right: 0,\r\n         top: 16,\r\n         zIndex: 1000,\r\n      },\r\n      treeLabelStyle: {\r\n         textDecoration: 'none',\r\n         cursor: 'pointer',\r\n         '&:hover': {\r\n            textDecoration: 'underline',\r\n         },\r\n      },\r\n      selectedBox: {\r\n         background: 'rgba(0, 0, 0, 0.04)'\r\n      },\r\n      clearAll: {\r\n         cursor: 'pointer',\r\n         padding: '4px 10px',\r\n         margin: '5px',\r\n         background: '#f88d8d',\r\n         color: '#fff',\r\n         border: 'none',\r\n         float: 'right',\r\n         '&:hover': {\r\n            background: '#f3adad',\r\n         },\r\n      },\r\n      scroller: {\r\n         height: '100%',\r\n         overflow: 'auto'\r\n      },\r\n      paper: {\r\n         position: 'absolute',\r\n         width: 800,\r\n         backgroundColor: theme.palette.background.paper,\r\n         border: '2px solid #000',\r\n         boxShadow: theme.shadows[5],\r\n         padding: theme.spacing(2, 4, 3),\r\n      },\r\n      textDanger: {\r\n         color: 'red'\r\n      }\r\n   }),\r\n   {name: 'UsersStyles'}\r\n);\r\nconst TREE_CONTENT_WIDTH = 250;\r\nfunction getModalStyle() {\r\n   const top = 50;\r\n   const left = 50;\r\n   return {\r\n     top: `${top}%`,\r\n     left: `${left}%`,\r\n     transform: `translate(-${top}%, -${left}%)`,\r\n   };\r\n}\r\nexport default function Users() {\r\n   const classes = useStyles();\r\n   const history = useHistory();\r\n   const theme = useTheme();\r\n   const {courseId, moduleId} = useParams();\r\n   const location = useLocation();\r\n\r\n   const [isChanged, setIsChanged] = useState(false);\r\n   const [editValues, setEditValues] = useState({\r\n      name: '',\r\n      description: '',\r\n   });\r\n   const [course_id, setCourseId] = useState('');\r\n   const [isSaving, setIsSaving] = useState(false);\r\n   const [courseCreateUpdate] = useMutationFHG(COURSE_CREATE_UPDATE);\r\n   const [expanded, setExpanded] = useState(DEFAULT_EXPANDED);\r\n   const [modalStyle] = React.useState(getModalStyle);\r\n   const [addNew, setAddNew] = useState(false);\r\n   const [CourseDelete] = useMutationFHG(COURSE_DELETE);\r\n   const [courseData] = useQueryFHG(COURSE_QUERY_WHERE, {variables: {active: true}}, 'lms.type');\r\n   const [tags, setTags] = React.useState([]);\r\n   const [error, setError] = useState(false);\r\n   const [errorMessage, setErrorMessage] = useState(null);\r\n   usePageTitle({titleKey: 'lms.admintitle.label'});\r\n\r\n   const sortedCourses = useMemo(() => {\r\n      console.log('courseData', courseData);\r\n      if (courseData?.courses) {\r\n         return sortBy(courseData?.courses, 'name');\r\n      }\r\n      return [];\r\n   }, [courseData]);\r\n\r\n   const suggestions = []\r\n   const KeyCodes = {\r\n      comma: 188,\r\n      enter: 13\r\n   }\r\n\r\n   const delimiters = [KeyCodes.comma, KeyCodes.enter];\r\n\r\n   const handleDelete = i => {\r\n      setTags(tags.filter((tag, index) => index !== i));\r\n   };\r\n\r\n   const handleAddition = tag => {\r\n      console.log('tag', tag)\r\n      setTags([...tags, tag]);\r\n   };\r\n\r\n   const handleDrag = (tag, currPos, newPos) => {\r\n      const newTags = tags.slice();\r\n      newTags.splice(currPos, 1);\r\n      newTags.splice(newPos, 0, tag);\r\n\r\n      // re-render\r\n      setTags(newTags);\r\n   };\r\n  \r\n    const handleTagClick = index => {\r\n      console.log('The tag at index ' + index + ' was clicked');\r\n    };\r\n\r\n   const handleNodeToggle = (event, expandedNodeIds) => {\r\n      setExpanded(expandedNodeIds);\r\n   }\r\n\r\n   const handleEditCourse = (event, course) => {\r\n      if (event) {\r\n         event.stopPropagation();\r\n         event.preventDefault();\r\n      }\r\n\r\n      if(course?.keywords?.length > 0){\r\n         setTags(JSON.parse(course?.keywords))\r\n         // delete data?.keywords\r\n      }\r\n\r\n      setCourseId(course?.id);\r\n      setEditValues(course);\r\n      setAddNew(addNew => !addNew)\r\n   };\r\n\r\n   const handleDeleteCourse = async (event, course) => {\r\n      if (event) {\r\n         event.stopPropagation();\r\n         event.preventDefault();\r\n      }\r\n      await CourseDelete({\r\n         variables: {id: course?.id},\r\n         optimisticResponse: {active: false},\r\n         update: cacheDelete(getCourseCacheQueries(), course?.id, 'courses'),\r\n      });\r\n      // edit data in aws CloudSearch\r\n      var options = {\r\n         method: 'GET',\r\n         // url: `https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document`,\r\n         url: `https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/search?q=${course?.id}&q.options=%7Bfields:%5B'course_id'%5D%7D`,\r\n         headers:{\r\n            'content-type': 'application/json',\r\n            'x-api-key': \"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M\",\r\n         },\r\n      };\r\n      axios(options)\r\n         .then((res) => res.data?.hits)\r\n         .then((hits) => hits?.hit)\r\n         .then((dataFound) => {\r\n            console.log('Data Found ::::::::::::::::::', dataFound.length)\r\n            dataFound.map(async(itm) => {\r\n               var options = {\r\n                  method: 'POST',\r\n                  url: `https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document`,\r\n                  headers:{\r\n                     'content-type': 'application/json',\r\n                     'x-api-key': \"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M\",\r\n                  },\r\n                  data: JSON.stringify([\r\n                     {\r\n                        \"id\" : itm?.id,\r\n                        \"type\" : \"delete\"\r\n                     }\r\n                  ])\r\n               };\r\n               axios(options)\r\n                  .then((res) => res.data)\r\n                  .then((res) => {\r\n                     if(res.status !==  'error') console.log('Data delete Successfully ::::::::::::::::::')\r\n                     else console.log('error ::::::::::::::::::', res?.message)\r\n                  })\r\n                  .catch((err) => {\r\n                     console.log('error while deleting data::::::::::::::::::',err)\r\n                  })\r\n            })\r\n         })\r\n         .catch((err) => {\r\n            console.log('err ::::::::::::::::::',err)\r\n         })\r\n      // end :- data updated in aws CloudSearch\r\n      history.push(ADMIN_COURSES_PATH);\r\n   };\r\n\r\n   const handleClose = () => {\r\n      setEditValues({\r\n         name: '',\r\n         order_no: null,\r\n      });\r\n      setTags([])\r\n      setError(null)\r\n      setCourseId('')\r\n      setErrorMessage(null)\r\n      setAddNew(false)\r\n   }\r\n\r\n   const handleChange = (e) => {\r\n      const target = e.target.name\r\n      const value = e.target.value\r\n      let trim = value.trim()\r\n      if(trim.length > 0){\r\n         setEditValues({\r\n            ...editValues,\r\n            [target]: value\r\n         })\r\n      }else{\r\n         setEditValues({\r\n            ...editValues,\r\n            [target]: ''\r\n         })\r\n      }\r\n   }\r\n   const handleSubmit = (async (type = null) => {\r\n      if(tags.length > 0){\r\n         try {\r\n            if(typeof editValues.keywords !== 'undefined' && editValues?.keywords && editValues?.keywords?.length > 0){\r\n               delete editValues.keywords\r\n            }\r\n            setIsSaving(true);\r\n            var variables = null\r\n            if(typeof editValues.id !== 'undefined' ){\r\n               variables = {...editValues, keywords: JSON.stringify(tags)};\r\n            }else{\r\n               variables = {id: uuid(), ...editValues, keywords: JSON.stringify(tags)};\r\n            }\r\n            await courseCreateUpdate({\r\n               variables,\r\n               optimisticResponse: {\r\n                  __typename: 'Mutation',\r\n                  courses: {\r\n                     __typename: 'Courses',\r\n                     ...editValues,\r\n                     keywords: JSON.stringify(tags)\r\n                  },\r\n               },\r\n               update: cacheUpdate(getCourseCacheQueries(), editValues.id, 'courses'),\r\n            });\r\n            if(type === 'edit'){\r\n               // edit data in aws CloudSearch\r\n               var options = {\r\n                  method: 'GET',\r\n                  // url: `https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document`,\r\n                  url: `https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/search?q=${course_id}&q.options=%7Bfields:%5B'course_id'%5D%7D`,\r\n                  headers:{\r\n                     'content-type': 'application/json',\r\n                     'x-api-key': \"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M\",\r\n                  },\r\n               };\r\n               axios(options)\r\n                  .then((res) => res.data?.hits)\r\n                  .then((hits) => hits?.hit)\r\n                  .then((dataFound) => {\r\n                     console.log('found ::::::::::::::::::', dataFound.length)\r\n                     dataFound.map(async(itm) => {\r\n                        console.log('dataFound ::::::::::::::::::', itm.fields)\r\n                        const keywords = []\r\n                        if(tags?.length > 0 ){\r\n                           await tags.map(itm => {\r\n                              keywords.push(itm.text)\r\n                           })\r\n                        }\r\n                        var options = {\r\n                           method: 'POST',\r\n                           url: `https://no3iyr7cae.execute-api.us-east-1.amazonaws.com/beta/document`,\r\n                           headers:{\r\n                              'content-type': 'application/json',\r\n                              'x-api-key': \"LhOZvNGn1D7FzkzYXvSDz4taXtKaEM393BURjH9M\",\r\n                           },\r\n                           data: JSON.stringify([\r\n                              {\r\n                                 \"fields\" : {\r\n                                    ...itm.fields, \r\n                                    course_name : variables.name,\r\n                                    course_description : variables.description,\r\n                                    course_keywords : keywords,\r\n                                 },\r\n                                 \"id\" : itm.id,\r\n                                 \"type\" : \"add\"\r\n                              }\r\n                           ])\r\n                        };\r\n                        axios(options)\r\n                           .then((res) => res.data)\r\n                           .then((res) => {\r\n                              if(res.status !==  'error') console.log('Data update Successfully ::::::::::::::::::')\r\n                              else console.log('error ::::::::::::::::::', res?.message)\r\n                           })\r\n                           .catch((err) => {\r\n                              console.log('error while uploading data::::::::::::::::::',err)\r\n                           })\r\n                     })\r\n                  })\r\n                  .catch((err) => {\r\n                     console.log('err ::::::::::::::::::',err)\r\n                  })\r\n               // end :- data updated in aws CloudSearch\r\n            }\r\n            setIsSaving(false);\r\n            // setIsChanged(false);\r\n            handleClose();\r\n         } catch (e) {\r\n            setIsSaving(false);\r\n         }\r\n      }else{\r\n         setError(true)\r\n         setErrorMessage('Atleast one Keyword is required')\r\n      }\r\n\r\n   });\r\n\r\n   const onClearAll = () => {\r\n      setTags([]);\r\n   };\r\n  \r\n   const onTagUpdate = (i, newTag) => {\r\n      const updatedTags = tags.slice();\r\n      updatedTags.splice(i, 1, newTag);\r\n      setTags(updatedTags);\r\n   };\r\n\r\n   const handleClickLink = (link, course) => {\r\n      location.state = {courseData: course};\r\n      location.pathname = link;\r\n      history.push(location);\r\n   };\r\n   return (\r\n      <>\r\n         <Modal\r\n            open={addNew}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"simple-modal-title\"\r\n            aria-describedby=\"simple-modal-description\"\r\n         >\r\n            <div style={modalStyle} className={classes.paper} >\r\n               <Form onSubmit={() =>  handleSubmit(editValues.id ? 'edit' : null) } className={classes.formStyle} encType={'multipart/form-data'}>\r\n                  <h2> { editValues.id ? 'Edit Course' : 'Add Course' } </h2>\r\n                  <Grid name={'Course Edit Root'} item fullWidth className={classes.infoRootStyle}>\r\n                     <Grid name={'Course Edit Inner'} container item fullWidth className={classes.infoInnerStyle}>\r\n                        <TypographyFHG variant={'h5'} id={'lms.title.label'} color={'textSecondary'} gutterBottom />\r\n                        <TextFieldLF\r\n                           key={'name'}\r\n                           name={'name'}\r\n                           autoFocus={true}\r\n                           labelTemplate={'lms.{name}.label'}\r\n                           onChange={(e) => handleChange(e)}\r\n                           value={editValues.name}\r\n                           required\r\n                        />\r\n                        <TextAreaField\r\n                           key={'description'}\r\n                           name={'description'}\r\n                           labelTemplate={'lms.{name}.label'}\r\n                           onChange={(e) => handleChange(e)}\r\n                           value={editValues.description}\r\n                           required\r\n                        />\r\n                        <fieldset aria-hidden=\"true\" className={classes.textAreaEditor} ><legend  className={classes.legendColor}><span>Keywords&nbsp;*</span></legend>\r\n                           <div >\r\n                              {/* <ReactTags\r\n                                 handleDelete={handleDelete}\r\n                                 handleAddition={handleAddition}\r\n                                 handleDrag={handleDrag}\r\n                                 handleTagClick={handleTagClick}\r\n                                 delimiters={delimiters}\r\n                                 onClearAll={onClearAll}\r\n                                 suggestions={suggestions}\r\n                                 onTagUpdate={onTagUpdate}\r\n                                 placeholder=\"Add Keywords...\"\r\n                                 // minQueryLength={2}\r\n                                 // maxLength={5}\r\n                                 autofocus={false}\r\n                                 allowDeleteFromEmptyInput={true}\r\n                                 autocomplete={true}\r\n                                 readOnly={false}\r\n                                 allowUnique={true}\r\n                                 allowDragDrop={true}\r\n                                 inline={true}\r\n                                 allowAdditionFromPaste={true}\r\n                                 editable={true}\r\n                                 clearAll={true}\r\n                                 tags={tags}\r\n                              /> */}\r\n                              <ReactTags\r\n                                 tags={tags}\r\n                                 suggestions={suggestions}\r\n                                 onDelete={handleDelete}\r\n                                 onAddition={handleAddition}\r\n                                 allowNew\r\n                                 allowBackspace={false}\r\n                                 removeButtonText=\"Click to remove keyword\"\r\n                                 placeholder=\"Add Keywords...\"\r\n                                 minQueryLength={1}\r\n                              />\r\n                              <ButtonFHG\r\n                                 variant='text'\r\n                                 size={'large'}\r\n                                 className={classes.clearAll}\r\n                                 labelKey={'clear.all'}\r\n                                 onClick={() => onClearAll()}\r\n                              />\r\n                           </div>\r\n                           {error &&\r\n                              <p className={classes.textDanger}>{errorMessage}</p>\r\n                           }\r\n                        </fieldset>\r\n                        <p className={classes.textDanger}> Note:Use Tab or Enter to separate tags. </p>\r\n                     </Grid>\r\n                  </Grid>\r\n                  <Grid container item direction={'row'} fullWidth className={classes.buttonPanelStyle} justify={'space-between'} overflow={'visible'} resizable={false} alignItems={'center'} >\r\n                     <Grid item>\r\n                        <ProgressButton\r\n                           isProgress={isSaving}\r\n                           variant='text'\r\n                           color='primary'\r\n                           type={'submit'}\r\n                           size='large'\r\n                           labelKey='save.label'\r\n                           disabled={isSaving}\r\n                        />\r\n                        <ButtonFHG\r\n                           variant='text'\r\n                           size={'large'}\r\n                           labelKey={'cancel.button'}\r\n                           disabled={isSaving}\r\n                           onClick={() => handleClose()}\r\n                        />\r\n                     </Grid>\r\n                  </Grid>\r\n               </Form>\r\n            </div>\r\n         </Modal>\r\n         <Grid container fullWidth fullHeight className={classes.frameStyle} direction={'row'} overflow={'visible'} wrap={'nowrap'} >\r\n            <Grid item fullHeight resizable={false}>\r\n               <ResponsiveMobileDrawer\r\n                  backgroundColor={theme.palette.background.default}\r\n                  width={ADMIN_DRAWER}\r\n                  ModalProps={{BackdropProps: {style: {height: '100%', marginTop: APPBAR_SMALL_HEIGHT}}}}\r\n               >\r\n                  <Grid item fullWidth className={classes.drawerStyle}>\r\n                     {/* <Grid container item resizable={false} direction={'row'}>\r\n                        <Grid item resizable={false} className={classes.infoInnerStyle}>\r\n                           <TypographyFHG variant={'h5'} id={'lms.course'} color={'textSecondary'} />\r\n                        </Grid>\r\n                        <Grid item>\r\n                           <ButtonFHG labelKey='lms.course.button' startIcon={<Add />} onClick={handleNewUser} />\r\n                        </Grid>\r\n                     </Grid> */}\r\n                     {/* <Grid isScrollable className={classes.root}> */}\r\n                     <Grid isScrollable container direction={'row'} justify={'flex-start'} fullHeight className={classes.innerGridStyle}>\r\n                        <TreeView\r\n                           className={classes.treeStyle}\r\n                           expanded={expanded}\r\n                           disableSelection\r\n                           defaultCollapseIcon={<ArrowDropDownIcon style={{fontSize: 28}} />}\r\n                           defaultExpandIcon={<ArrowRightIcon style={{fontSize: 28}} />}\r\n                           defaultEndIcon={<div style={{width: 24}} />}\r\n                           onNodeToggle={handleNodeToggle}\r\n                        >\r\n                           <div style={{position: 'relative', width: TREE_CONTENT_WIDTH}}>\r\n                              <ButtonFHG\r\n                                 startIcon={<Add />}\r\n                                 // onClick={handleNewUser}\r\n                                 onClick={() => setAddNew(addNew => !addNew) }\r\n                                 labelKey={'lms.course.button'}\r\n                                 className={classes.buttonStyle}\r\n                              />\r\n                              <StyledTreeItem nodeId='course' labelText={'Course'} className={classes.titleStyle}>\r\n                                 {sortedCourses.map((course) => (\r\n                                    <>\r\n                                       <Grid container direction={'row'} justify={'space-between'} className={classes.fadeArea}>\r\n                                          <Grid xs={9} item>\r\n                                             <TypographyFHG \r\n                                                variant='subtitle1' \r\n                                                color={'textPrimary'} \r\n                                                // component={Link}\r\n                                                // button\r\n                                                onClick={() => handleClickLink(`/admin/course/${course.id}`, course)}\r\n                                                // to={`/admin/course/${course.id}`}\r\n                                                selected={courseId === course.id}\r\n                                                className={classes.treeLabelStyle}\r\n                                             >\r\n                                                {course.name}\r\n                                             </TypographyFHG>\r\n                                          </Grid>\r\n                                          <Grid  xs={3} className={classes.textRight} item>\r\n                                             <ConfirmIconButton\r\n                                                className={`${classes.fadeIn} ${classes.deleteButtonStyle}`}\r\n                                                onConfirm={(e) => handleDeleteCourse(e, course)}\r\n                                                values={{type: 'course', name: course.name}}\r\n                                                messageKey={'confirmRemoveValue.message'}\r\n                                                buttonLabelKey={'delete.button'}\r\n                                                size={'small'}\r\n                                                submitStyle={classes.deleteColorStyle}\r\n                                                style={{float: 'right'}}\r\n                                                buttonTypographyProps={{\r\n                                                   // float: 'right',\r\n                                                   color: theme.palette.error.dark,\r\n                                                   style: {textDecoration: 'underline'},\r\n                                                }}\r\n                                             >\r\n                                                <Delete fontSize={'small'} />\r\n                                             </ConfirmIconButton>\r\n                                             <IconButton\r\n                                                size={'small'}\r\n                                                // style={{float: 'right'}}\r\n                                                onClick={(e) => handleEditCourse(e, course)}\r\n                                                className={classes.fadeIn}\r\n                                             >\r\n                                                <Edit fontSize={'small'} />\r\n                                             </IconButton>\r\n                                          </Grid>\r\n                                       </Grid>\r\n                                    </>\r\n                                 ))}\r\n                              </StyledTreeItem>\r\n                           </div>\r\n                        </TreeView>\r\n                     </Grid>\r\n                  </Grid>\r\n               </ResponsiveMobileDrawer>\r\n            </Grid>\r\n            {/* {location?.state?.edit === COURSE_EDIT && (\r\n               <Grid item container direction={'column'} overflow={'visible'} style={{maxWidth: 480}}>\r\n                  <CourseEdit isAdmin />\r\n               </Grid>\r\n            )} */}\r\n            {location?.state?.id !== courseId && courseId && (\r\n               <Grid item container direction={'column'} overflow={'visible'} style={{maxWidth: 500}}>\r\n                  <Modules isAdmin/>\r\n               </Grid>\r\n            )}\r\n            {/* {location?.state?.edit === MODULE_EDIT &&  (\r\n               <Grid item container direction={'column'} overflow={'visible'} style={{maxWidth: 500}}>\r\n                  <ModulesEdit isAdmin moduleId={location?.state?.id} />\r\n               </Grid>\r\n            )} */}\r\n            {moduleId && (\r\n               <Grid item container direction={'column'} overflow={'visible'} style={{maxWidth: 500}}>\r\n                  <Unit isAdmin moduleId={moduleId} />\r\n               </Grid>\r\n            )}\r\n         </Grid>\r\n      </>\r\n   );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import createMuiTheme from '@material-ui/core/styles/createMuiTheme';\nimport TextField from '@material-ui/core/TextField';\nimport get from 'lodash/get';\nimport React from 'react';\nimport NumberFormatCustom from '../fhg/components/NumberFormat';\nimport useMessage from '../fhg/hooks/useMessage';\nimport CustomInputTextField from './CustomInputTextField';\nimport ThemeProvider from './ThemeProvider';\n\nconst theme = createMuiTheme({\n   palette: {\n      text: {\n         secondary: '#707070',\n         primary: '#527928',\n      },\n   },\n});\n\n/**\n * The TextField with preset formats.\n\n * @param className\n * @param name\n * @param labelKey\n * @param placeholderKey\n * @param helpKey\n * @param helperText\n * @param defaultValue\n * @param value\n * @param onChange\n * @param margin\n * @param InputLabelProps\n * @param InputProps\n * @param label\n * @param fullWidth\n * @param isFormattedNumber\n * @param variant\n * @param size\n * @param labelTemplate\n * @param editData\n * @param classesProp\n * @param internalKey\n * @param textFieldProps\n * @param placeholder The placeholder for the text component.\n * @return {JSX.Element}\n * @constructor\n */\nexport default function TextFieldLF({\n   className,\n   name,\n   labelKey,\n   placeholderKey,\n   helpKey,\n   helperText,\n   defaultValue,\n   value,\n   onChange,\n   margin = 'normal',\n   InputLabelProps,\n   InputProps,\n   label,\n   fullWidth = true,\n   isFormattedNumber,\n   variant = 'outlined',\n   size = 'small',\n   labelTemplate,\n   editData,\n   classes: classesProp,\n   internalKey,\n   placeholder,\n   ...textFieldProps\n}) {\n   const classes = {...classesProp};\n   const useLabelKey = labelTemplate?.format({name}) || labelKey;\n   const currentLabel = useMessage(useLabelKey, label);\n   const currentPlaceholder = useMessage(placeholderKey) || placeholder;\n   const helpText = useMessage(helpKey, helperText) || helperText;\n\n   const useInputProps = {\n      ...InputProps,\n   };\n\n   if (isFormattedNumber) {\n      if (get(InputProps, 'inputComponent') || get(InputProps, 'inputProps.component')) {\n         console.log('isFormattedNumber cannot have a different input component.', InputProps);\n      }\n      useInputProps.inputComponent = CustomInputTextField;\n      useInputProps.inputProps =\n         {...get(InputProps, 'inputProps', {}), ...(textFieldProps.inputProps || {}), component: NumberFormatCustom};\n   }\n\n   return (\n      <ThemeProvider theme={theme}>\n         <TextField\n            {...textFieldProps}\n            key={'internal' + internalKey}\n            name={name}\n            className={`${classes.textFieldStyle} ${className}`}\n            label={currentLabel}\n            placeholder={currentPlaceholder}\n            helperText={helpText}\n            defaultValue={defaultValue}\n            value={value}\n            onChange={onChange}\n            InputProps={useInputProps}\n            InputLabelProps={{\n               ...InputLabelProps,\n               shrink: true,\n            }}\n            variant={variant}\n            size={size}\n            margin={margin}\n            fullWidth={fullWidth}\n         />\n      </ThemeProvider>\n   );\n}\n","// eslint-disable-next-line\nimport Button, {ButtonProps} from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Typography from './Typography';\n\nconst useStyles = makeStyles(theme => ({\n   spinnerMargin: {\n      marginLeft: theme.spacing(0.5),\n      color: 'white',\n   },\n   darkSpinnerMargin: {\n      marginLeft: theme.spacing(0.5),\n      color: theme.palette.primary.main,\n   },\n}), {name: 'ProgressButtonStyles'});\n\n/**\n * Button Component to show progress.\n *\n * Reviewed:\n */\nProgressButton.propTypes = {\n   isProgress: PropTypes.bool.isRequired, //Indicates if the progress should be showing.\n   labelKey: PropTypes.string,            // Localization key for the button label.\n   typographyProps: PropTypes.any,        // The properties for the typography component.\n   ...Button.propTypes,\n};\n\n/**\n *\n * @param isProgress\n * @param labelKey\n * @param isSpinnerDark Indicates if the spinner should be dark.\n * @param children\n * @param typographyProps\n * @param buttonProperties {ButtonProps}\n * @return {JSX.Element}\n * @constructor\n */\nexport default function ProgressButton({isProgress = false, labelKey, isSpinnerLight = false, children, typographyProps, ...buttonProperties}) {\n   const classes = useStyles();\n\n   return (\n      <Button {...buttonProperties}>\n         {labelKey && (\n            <Typography variant={'inherit'} id={labelKey} {...typographyProps}/>\n         )}\n         {children}\n         {isProgress && <CircularProgress className={buttonProperties?.classes?.spinnerMargin || (!isSpinnerLight ? classes.darkSpinnerMargin : classes.spinnerMargin)} size={15} thickness={2.5}/>}\n      </Button>\n   );\n}\n\n","import PropTypes from 'prop-types';\nimport React, {useRef, useEffect, forwardRef} from 'react';\n\n/**\n * Form component that handles custom validation and removing prevents default for the submit event.\n *\n * Reviewed: 3/26/20\n */\nconst Form = forwardRef(\nfunction Form({onSubmit, onValid, validate, customValidity, reportInvalid, children, ...props}, ref) {\n   const useFormEl = useRef();\n   const formEl = ref || useFormEl;\n\n   /**\n    * Rechecks validity if the checkValidity prop changes.\n    */\n   useEffect(() => {\n      /**\n       * Validate the form data. Calls customValidity if the rest of the form is valid.\n       *\n       * @param isReport True if the validity should be reported.\n       * @return {boolean} True if the form is valid and the custom validity is valid.\n       */\n      const checkValidity = (isReport = true) => {\n         let isValid;\n         let form = formEl.current;\n         if (form) {\n            // noinspection JSUnresolvedFunction\n            isValid = form.checkValidity();\n            if (isValid && customValidity) {\n               isValid = customValidity();\n            }\n            if (!isValid && isReport) {\n               // noinspection JSUnresolvedFunction\n               return form.reportValidity();\n            }\n            return isValid\n         }\n         return true;\n      };\n\n      if (validate && checkValidity(reportInvalid)) {\n         onValid && onValid()\n      }\n   }, [validate, reportInvalid, customValidity, onValid, formEl]);\n\n   /**\n    * Rechecks validity if the checkValidity prop changes.\n    *\n    * @param prevProps\n    * @param prevState\n    * @param snapshot\n    */\n\n   /**\n    * Submits the form data and prevents the default for the submit event.\n    * @param event The submit event.\n    */\n   const submitHandler = (event) => {\n      event && event.preventDefault();\n      event && event.stopPropagation();\n      let form = formEl.current;\n      let isValid = true;\n\n      if (customValidity) {\n         isValid = customValidity();\n      }\n      if (!isValid && reportInvalid) {\n         // noinspection JSUnresolvedFunction\n         return form.reportValidity();\n      }\n\n      if (isValid) {\n         onSubmit && onSubmit(event);\n      }\n   };\n\n   return (\n      <form ref={formEl} onSubmit={submitHandler} {...props} className={props.className}>\n         {children}\n      </form>\n   );\n});\n\nForm.propTypes = {\n   validate: PropTypes.bool,           // True to force validation.\n   reportInvalid: PropTypes.bool,      // True to report when invalid. Can prevent reporting if needed.\n   onValid: PropTypes.func,            // Callback when the form is valid.\n   onSubmit: PropTypes.func,           // Submit callback to submit the form inputs.\n   customValidity: PropTypes.func,     // A validity check from the parent component.\n};\n\nForm.defaultProps = {\n   validate: false,\n   reportInvalid: true,\n};\n\nexport default Form;"],"sourceRoot":""}